[
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "React/Next.js",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://dev.to/feed/tag/react",
    "title": "I Fixed Stale Data Across Every Screen in React Native with 3 React Query Patterns",
    "partialText": "&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;Environment:&lt;/strong&gt; React Native 0.76+ · @tanstack/react-query v5 · TypeScript&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;I was building a React Native app where users could interact with the same data from multiple screens. Everything seemed fine during early testing until I noticed something deeply frustrating: &lt;strong&gt;updating data on one screen didn't reflect on another until I manually refreshed it.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Sound familiar? Here's how I diagnosed it, fixed it with 3 focused React Query patterns, and what I learned along the way.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  The Problem\n&lt;/h2&gt;\n\n&lt;p&gt;The app had three screens showing overlapping data:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;Screen A&lt;/strong&gt; : Shows a list of items&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Screen B&lt;/strong&gt; : Shows the same items in a different view&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Screen C&lt;/strong&gt; : Shows item details with edit capability&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;When a user marked an item complete on Screen A, navigating to Screen B still showed it as incomplete. Users had to pull-to-refresh on every screen after every action. The app felt broken, because it was.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Root Cause: Isolated State\n&lt;/h2&gt;\n\n&lt;p&gt;After some digging, the culprit was clear. Each screen used its own hook with independent &lt;code&gt;useState&lt;/code&gt;:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;useState&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;react&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;api&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;../lib/api&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Screen A hook&lt;/span&gt;\n&lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;useListA&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;setItems&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useState&lt;/span&gt;&lt;span class=\"p\"&gt;([]);&lt;/span&gt;\n\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;markComplete&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;async &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;api&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;markComplete&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"nf\"&gt;setItems&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;prev&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;prev&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;map&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;item&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;item&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;id&lt;/span&gt; &lt;span class=\"o\"&gt;===&lt;/span&gt; &lt;span class=\"nx\"&gt;id&lt;/span&gt; &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"p\"&gt;...&lt;/span&gt;&lt;span class=\"nx\"&gt;item&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"na\"&gt;completed&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kc\"&gt;true&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;item&lt;/span&gt;\n    &lt;span class=\"p\"&gt;));&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// Other screens have no idea this happened&lt;/span&gt;\n  &lt;span class=\"p\"&gt;};&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Screen B hook — completely separate state&lt;/span&gt;\n&lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;useListB&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;setItems&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useState&lt;/span&gt;&lt;span class=\"p\"&gt;([]);&lt;/span&gt;\n  &lt;span class=\"c1\"&gt;// No connection to Screen A's state whatsoever&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;The architecture looked like this:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;Screen A          Screen B          Screen C\n   │                 │                 │\n   ▼                 ▼                 ▼\nuseState          useState          useState\n(isolated)        (isolated)        (isolated)\n   │                 │                 │\n   └─────────────────┴─────────────────┘\n                     │\n                     ▼\n                 Backend API\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;Each screen fetched and managed data independently. When one mutated data, the others had no idea. This isn't a bug, it's the natural consequence of uncoordinated local state managing shared server data.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Why Not Just Use Zustand?\n&lt;/h2&gt;\n\n&lt;p&gt;This question comes up a lot, and it's worth addressing directly before diving into the solution.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Zustand is a client state manager.&lt;/strong&gt; It's excellent for data that lives purely inside your app UI state, filter selections, modal toggles, user preferences. It has no built-in concept of staleness, background refetching, or cache invalidation because it doesn't need one.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;React Query is a server state manager.&lt;/strong&gt; It's designed specifically for data that originates from a backend for fetching, caching, deduplicating requests, and keeping that data fresh across your app.&lt;/p&gt;\n\n&lt;p&gt;Using Zustand to solve this problem would mean manually writing all the cache logic React Query gives you for free. In fact, the ideal architecture uses &lt;strong&gt;both&lt;/strong&gt; React Query for server data, Zustand for client-only state. That's a topic for another post. For now, our problem is server state sync, so React Query is the right tool.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  The Fix: 3 React Query Patterns\n&lt;/h2&gt;\n\n&lt;p&gt;I had React Query installed but wasn't using it effectively each screen was still managing its own fetch lifecycle. The fix came down to three focused patterns.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Pattern 1: A Query Keys Factory\n&lt;/h3&gt;\n\n&lt;p&gt;A centralised key system is what makes targeted cache invalidation possible. Instead of scattering string literals across your codebase, you define them once:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// lib/query-keys.ts&lt;/span&gt;\n&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;queryKeys&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"na\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"na\"&gt;all&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;items&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"k\"&gt;as&lt;/span&gt; &lt;span class=\"kd\"&gt;const&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;list&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"na\"&gt;userId&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;items&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;list&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;userId&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"k\"&gt;as&lt;/span&gt; &lt;span class=\"kd\"&gt;const&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;detail&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"na\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;items&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;detail&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"k\"&gt;as&lt;/span&gt; &lt;span class=\"kd\"&gt;const&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt;\n&lt;span class=\"p\"&gt;};&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Define what needs invalidating after each action&lt;/span&gt;\n&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;invalidationGroups&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"na\"&gt;itemUpdated&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;queryKeys&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;all&lt;/span&gt;&lt;span class=\"p\"&gt;],&lt;/span&gt;\n  &lt;span class=\"na\"&gt;itemCreated&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;queryKeys&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;all&lt;/span&gt;&lt;span class=\"p\"&gt;],&lt;/span&gt;\n  &lt;span class=\"na\"&gt;itemDeleted&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;queryKeys&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;all&lt;/span&gt;&lt;span class=\"p\"&gt;],&lt;/span&gt;\n&lt;span class=\"p\"&gt;};&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;The &lt;code&gt;as const&lt;/code&gt; assertions give you full TypeScript inference downstream. Grouping by action means you invalidate precisely what's needed.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Pattern 2: Mutations with Auto-Invalidation\n&lt;/h3&gt;\n\n&lt;p&gt;This is where the real magic happens. Mutation hooks that automatically invalidate related queries after every operation:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// hooks/useMarkComplete.ts&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;useMutation&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;useQueryClient&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;@tanstack/react-query&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;api&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;../lib/api&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;queryKeys&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;invalidationGroups&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;../lib/query-keys&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// useSessionStore is a Zustand store holding auth state.&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// Replace this with however your app stores the current user —&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// Clerk, Firebase Auth, Supabase, or your own auth hook.&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;useSessionStore&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;../store/useSessionStore&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"kr\"&gt;interface&lt;/span&gt; &lt;span class=\"nx\"&gt;Item&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;completed&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;boolean&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"c1\"&gt;// ...other fields&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;useMarkComplete&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useQueryClient&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;userId&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useSessionStore&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;state&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;state&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;userId&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"nf\"&gt;useMutation&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n    &lt;span class=\"na\"&gt;mutationFn&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"na\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;api&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;markComplete&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n\n    &lt;span class=\"c1\"&gt;// Optimistic update — instant UI feedback before the API responds&lt;/span&gt;\n    &lt;span class=\"na\"&gt;onMutate&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;async &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"c1\"&gt;// Cancel any in-flight queries to prevent race conditions&lt;/span&gt;\n      &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;cancelQueries&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt; &lt;span class=\"na\"&gt;queryKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;queryKeys&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;all&lt;/span&gt; &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n      &lt;span class=\"c1\"&gt;// Snapshot current data so we can roll back if needed&lt;/span&gt;\n      &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;previous&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;getQueryData&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;queryKeys&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;list&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;userId&lt;/span&gt;&lt;span class=\"o\"&gt;!&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n\n      &lt;span class=\"c1\"&gt;// Optimistically update the cache right now&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;setQueryData&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;queryKeys&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;list&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;userId&lt;/span&gt;&lt;span class=\"o\"&gt;!&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n        &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"na\"&gt;old&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;Item&lt;/span&gt;&lt;span class=\"p\"&gt;[]&lt;/span&gt; &lt;span class=\"o\"&gt;|&lt;/span&gt; &lt;span class=\"kc\"&gt;undefined&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt;\n          &lt;span class=\"nx\"&gt;old&lt;/span&gt;&lt;span class=\"p\"&gt;?.&lt;/span&gt;&lt;span class=\"nf\"&gt;map&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;item&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;item&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;id&lt;/span&gt; &lt;span class=\"o\"&gt;===&lt;/span&gt; &lt;span class=\"nx\"&gt;id&lt;/span&gt; &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"p\"&gt;...&lt;/span&gt;&lt;span class=\"nx\"&gt;item&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"na\"&gt;completed&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kc\"&gt;true&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;item&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n      &lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n      &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;previous&lt;/span&gt; &lt;span class=\"p\"&gt;};&lt;/span&gt;\n    &lt;span class=\"p\"&gt;},&lt;/span&gt;\n\n    &lt;span class=\"c1\"&gt;// Rollback on error — restore the snapshot&lt;/span&gt;\n    &lt;span class=\"na\"&gt;onError&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;_err&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;_id&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;context&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;context&lt;/span&gt;&lt;span class=\"p\"&gt;?.&lt;/span&gt;&lt;span class=\"nx\"&gt;previous&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;setQueryData&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;queryKeys&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;list&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;userId&lt;/span&gt;&lt;span class=\"o\"&gt;!&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt; &lt;span class=\"nx\"&gt;context&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;previous&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n      &lt;span class=\"p\"&gt;}&lt;/span&gt;\n      &lt;span class=\"c1\"&gt;// Surface the error to your UI here — toast, alert, inline message, etc.&lt;/span&gt;\n    &lt;span class=\"p\"&gt;},&lt;/span&gt;\n\n    &lt;span class=\"c1\"&gt;// Use onSettled (not onSuccess) so invalidation fires on both&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// success AND error — prevents stale data after a failed mutation&lt;/span&gt;\n    &lt;span class=\"na\"&gt;onSettled&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;invalidationGroups&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;itemUpdated&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;forEach&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;key&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;invalidateQueries&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt; &lt;span class=\"na\"&gt;queryKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;key&lt;/span&gt; &lt;span class=\"p\"&gt;});&lt;/span&gt;\n      &lt;span class=\"p\"&gt;});&lt;/span&gt;\n    &lt;span class=\"p\"&gt;},&lt;/span&gt;\n  &lt;span class=\"p\"&gt;});&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;Why &lt;code&gt;onSettled&lt;/code&gt; instead of &lt;code&gt;onSuccess&lt;/code&gt;?&lt;/strong&gt; If we only invalidate on success, a failed mutation leaves the cache with the optimistically-updated (incorrect) data indefinitely. &lt;code&gt;onSettled&lt;/code&gt; runs regardless of outcome, so the cache always resolves to ground truth after any mutation. This is the React Query v5 recommended approach.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;A common v5 confusion:&lt;/strong&gt; React Query v5 removed &lt;code&gt;onSuccess&lt;/code&gt;, &lt;code&gt;onError&lt;/code&gt;, and &lt;code&gt;onSettled&lt;/code&gt; callbacks from &lt;code&gt;useQuery&lt;/code&gt; and &lt;code&gt;useInfiniteQuery&lt;/code&gt; but they remain &lt;strong&gt;fully supported in &lt;code&gt;useMutation&lt;/code&gt;&lt;/strong&gt;. Mutations are imperative by nature, so callbacks are still the right model there. The switch to &lt;code&gt;onSettled&lt;/code&gt; here is a best-practice recommendation, not a required v5 migration.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Why &lt;code&gt;userId!&lt;/code&gt;?&lt;/strong&gt; The non-null assertion is safe here because the query is guarded with &lt;code&gt;enabled: !!userId&lt;/code&gt; (see Pattern 3 below). The query will never fire and therefore this mutation will never be callable when &lt;code&gt;userId&lt;/code&gt; is null.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;h3&gt;\n  \n  \n  Pattern 3: Connect to React Native App State\n&lt;/h3&gt;\n\n&lt;p&gt;React Query's &lt;code&gt;refetchOnWindowFocus&lt;/code&gt; works automatically in web browsers, but React Native needs an explicit bridge to the OS-level app state:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// app/_layout.tsx&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;QueryClient&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;QueryClientProvider&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;focusManager&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;@tanstack/react-query&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;AppState&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;AppStateStatus&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;react-native&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;useEffect&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;react&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Note: In React Query v5, `cacheTime` was renamed to `gcTime`.&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// If you're on v4, use `cacheTime` instead of `gcTime`.&lt;/span&gt;\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nc\"&gt;QueryClient&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n  &lt;span class=\"na\"&gt;defaultOptions&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"na\"&gt;queries&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"na\"&gt;staleTime&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"mi\"&gt;2&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"mi\"&gt;60&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"mi\"&gt;1000&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;   &lt;span class=\"c1\"&gt;// Data is fresh for 2 minutes&lt;/span&gt;\n      &lt;span class=\"na\"&gt;gcTime&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"mi\"&gt;5&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"mi\"&gt;60&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"mi\"&gt;1000&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;      &lt;span class=\"c1\"&gt;// Cache persists for 5 minutes after unmount&lt;/span&gt;\n      &lt;span class=\"na\"&gt;refetchOnWindowFocus&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kc\"&gt;true&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"p\"&gt;},&lt;/span&gt;\n    &lt;span class=\"na\"&gt;mutations&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"na\"&gt;retry&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"mi\"&gt;0&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"c1\"&gt;// Don't auto-retry mutations — let the user decide&lt;/span&gt;\n    &lt;span class=\"p\"&gt;},&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt;\n&lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Bridges React Native's AppState to React Query's focus manager.&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// Without this, refetchOnWindowFocus does nothing in a native context.&lt;/span&gt;\n&lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;AppStateHandler&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"nf\"&gt;useEffect&lt;/span&gt;&lt;span class=\"p\"&gt;(()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;subscription&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;AppState&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;addEventListener&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n      &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;change&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"na\"&gt;status&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;AppStateStatus&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;focusManager&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;setFocused&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;status&lt;/span&gt; &lt;span class=\"o\"&gt;===&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;active&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n      &lt;span class=\"p\"&gt;}&lt;/span&gt;\n    &lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"k\"&gt;return &lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;subscription&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;remove&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt; &lt;span class=\"p\"&gt;[]);&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"kc\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"k\"&gt;default&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;RootLayout&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;return &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;QueryClientProvider&lt;/span&gt; &lt;span class=\"nx\"&gt;client&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;queryClient&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;AppStateHandler&lt;/span&gt; &lt;span class=\"o\"&gt;/&amp;gt;&lt;/span&gt;\n      &lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"cm\"&gt;/* rest of your app */&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;\n    &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"sr\"&gt;/QueryClientProvider&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;  &lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;When the user backgrounds and returns to the app, &lt;code&gt;focusManager&lt;/code&gt; triggers a refetch of any stale queries keeping data fresh across app sessions, not just screen navigations.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  The New Architecture\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;Screen A          Screen B          Screen C\n   │                 │                 │\n   └─────────────────┴─────────────────┘\n                     │\n                     ▼\n   ┌─────────────────────────────────────┐\n   │     React Query Shared Cache        │\n   │         ['items'] queries           │\n   └─────────────────────────────────────┘\n                     │\n        ┌────────────┴────────────┐\n        │                         │\n        ▼                         ▼\n   On Mutation:              All screens\n   invalidateQueries()  →    auto-refetch\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;Now when any screen calls &lt;code&gt;markComplete()&lt;/code&gt;:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;UI updates instantly via the optimistic update&lt;/li&gt;\n&lt;li&gt;API call happens in the background&lt;/li&gt;\n&lt;li&gt;On settle (success or error), related queries are invalidated&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Every screen subscribed to those queries auto-refreshes&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;No manual refresh. No stale data. No coordination code between screens.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Keeping It Backward Compatible\n&lt;/h2&gt;\n\n&lt;p&gt;One concern with refactoring is breaking existing screens. The cleanest approach is to wrap the new React Query internals behind the same hook interface your screens already use:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// hooks/useItems.ts&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;useQuery&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;useQueryClient&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;@tanstack/react-query&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;api&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;../lib/api&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;queryKeys&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;../lib/query-keys&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;useMarkComplete&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;./useMarkComplete&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;useSessionStore&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;../store/useSessionStore&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;useItems&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useQueryClient&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;userId&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useSessionStore&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;state&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;state&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;userId&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;markCompleteMutation&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useMarkComplete&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;query&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useQuery&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n    &lt;span class=\"na\"&gt;queryKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;queryKeys&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;list&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;userId&lt;/span&gt;&lt;span class=\"o\"&gt;!&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"na\"&gt;queryFn&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;api&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;getItems&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;userId&lt;/span&gt;&lt;span class=\"o\"&gt;!&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// Only fetches when userId exists — makes the userId! assertion above safe&lt;/span&gt;\n    &lt;span class=\"na\"&gt;enabled&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"o\"&gt;!!&lt;/span&gt;&lt;span class=\"nx\"&gt;userId&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// Same shape as before — existing screens need zero changes&lt;/span&gt;\n    &lt;span class=\"na\"&gt;data&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;query&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;data&lt;/span&gt; &lt;span class=\"o\"&gt;??&lt;/span&gt; &lt;span class=\"p\"&gt;[],&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// isPending is the correct v5 flag for \"data not loaded yet\".&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// isLoading was redefined in v5 as isPending &amp;amp;&amp;amp; isFetching, which&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// returns false when enabled: false — causing a silent empty-state&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// bug on first render before userId is available.&lt;/span&gt;\n    &lt;span class=\"na\"&gt;loading&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;query&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;isPending&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;refreshing&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;query&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;isRefetching&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;error&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;query&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;error&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// mutateAsync returns a Promise and throws on error — wrap in try/catch.&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// Use mutate instead if you prefer fire-and-forget without error throwing.&lt;/span&gt;\n    &lt;span class=\"na\"&gt;markComplete&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"na\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;markCompleteMutation&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;mutateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"na\"&gt;refresh&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;invalidateQueries&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n      &lt;span class=\"na\"&gt;queryKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;queryKeys&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;all&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}),&lt;/span&gt;\n  &lt;span class=\"p\"&gt;};&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;Your screens call &lt;code&gt;useItems()&lt;/code&gt; exactly as they did before. The sync behaviour is just... there now.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Quick Start Template\n&lt;/h2&gt;\n\n&lt;p&gt;If you're starting fresh:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight shell\"&gt;&lt;code&gt;npm &lt;span class=\"nb\"&gt;install&lt;/span&gt; @tanstack/react-query\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;useQuery&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;useMutation&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;useQueryClient&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;@tanstack/react-query&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;api&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;../lib/api&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// 1. Query keys&lt;/span&gt;\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;keys&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"na\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"na\"&gt;all&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;items&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"k\"&gt;as&lt;/span&gt; &lt;span class=\"kd\"&gt;const&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;list&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;items&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;list&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"k\"&gt;as&lt;/span&gt; &lt;span class=\"kd\"&gt;const&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;};&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// 2. Query hook&lt;/span&gt;\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;useItems&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;useQuery&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n  &lt;span class=\"na\"&gt;queryKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;keys&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;list&lt;/span&gt;&lt;span class=\"p\"&gt;(),&lt;/span&gt;\n  &lt;span class=\"na\"&gt;queryFn&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;api&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;getItems&lt;/span&gt;&lt;span class=\"p\"&gt;(),&lt;/span&gt;\n  &lt;span class=\"na\"&gt;staleTime&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"mi\"&gt;2&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"mi\"&gt;60&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"mi\"&gt;1000&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n&lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// 3. Mutation with invalidation on settle&lt;/span&gt;\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;useUpdateItem&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useQueryClient&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"nf\"&gt;useMutation&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n    &lt;span class=\"na\"&gt;mutationFn&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"na\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;api&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;updateItem&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"na\"&gt;onSettled&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;invalidateQueries&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt; &lt;span class=\"na\"&gt;queryKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;keys&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;items&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;all&lt;/span&gt; &lt;span class=\"p\"&gt;});&lt;/span&gt;\n    &lt;span class=\"p\"&gt;},&lt;/span&gt;\n  &lt;span class=\"p\"&gt;});&lt;/span&gt;\n&lt;span class=\"p\"&gt;};&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// 4. Use in any screen — they'll all stay in sync&lt;/span&gt;\n&lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;AnyScreen&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;data&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useItems&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"na\"&gt;mutate&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;update&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useUpdateItem&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n  &lt;span class=\"c1\"&gt;// Replace data[0]?.id with however you get the target item's id&lt;/span&gt;\n  &lt;span class=\"c1\"&gt;// e.g. from route params, a selected state, a FlatList renderItem, etc.&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;itemId&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;data&lt;/span&gt;&lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"mi\"&gt;0&lt;/span&gt;&lt;span class=\"p\"&gt;]?.&lt;/span&gt;&lt;span class=\"nx\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;Button&lt;/span&gt; &lt;span class=\"nx\"&gt;onPress&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"p\"&gt;{()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;update&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;itemId&lt;/span&gt;&lt;span class=\"p\"&gt;)}&lt;/span&gt; &lt;span class=\"nx\"&gt;title&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Mark Complete&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt; &lt;span class=\"o\"&gt;/&amp;gt;&lt;/span&gt;\n  &lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Key Takeaways\n&lt;/h2&gt;\n\n&lt;p&gt;&lt;strong&gt;Multiple &lt;code&gt;useState&lt;/code&gt; hooks for the same server data will always drift.&lt;/strong&gt; It's not a discipline problem, it's an architectural one. Centralise with React Query.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Design your query keys for invalidation from the start.&lt;/strong&gt; Flat string keys are fine for small apps, but a factory pattern scales cleanly and eliminates typo bugs.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Use &lt;code&gt;onSettled&lt;/code&gt;, not &lt;code&gt;onSuccess&lt;/code&gt;, for cache invalidation.&lt;/strong&gt; It guarantees the cache resolves to ground truth after every mutation, regardless of outcome.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Always guard queries with &lt;code&gt;enabled: !!userId&lt;/code&gt;.&lt;/strong&gt; In React Native, auth state often isn't available on the first render. Without this guard, your query fires with a null user ID and fails silently.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Optimistic updates are table stakes in 2026.&lt;/strong&gt; Users expect instant feedback. The rollback pattern handles failures gracefully without complex error state.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Backward-compatible migrations are always possible.&lt;/strong&gt; Wrap new internals behind existing interfaces and refactor incrementally without coordinating a team-wide rewrite.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;React Native needs explicit AppState integration.&lt;/strong&gt; Don't skip the &lt;code&gt;focusManager&lt;/code&gt; setup without it, &lt;code&gt;refetchOnWindowFocus&lt;/code&gt; is a silent no-op in a native context.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  What's Next\n&lt;/h2&gt;\n\n&lt;p&gt;This solves server state sync cleanly. But what about client-only state — filters, selections, UI flags — that also needs to be shared across screens?&lt;/p&gt;\n\n&lt;p&gt;That's where Zustand comes in, and it pairs beautifully with React Query. Upcoming Post covers how to combine both tools into a complete React Native state architecture, with clear boundaries on what belongs where.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;&lt;em&gt;Have you been managing cross-screen state with manual refreshes? Or already using React Query, what patterns have worked for you? Drop a comment below.&lt;/em&gt;&lt;/p&gt;",
    "date": "2026-02-25T15:40:26.000Z",
    "url": "https://dev.to/likhit/i-fixed-stale-data-across-every-screen-in-react-native-with-3-react-query-patterns-5fd5"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "React/Next.js",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://dev.to/feed/tag/react",
    "title": "Building a Social Platform with Client-Side End-to-End Encryption",
    "partialText": "&lt;h2&gt;\n  \n  \n  series: Building Moltyverse\n&lt;/h2&gt;\n\n&lt;p&gt;&lt;em&gt;This is a detailed technical walkthrough of how I built a privacy-first social platform where the server literally can't read what users post. If you're interested in cryptography, React architecture, or privacy engineering, this is for you.&lt;/em&gt;&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  The Challenge\n&lt;/h2&gt;\n\n&lt;p&gt;Build a social media platform with these constraints:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;\n&lt;strong&gt;End-to-end encryption&lt;/strong&gt; – Server stores only ciphertext&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Client-side crypto&lt;/strong&gt; – All encryption/decryption in the browser&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Normal social features&lt;/strong&gt; – Likes, comments, shares (on encrypted content)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Zero tracking&lt;/strong&gt; – No analytics, fingerprinting, or third-party scripts&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Open source&lt;/strong&gt; – MIT license, fully auditable&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Sound impossible? It wasn't easy. Here's how I did it.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Architecture Overview\n&lt;/h2&gt;\n\n&lt;h3&gt;\n  \n  \n  The Stack\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;Frontend:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;React 18 + TypeScript&lt;/li&gt;\n&lt;li&gt;Vite (build tool)&lt;/li&gt;\n&lt;li&gt;TanStack Query (server state)&lt;/li&gt;\n&lt;li&gt;Zustand (client state)&lt;/li&gt;\n&lt;li&gt;libsodium.js (cryptography)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Backend:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Node.js + Fastify&lt;/li&gt;\n&lt;li&gt;PostgreSQL&lt;/li&gt;\n&lt;li&gt;Docker + docker-compose&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Crypto:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;libsodium (NaCl crypto library)&lt;/li&gt;\n&lt;li&gt;XSalsa20-Poly1305 (symmetric encryption)&lt;/li&gt;\n&lt;li&gt;X25519 (key exchange)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;\n  \n  \n  The Flow\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;┌─────────────┐         ┌──────────────┐         ┌─────────────┐\n│   Browser   │         │    Server    │         │  Database   │\n│             │         │              │         │             │\n│  Encrypt    │────────▶│   Store      │────────▶│  Ciphertext │\n│  (libsodium)│         │  (no decrypt)│         │             │\n│             │         │              │         │             │\n│  Decrypt    │◀────────│   Retrieve   │◀────────│  Ciphertext │\n│  (libsodium)│         │              │         │             │\n└─────────────┘         └──────────────┘         └─────────────┘\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Key insight:&lt;/strong&gt; The server is a &lt;em&gt;dumb pipe&lt;/em&gt;. It routes ciphertext and manages metadata (who, when, where) but never sees plaintext.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Part 1: The Cryptography\n&lt;/h2&gt;\n\n&lt;h3&gt;\n  \n  \n  Why libsodium?\n&lt;/h3&gt;\n\n&lt;p&gt;I evaluated several crypto libraries:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;WebCrypto API:&lt;/strong&gt; Browser-native, but limited (no sealed boxes, complex API)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;TweetNaCl:&lt;/strong&gt; Lightweight, but slow (pure JS)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;libsodium.js:&lt;/strong&gt; Battle-tested, WASM-fast, comprehensive&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Winner:&lt;/strong&gt; libsodium.js – Best balance of security, performance, and ease-of-use.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  The Crypto Primitives\n&lt;/h3&gt;\n\n&lt;h4&gt;\n  \n  \n  1. User Keypairs (X25519)\n&lt;/h4&gt;\n\n&lt;p&gt;Every user gets a public/private keypair on signup:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;libsodium-wrappers&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;generateUserKeypair&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;ready&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;keypair&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;crypto_box_keypair&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"na\"&gt;publicKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;to_base64&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;keypair&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;publicKey&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"na\"&gt;privateKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;to_base64&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;keypair&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;privateKey&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt; &lt;span class=\"c1\"&gt;// Never sent to server!&lt;/span&gt;\n  &lt;span class=\"p\"&gt;};&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Critical:&lt;/strong&gt; The private key &lt;em&gt;never leaves the browser&lt;/em&gt;. It's stored in memory or encrypted localStorage.&lt;/p&gt;\n\n&lt;h4&gt;\n  \n  \n  2. Group Keys (Symmetric)\n&lt;/h4&gt;\n\n&lt;p&gt;Each group has a shared symmetric key:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;generateGroupKey&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;ready&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;key&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;crypto_secretbox_keygen&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n  &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;to_base64&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;key&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;When you join a group, the key is encrypted &lt;em&gt;to you&lt;/em&gt; using your public key:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;encryptGroupKeyForUser&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n  &lt;span class=\"nx\"&gt;groupKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"nx\"&gt;recipientPublicKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;\n&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;ready&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;groupKeyBytes&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;from_base64&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;groupKey&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;recipientPubKeyBytes&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;from_base64&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;recipientPublicKey&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;encryptedKey&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;crypto_box_seal&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;groupKeyBytes&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;recipientPubKeyBytes&lt;/span&gt;\n  &lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;to_base64&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;encryptedKey&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;How it works:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Group key is generated once&lt;/li&gt;\n&lt;li&gt;For each member, the key is encrypted with their public key&lt;/li&gt;\n&lt;li&gt;Members decrypt the group key with their private key&lt;/li&gt;\n&lt;li&gt;Now everyone can encrypt/decrypt group posts&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h4&gt;\n  \n  \n  3. Post Encryption (XSalsa20-Poly1305)\n&lt;/h4&gt;\n\n&lt;p&gt;Posts are encrypted with the group key:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;encryptPost&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;plaintext&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;groupKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;ready&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;groupKeyBytes&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;from_base64&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;groupKey&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;nonce&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;randombytes_buf&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;crypto_secretbox_NONCEBYTES&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;ciphertext&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;crypto_secretbox_easy&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;plaintext&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;nonce&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;groupKeyBytes&lt;/span&gt;\n  &lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"na\"&gt;ciphertext&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;to_base64&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;ciphertext&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"na\"&gt;nonce&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;to_base64&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;nonce&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n  &lt;span class=\"p\"&gt;};&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Why XSalsa20-Poly1305?&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Fast (WASM makes it near-native speed)&lt;/li&gt;\n&lt;li&gt;Authenticated (Poly1305 MAC prevents tampering)&lt;/li&gt;\n&lt;li&gt;Proven secure (used in Signal, WireGuard, etc.)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h4&gt;\n  \n  \n  4. Decryption\n&lt;/h4&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;decryptPost&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n  &lt;span class=\"nx\"&gt;ciphertext&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"nx\"&gt;nonce&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"nx\"&gt;groupKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;\n&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;ready&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;ciphertextBytes&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;from_base64&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;ciphertext&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;nonceBytes&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;from_base64&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;nonce&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;groupKeyBytes&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;from_base64&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;groupKey&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;plaintext&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;crypto_secretbox_open_easy&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;ciphertextBytes&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;nonceBytes&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;groupKeyBytes&lt;/span&gt;\n  &lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;to_string&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;plaintext&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Part 2: Key Management\n&lt;/h2&gt;\n\n&lt;p&gt;This is the hardest part. Users don't think in \"encryption keys.\"&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  The Problem\n&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;User private key:&lt;/strong&gt; Must persist across sessions, but never leave the client&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Group keys:&lt;/strong&gt; Must be shared securely with group members&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Key rotation:&lt;/strong&gt; When someone leaves a group, keys must rotate&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;\n  \n  \n  The Solution: Layered Encryption\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;Layer 1: User's Master Key&lt;/strong&gt;&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;User password → PBKDF2 → Master key (stays in memory)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Layer 2: Encrypted Private Key&lt;/strong&gt;&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;User private key → Encrypted with master key → Stored in localStorage\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Layer 3: Group Keys&lt;/strong&gt;&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;Group key → Encrypted per-user with their public key → Stored on server\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  The Flow\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;Signup:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;User sets password&lt;/li&gt;\n&lt;li&gt;Derive master key from password (PBKDF2)&lt;/li&gt;\n&lt;li&gt;Generate user keypair (public/private)&lt;/li&gt;\n&lt;li&gt;Encrypt private key with master key&lt;/li&gt;\n&lt;li&gt;Send public key + encrypted private key to server&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;&lt;strong&gt;Login:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;User enters password&lt;/li&gt;\n&lt;li&gt;Derive master key from password&lt;/li&gt;\n&lt;li&gt;Fetch encrypted private key from server&lt;/li&gt;\n&lt;li&gt;Decrypt private key with master key&lt;/li&gt;\n&lt;li&gt;Load into memory&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;&lt;strong&gt;Join Group:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Fetch encrypted group key from server&lt;/li&gt;\n&lt;li&gt;Decrypt group key with user's private key&lt;/li&gt;\n&lt;li&gt;Store in memory (or encrypted localStorage)&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;&lt;strong&gt;Post to Group:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Get group key from memory&lt;/li&gt;\n&lt;li&gt;Encrypt post with group key&lt;/li&gt;\n&lt;li&gt;Send ciphertext to server&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h3&gt;\n  \n  \n  Key Rotation\n&lt;/h3&gt;\n\n&lt;p&gt;When a user leaves a group:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;rotateGroupKey&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;members&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;User&lt;/span&gt;&lt;span class=\"p\"&gt;[])&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"c1\"&gt;// 1. Generate new group key&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;newGroupKey&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nf\"&gt;generateGroupKey&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n  &lt;span class=\"c1\"&gt;// 2. Encrypt new key for each remaining member&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;encryptedKeys&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nb\"&gt;Promise&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;all&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;members&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;map&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;member&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt;\n      &lt;span class=\"nf\"&gt;encryptGroupKeyForUser&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;newGroupKey&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;member&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;publicKey&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;)&lt;/span&gt;\n  &lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n  &lt;span class=\"c1\"&gt;// 3. Send to server&lt;/span&gt;\n  &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;api&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;rotateGroupKey&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;encryptedKeys&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n  &lt;span class=\"c1\"&gt;// 4. Old posts stay encrypted with old key&lt;/span&gt;\n  &lt;span class=\"c1\"&gt;// 5. New posts use new key&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Trade-off:&lt;/strong&gt; Old messages aren't re-encrypted (expensive). So if you were in the group, you can still decrypt old messages.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Future improvement:&lt;/strong&gt; Full forward secrecy (re-encrypt history on rotation). Computationally expensive, but possible.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Part 3: React Integration\n&lt;/h2&gt;\n\n&lt;p&gt;Integrating crypto into a React app has challenges:&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Challenge 1: Async Crypto Everywhere\n&lt;/h3&gt;\n\n&lt;p&gt;Encryption/decryption is async. React state is sync.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt; Use TanStack Query for async state management:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;useQuery&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;useMutation&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;@tanstack/react-query&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;useEncryptedPosts&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;groupKey&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useGroupKey&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"nf\"&gt;useQuery&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n    &lt;span class=\"na\"&gt;queryKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;posts&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;],&lt;/span&gt;\n    &lt;span class=\"na\"&gt;queryFn&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;async &lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"c1\"&gt;// Fetch encrypted posts&lt;/span&gt;\n      &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;encryptedPosts&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;api&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;getPosts&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n      &lt;span class=\"c1\"&gt;// Decrypt client-side&lt;/span&gt;\n      &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;decryptedPosts&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nb\"&gt;Promise&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;all&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;encryptedPosts&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;map&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"k\"&gt;async &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;post&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n          &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;plaintext&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nf\"&gt;decryptPost&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n            &lt;span class=\"nx\"&gt;post&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;ciphertext&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"nx\"&gt;post&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;nonce&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"nx\"&gt;groupKey&lt;/span&gt;\n          &lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n          &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"p\"&gt;...&lt;/span&gt;&lt;span class=\"nx\"&gt;post&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"na\"&gt;content&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;plaintext&lt;/span&gt; &lt;span class=\"p\"&gt;};&lt;/span&gt;\n        &lt;span class=\"p\"&gt;})&lt;/span&gt;\n      &lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n      &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"nx\"&gt;decryptedPosts&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;},&lt;/span&gt;\n    &lt;span class=\"na\"&gt;enabled&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"o\"&gt;!!&lt;/span&gt;&lt;span class=\"nx\"&gt;groupKey&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"c1\"&gt;// Only run if we have the key&lt;/span&gt;\n  &lt;span class=\"p\"&gt;});&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  Challenge 2: Optimistic Updates\n&lt;/h3&gt;\n\n&lt;p&gt;Users expect instant feedback. But we need to encrypt before sending.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt; Optimistic updates with encrypted data:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;createPostMutation&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useMutation&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n  &lt;span class=\"na\"&gt;mutationFn&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;async &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"na\"&gt;plaintext&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// Encrypt locally&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;ciphertext&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;nonce&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nf\"&gt;encryptPost&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;plaintext&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;groupKey&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n    &lt;span class=\"c1\"&gt;// Send to server&lt;/span&gt;\n    &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"nx\"&gt;api&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;createPost&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt; &lt;span class=\"nx\"&gt;ciphertext&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;nonce&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;groupId&lt;/span&gt; &lt;span class=\"p\"&gt;});&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt;\n\n  &lt;span class=\"na\"&gt;onMutate&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;async &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;plaintext&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// Cancel outgoing queries&lt;/span&gt;\n    &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;cancelQueries&lt;/span&gt;&lt;span class=\"p\"&gt;([&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;posts&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;]);&lt;/span&gt;\n\n    &lt;span class=\"c1\"&gt;// Snapshot current data&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;previousPosts&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;getQueryData&lt;/span&gt;&lt;span class=\"p\"&gt;([&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;posts&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;]);&lt;/span&gt;\n\n    &lt;span class=\"c1\"&gt;// Optimistically update&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;setQueryData&lt;/span&gt;&lt;span class=\"p\"&gt;([&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;posts&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;],&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;old&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;\n      &lt;span class=\"p\"&gt;...&lt;/span&gt;&lt;span class=\"nx\"&gt;old&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"na\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;temp&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"na\"&gt;content&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;plaintext&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"na\"&gt;status&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;sending&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt; &lt;span class=\"p\"&gt;},&lt;/span&gt;\n    &lt;span class=\"p\"&gt;]);&lt;/span&gt;\n\n    &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;previousPosts&lt;/span&gt; &lt;span class=\"p\"&gt;};&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt;\n\n  &lt;span class=\"na\"&gt;onError&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;err&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;variables&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;context&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// Rollback on error&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;setQueryData&lt;/span&gt;&lt;span class=\"p\"&gt;([&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;posts&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;],&lt;/span&gt; &lt;span class=\"nx\"&gt;context&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;previousPosts&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt;\n\n  &lt;span class=\"na\"&gt;onSuccess&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// Refetch to get real post from server&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;queryClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;invalidateQueries&lt;/span&gt;&lt;span class=\"p\"&gt;([&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;posts&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;]);&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt;\n&lt;span class=\"p\"&gt;});&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  Challenge 3: Key Management State\n&lt;/h3&gt;\n\n&lt;p&gt;User keys, group keys, session state – lots to track.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt; Zustand for crypto state:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;create&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;zustand&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;persist&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;zustand/middleware&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"kr\"&gt;interface&lt;/span&gt; &lt;span class=\"nx\"&gt;CryptoStore&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;userPrivateKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt; &lt;span class=\"o\"&gt;|&lt;/span&gt; &lt;span class=\"kc\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;userPublicKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt; &lt;span class=\"o\"&gt;|&lt;/span&gt; &lt;span class=\"kc\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;groupKeys&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nb\"&gt;Record&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;setUserKeys&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;publicKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;privateKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"k\"&gt;void&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;setGroupKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;key&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"k\"&gt;void&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;clearKeys&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"k\"&gt;void&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;useCryptoStore&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;create&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;CryptoStore&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt;&lt;span class=\"p\"&gt;()(&lt;/span&gt;\n  &lt;span class=\"nf\"&gt;persist&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"kd\"&gt;set&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;({&lt;/span&gt;\n      &lt;span class=\"na\"&gt;userPrivateKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kc\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"na\"&gt;userPublicKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kc\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"na\"&gt;groupKeys&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{},&lt;/span&gt;\n\n      &lt;span class=\"na\"&gt;setUserKeys&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;publicKey&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;privateKey&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt;\n        &lt;span class=\"nf\"&gt;set&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt; &lt;span class=\"na\"&gt;userPublicKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;publicKey&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"na\"&gt;userPrivateKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;privateKey&lt;/span&gt; &lt;span class=\"p\"&gt;}),&lt;/span&gt;\n\n      &lt;span class=\"na\"&gt;setGroupKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;key&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt;\n        &lt;span class=\"nf\"&gt;set&lt;/span&gt;&lt;span class=\"p\"&gt;((&lt;/span&gt;&lt;span class=\"nx\"&gt;state&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;({&lt;/span&gt;\n          &lt;span class=\"na\"&gt;groupKeys&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"p\"&gt;...&lt;/span&gt;&lt;span class=\"nx\"&gt;state&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;groupKeys&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;]:&lt;/span&gt; &lt;span class=\"nx\"&gt;key&lt;/span&gt; &lt;span class=\"p\"&gt;},&lt;/span&gt;\n        &lt;span class=\"p\"&gt;})),&lt;/span&gt;\n\n      &lt;span class=\"na\"&gt;clearKeys&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt;\n        &lt;span class=\"nf\"&gt;set&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt; &lt;span class=\"na\"&gt;userPrivateKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kc\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"na\"&gt;userPublicKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kc\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"na\"&gt;groupKeys&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{}&lt;/span&gt; &lt;span class=\"p\"&gt;}),&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}),&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;crypto-storage&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"c1\"&gt;// Encrypt localStorage values with user's master key&lt;/span&gt;\n      &lt;span class=\"na\"&gt;serialize&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;state&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;encryptState&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;state&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n      &lt;span class=\"na\"&gt;deserialize&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;str&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;decryptState&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;str&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n  &lt;span class=\"p\"&gt;)&lt;/span&gt;\n&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  Challenge 4: Secure Components\n&lt;/h3&gt;\n\n&lt;p&gt;Don't want to copy crypto logic everywhere.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt; Build secure components:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"kr\"&gt;interface&lt;/span&gt; &lt;span class=\"nx\"&gt;SecureInputProps&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;value&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;onChange&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;value&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"k\"&gt;void&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;groupKey&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;placeholder&lt;/span&gt;&lt;span class=\"p\"&gt;?:&lt;/span&gt; &lt;span class=\"kr\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n&lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;SecureInput&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt; &lt;span class=\"nx\"&gt;value&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;onChange&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;groupKey&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;placeholder&lt;/span&gt; &lt;span class=\"p\"&gt;}:&lt;/span&gt; &lt;span class=\"nx\"&gt;SecureInputProps&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;isEncrypting&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;setIsEncrypting&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useState&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"kc\"&gt;false&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;handleSubmit&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;async &lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"nf\"&gt;setIsEncrypting&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"kc\"&gt;true&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n    &lt;span class=\"k\"&gt;try&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;ciphertext&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;nonce&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nf\"&gt;encryptPost&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;value&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;groupKey&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n      &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;api&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;createPost&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt; &lt;span class=\"nx\"&gt;ciphertext&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;nonce&lt;/span&gt; &lt;span class=\"p\"&gt;});&lt;/span&gt;\n      &lt;span class=\"nf\"&gt;onChange&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;''&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt; &lt;span class=\"c1\"&gt;// Clear input&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;finally&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"nf\"&gt;setIsEncrypting&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"kc\"&gt;false&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n  &lt;span class=\"p\"&gt;};&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;div&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;textarea&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;value&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;value&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;onChange&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"p\"&gt;{(&lt;/span&gt;&lt;span class=\"nx\"&gt;e&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;onChange&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;e&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;target&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;value&lt;/span&gt;&lt;span class=\"p\"&gt;)}&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;placeholder&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;placeholder&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;\n      &lt;span class=\"sr\"&gt;/&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;      &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;button&lt;/span&gt; &lt;span class=\"nx\"&gt;onClick&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;handleSubmit&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"nx\"&gt;disabled&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;isEncrypting&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;isEncrypting&lt;/span&gt; &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;Encrypting...&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;Post&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;\n      &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"sr\"&gt;/button&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;    &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"sr\"&gt;/div&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;  &lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Part 4: Performance Optimizations\n&lt;/h2&gt;\n\n&lt;p&gt;Client-side crypto has overhead. Here's how I made it fast:&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  1. Lazy-Load libsodium\n&lt;/h3&gt;\n\n&lt;p&gt;Don't block initial render:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"kd\"&gt;let&lt;/span&gt; &lt;span class=\"nx\"&gt;sodiumReady&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nb\"&gt;Promise&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"k\"&gt;void&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt; &lt;span class=\"o\"&gt;|&lt;/span&gt; &lt;span class=\"kc\"&gt;null&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"kc\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;ensureSodiumReady&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"o\"&gt;!&lt;/span&gt;&lt;span class=\"nx\"&gt;sodiumReady&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;sodiumReady&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;sodium&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;ready&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt;\n  &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"nx\"&gt;sodiumReady&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  2. Memoize Keys\n&lt;/h3&gt;\n\n&lt;p&gt;Don't re-derive keys on every render:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;groupKey&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useMemo&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n  &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;cryptoStore&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;groupKeys&lt;/span&gt;&lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;],&lt;/span&gt;\n  &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;cryptoStore&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;groupKeys&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt;\n&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  3. Batch Decryption\n&lt;/h3&gt;\n\n&lt;p&gt;Decrypt multiple posts in parallel:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;decryptedPosts&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nb\"&gt;Promise&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;all&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n  &lt;span class=\"nx\"&gt;encryptedPosts&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;map&lt;/span&gt;&lt;span class=\"p\"&gt;((&lt;/span&gt;&lt;span class=\"nx\"&gt;post&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;decryptPost&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;post&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;ciphertext&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;post&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;nonce&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;groupKey&lt;/span&gt;&lt;span class=\"p\"&gt;))&lt;/span&gt;\n&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  4. WebAssembly Crypto\n&lt;/h3&gt;\n\n&lt;p&gt;libsodium.js compiles to WASM, which is ~10-50x faster than pure JS crypto.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Benchmark (MacBook Pro M1):&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Encrypt 1000 posts: ~50ms (WASM) vs ~2000ms (pure JS)&lt;/li&gt;\n&lt;li&gt;Decrypt 1000 posts: ~45ms (WASM) vs ~1900ms (pure JS)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;\n  \n  \n  5. Code Splitting\n&lt;/h3&gt;\n\n&lt;p&gt;Don't load crypto module until needed:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;CryptoModule&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;lazy&lt;/span&gt;&lt;span class=\"p\"&gt;(()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"k\"&gt;import&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;./crypto&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n\n&lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;App&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;isAuthenticated&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useAuth&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;Suspense&lt;/span&gt; &lt;span class=\"nx\"&gt;fallback&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;Loading&lt;/span&gt; &lt;span class=\"o\"&gt;/&amp;gt;&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;isAuthenticated&lt;/span&gt; &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;CryptoModule&lt;/span&gt; &lt;span class=\"o\"&gt;/&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;Login&lt;/span&gt; &lt;span class=\"o\"&gt;/&amp;gt;&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;\n    &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"sr\"&gt;/Suspense&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;  &lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Part 5: The Server Side\n&lt;/h2&gt;\n\n&lt;p&gt;The backend is deliberately simple. No ML, no analytics, no content inspection.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Database Schema\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight sql\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;CREATE&lt;/span&gt; &lt;span class=\"k\"&gt;TABLE&lt;/span&gt; &lt;span class=\"n\"&gt;users&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;\n  &lt;span class=\"n\"&gt;id&lt;/span&gt; &lt;span class=\"n\"&gt;UUID&lt;/span&gt; &lt;span class=\"k\"&gt;PRIMARY&lt;/span&gt; &lt;span class=\"k\"&gt;KEY&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"n\"&gt;username&lt;/span&gt; &lt;span class=\"nb\"&gt;TEXT&lt;/span&gt; &lt;span class=\"k\"&gt;UNIQUE&lt;/span&gt; &lt;span class=\"k\"&gt;NOT&lt;/span&gt; &lt;span class=\"k\"&gt;NULL&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"n\"&gt;public_key&lt;/span&gt; &lt;span class=\"nb\"&gt;TEXT&lt;/span&gt; &lt;span class=\"k\"&gt;NOT&lt;/span&gt; &lt;span class=\"k\"&gt;NULL&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"n\"&gt;encrypted_private_key&lt;/span&gt; &lt;span class=\"nb\"&gt;TEXT&lt;/span&gt; &lt;span class=\"k\"&gt;NOT&lt;/span&gt; &lt;span class=\"k\"&gt;NULL&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"c1\"&gt;-- Encrypted by user's password&lt;/span&gt;\n  &lt;span class=\"n\"&gt;created_at&lt;/span&gt; &lt;span class=\"n\"&gt;TIMESTAMPTZ&lt;/span&gt; &lt;span class=\"k\"&gt;DEFAULT&lt;/span&gt; &lt;span class=\"n\"&gt;NOW&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n&lt;span class=\"k\"&gt;CREATE&lt;/span&gt; &lt;span class=\"k\"&gt;TABLE&lt;/span&gt; &lt;span class=\"n\"&gt;groups&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;\n  &lt;span class=\"n\"&gt;id&lt;/span&gt; &lt;span class=\"n\"&gt;UUID&lt;/span&gt; &lt;span class=\"k\"&gt;PRIMARY&lt;/span&gt; &lt;span class=\"k\"&gt;KEY&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"n\"&gt;name&lt;/span&gt; &lt;span class=\"nb\"&gt;TEXT&lt;/span&gt; &lt;span class=\"k\"&gt;NOT&lt;/span&gt; &lt;span class=\"k\"&gt;NULL&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"c1\"&gt;-- Can be encrypted too&lt;/span&gt;\n  &lt;span class=\"n\"&gt;created_at&lt;/span&gt; &lt;span class=\"n\"&gt;TIMESTAMPTZ&lt;/span&gt; &lt;span class=\"k\"&gt;DEFAULT&lt;/span&gt; &lt;span class=\"n\"&gt;NOW&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n&lt;span class=\"k\"&gt;CREATE&lt;/span&gt; &lt;span class=\"k\"&gt;TABLE&lt;/span&gt; &lt;span class=\"n\"&gt;group_members&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;\n  &lt;span class=\"n\"&gt;group_id&lt;/span&gt; &lt;span class=\"n\"&gt;UUID&lt;/span&gt; &lt;span class=\"k\"&gt;REFERENCES&lt;/span&gt; &lt;span class=\"n\"&gt;groups&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n  &lt;span class=\"n\"&gt;user_id&lt;/span&gt; &lt;span class=\"n\"&gt;UUID&lt;/span&gt; &lt;span class=\"k\"&gt;REFERENCES&lt;/span&gt; &lt;span class=\"n\"&gt;users&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n  &lt;span class=\"n\"&gt;encrypted_group_key&lt;/span&gt; &lt;span class=\"nb\"&gt;TEXT&lt;/span&gt; &lt;span class=\"k\"&gt;NOT&lt;/span&gt; &lt;span class=\"k\"&gt;NULL&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"c1\"&gt;-- Encrypted per-user&lt;/span&gt;\n  &lt;span class=\"n\"&gt;joined_at&lt;/span&gt; &lt;span class=\"n\"&gt;TIMESTAMPTZ&lt;/span&gt; &lt;span class=\"k\"&gt;DEFAULT&lt;/span&gt; &lt;span class=\"n\"&gt;NOW&lt;/span&gt;&lt;span class=\"p\"&gt;(),&lt;/span&gt;\n  &lt;span class=\"k\"&gt;PRIMARY&lt;/span&gt; &lt;span class=\"k\"&gt;KEY&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;group_id&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;user_id&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n&lt;span class=\"k\"&gt;CREATE&lt;/span&gt; &lt;span class=\"k\"&gt;TABLE&lt;/span&gt; &lt;span class=\"n\"&gt;posts&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;\n  &lt;span class=\"n\"&gt;id&lt;/span&gt; &lt;span class=\"n\"&gt;UUID&lt;/span&gt; &lt;span class=\"k\"&gt;PRIMARY&lt;/span&gt; &lt;span class=\"k\"&gt;KEY&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"n\"&gt;group_id&lt;/span&gt; &lt;span class=\"n\"&gt;UUID&lt;/span&gt; &lt;span class=\"k\"&gt;REFERENCES&lt;/span&gt; &lt;span class=\"n\"&gt;groups&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n  &lt;span class=\"n\"&gt;author_id&lt;/span&gt; &lt;span class=\"n\"&gt;UUID&lt;/span&gt; &lt;span class=\"k\"&gt;REFERENCES&lt;/span&gt; &lt;span class=\"n\"&gt;users&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n  &lt;span class=\"n\"&gt;ciphertext&lt;/span&gt; &lt;span class=\"nb\"&gt;TEXT&lt;/span&gt; &lt;span class=\"k\"&gt;NOT&lt;/span&gt; &lt;span class=\"k\"&gt;NULL&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"c1\"&gt;-- Can't read this!&lt;/span&gt;\n  &lt;span class=\"n\"&gt;nonce&lt;/span&gt; &lt;span class=\"nb\"&gt;TEXT&lt;/span&gt; &lt;span class=\"k\"&gt;NOT&lt;/span&gt; &lt;span class=\"k\"&gt;NULL&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"n\"&gt;created_at&lt;/span&gt; &lt;span class=\"n\"&gt;TIMESTAMPTZ&lt;/span&gt; &lt;span class=\"k\"&gt;DEFAULT&lt;/span&gt; &lt;span class=\"n\"&gt;NOW&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Key points:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Server stores &lt;code&gt;ciphertext&lt;/code&gt;, not plaintext&lt;/li&gt;\n&lt;li&gt;\n&lt;code&gt;encrypted_group_key&lt;/code&gt; is per-user (encrypted with their public key)&lt;/li&gt;\n&lt;li&gt;Server never has the group key in plaintext&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;\n  \n  \n  API Endpoints\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// Create encrypted post&lt;/span&gt;\n&lt;span class=\"nx\"&gt;app&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;post&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;/posts&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;async &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;req&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;res&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;ciphertext&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;nonce&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;req&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;body&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;authorId&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;req&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;user&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n  &lt;span class=\"c1\"&gt;// No decryption attempt – just store it&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;post&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;db&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;posts&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;create&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;groupId&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;authorId&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;ciphertext&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;nonce&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n  &lt;span class=\"nx\"&gt;res&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;json&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;post&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Get encrypted posts&lt;/span&gt;\n&lt;span class=\"nx\"&gt;app&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;get&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;/groups/:groupId/posts&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;async &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;req&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;res&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;groupId&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;req&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;params&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n  &lt;span class=\"c1\"&gt;// Return ciphertext – client decrypts&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;posts&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;db&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;posts&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;findMany&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n    &lt;span class=\"na\"&gt;where&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;groupId&lt;/span&gt; &lt;span class=\"p\"&gt;},&lt;/span&gt;\n    &lt;span class=\"na\"&gt;orderBy&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"na\"&gt;createdAt&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;desc&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt; &lt;span class=\"p\"&gt;},&lt;/span&gt;\n  &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n  &lt;span class=\"nx\"&gt;res&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;json&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;posts&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;});&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Philosophy:&lt;/strong&gt; The server is a storage layer. It knows &lt;em&gt;metadata&lt;/em&gt; (who, when, where) but not &lt;em&gt;content&lt;/em&gt; (what).&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Part 6: Security Considerations\n&lt;/h2&gt;\n\n&lt;h3&gt;\n  \n  \n  What's Protected\n&lt;/h3&gt;\n\n&lt;p&gt;✅ &lt;strong&gt;Content:&lt;/strong&gt; Posts, messages, comments encrypted&lt;br&gt;&lt;br&gt;\n✅ &lt;strong&gt;Attachments:&lt;/strong&gt; Images/files encrypted before upload&lt;br&gt;&lt;br&gt;\n✅ &lt;strong&gt;Group data:&lt;/strong&gt; Group keys encrypted per-user&lt;br&gt;&lt;br&gt;\n✅ &lt;strong&gt;User keys:&lt;/strong&gt; Private keys never touch the server  &lt;/p&gt;\n&lt;h3&gt;\n  \n  \n  What's NOT Protected (Yet)\n&lt;/h3&gt;\n\n&lt;p&gt;⚠️ &lt;strong&gt;Metadata:&lt;/strong&gt; Server knows who posts when&lt;br&gt;&lt;br&gt;\n⚠️ &lt;strong&gt;Social graph:&lt;/strong&gt; Server knows who's in which groups&lt;br&gt;&lt;br&gt;\n⚠️ &lt;strong&gt;Timing:&lt;/strong&gt; Server knows when you're active&lt;br&gt;&lt;br&gt;\n⚠️ &lt;strong&gt;IP addresses:&lt;/strong&gt; Standard web server logging  &lt;/p&gt;\n&lt;h3&gt;\n  \n  \n  Threat Model\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;Protected against:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;✅ Server admin reading posts&lt;/li&gt;\n&lt;li&gt;✅ Database breach exposing content&lt;/li&gt;\n&lt;li&gt;✅ Law enforcement compelling content disclosure&lt;/li&gt;\n&lt;li&gt;✅ Third-party analytics&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;NOT protected against:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;❌ Compromised client (malware/extensions)&lt;/li&gt;\n&lt;li&gt;❌ Keylogger on user's machine&lt;/li&gt;\n&lt;li&gt;❌ Phishing for passwords&lt;/li&gt;\n&lt;li&gt;❌ Metadata analysis (who talks to whom)&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3&gt;\n  \n  \n  Future Improvements\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;1. Metadata Protection:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Onion routing (Tor-style)&lt;/li&gt;\n&lt;li&gt;Timing obfuscation&lt;/li&gt;\n&lt;li&gt;Decoy traffic&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;2. Forward Secrecy:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Rotate keys on every message (Signal Protocol)&lt;/li&gt;\n&lt;li&gt;Re-encrypt history on rotation&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;3. Zero-Knowledge Proofs:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Prove group membership without revealing identity&lt;/li&gt;\n&lt;li&gt;Search encrypted data without decrypting&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;4. Hardware Security:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;WebAuthn for key storage&lt;/li&gt;\n&lt;li&gt;Hardware security modules (HSM)&lt;/li&gt;\n&lt;/ul&gt;\n\n\n&lt;h2&gt;\n  \n  \n  Part 7: Lessons Learned\n&lt;/h2&gt;\n&lt;h3&gt;\n  \n  \n  1. UX Is Harder Than Crypto\n&lt;/h3&gt;\n\n&lt;p&gt;The crypto is well-understood. Making it &lt;em&gt;usable&lt;/em&gt; is the challenge.&lt;/p&gt;\n\n&lt;p&gt;Users don't think in \"keypairs\" and \"nonces.\" They want \"private messages.\"&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt; Hide complexity. Good defaults. Clear error messages.&lt;/p&gt;\n&lt;h3&gt;\n  \n  \n  2. Performance Matters\n&lt;/h3&gt;\n\n&lt;p&gt;If encryption adds 500ms latency, users notice.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt; Optimize aggressively. Use WASM. Batch operations. Lazy-load.&lt;/p&gt;\n&lt;h3&gt;\n  \n  \n  3. Open Source Is Non-Negotiable\n&lt;/h3&gt;\n\n&lt;p&gt;Closed-source \"encryption\" is security theater.&lt;/p&gt;\n\n&lt;p&gt;If you can't audit the code, you're trusting marketing.&lt;/p&gt;\n&lt;h3&gt;\n  \n  \n  4. Metadata Is the Hard Problem\n&lt;/h3&gt;\n\n&lt;p&gt;Encrypting content is easy. Hiding &lt;em&gt;who talks to whom&lt;/em&gt; is way harder.&lt;/p&gt;\n\n&lt;p&gt;Signal still has this problem (they know who messages whom).&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;No perfect solution yet.&lt;/strong&gt; Working on it.&lt;/p&gt;\n&lt;h3&gt;\n  \n  \n  5. Documentation Is Security\n&lt;/h3&gt;\n\n&lt;p&gt;Users need to understand:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;What's protected&lt;/li&gt;\n&lt;li&gt;What's not protected&lt;/li&gt;\n&lt;li&gt;How it works (high-level)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Transparency builds trust.&lt;/strong&gt; Obscurity doesn't.&lt;/p&gt;\n\n\n&lt;h2&gt;\n  \n  \n  Try It Yourself\n&lt;/h2&gt;\n\n&lt;p&gt;&lt;strong&gt;Live demo:&lt;/strong&gt; &lt;a href=\"https://moltyverse.com\" rel=\"noopener noreferrer\"&gt;https://moltyverse.com&lt;/a&gt;&lt;br&gt;&lt;br&gt;\n&lt;strong&gt;GitHub:&lt;/strong&gt; &lt;a href=\"https://github.com/webdevtodayjason/moltyverse\" rel=\"noopener noreferrer\"&gt;https://github.com/webdevtodayjason/moltyverse&lt;/a&gt;&lt;br&gt;&lt;br&gt;\n&lt;strong&gt;Docs:&lt;/strong&gt; &lt;a href=\"https://docs.moltyverse.com\" rel=\"noopener noreferrer\"&gt;https://docs.moltyverse.com&lt;/a&gt;  &lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;To run locally:&lt;/strong&gt;&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight shell\"&gt;&lt;code&gt;git clone https://github.com/webdevtodayjason/moltyverse\n&lt;span class=\"nb\"&gt;cd &lt;/span&gt;moltyverse\nnpm &lt;span class=\"nb\"&gt;install\n&lt;/span&gt;npm run dev\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Tech stack:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Node.js 18+&lt;/li&gt;\n&lt;li&gt;PostgreSQL 14+&lt;/li&gt;\n&lt;li&gt;libsodium (installed automatically)&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Contribute\n&lt;/h2&gt;\n\n&lt;p&gt;This is &lt;strong&gt;open source (MIT license)&lt;/strong&gt;. Contributions welcome:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Areas needing help:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;🔐 Security review (crypto audit)&lt;/li&gt;\n&lt;li&gt;🎨 UI/UX improvements&lt;/li&gt;\n&lt;li&gt;📱 Mobile app (React Native or PWA)&lt;/li&gt;\n&lt;li&gt;🌍 Internationalization&lt;/li&gt;\n&lt;li&gt;📖 Documentation&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Open an issue or PR:&lt;/strong&gt;&lt;br&gt;\n&lt;a href=\"https://github.com/webdevtodayjason/moltyverse/issues\" rel=\"noopener noreferrer\"&gt;https://github.com/webdevtodayjason/moltyverse/issues&lt;/a&gt;&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Conclusion\n&lt;/h2&gt;\n\n&lt;p&gt;Building privacy-first software is hard. But it's not impossible.&lt;/p&gt;\n\n&lt;p&gt;You don't need to be a cryptographer to build secure systems. You need:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Battle-tested libraries (libsodium)&lt;/li&gt;\n&lt;li&gt;Clear threat model&lt;/li&gt;\n&lt;li&gt;Respect for users&lt;/li&gt;\n&lt;li&gt;Open source for auditability&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Moltyverse proves you can build social media that respects users.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;End-to-end encryption. Zero tracking. Open source. No ads.&lt;/p&gt;\n\n&lt;p&gt;It's not science fiction. It's working code.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Let's build a better internet.&lt;/strong&gt;&lt;/p&gt;\n\n\n\n\n&lt;p&gt;&lt;em&gt;Questions? Find me:&lt;/em&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;GitHub:&lt;/strong&gt; &lt;a href=\"https://github.com/webdevtodayjason\" rel=\"noopener noreferrer\"&gt;@webdevtodayjason&lt;/a&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Twitter:&lt;/strong&gt; &lt;a href=\"https://twitter.com/JasonBrashearTX\" rel=\"noopener noreferrer\"&gt;@JasonBrashearTX&lt;/a&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Email:&lt;/strong&gt; &lt;a href=\"mailto:jason@webdevtoday.com\"&gt;jason@webdevtoday.com&lt;/a&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Further Reading\n&lt;/h2&gt;\n\n&lt;p&gt;&lt;strong&gt;Cryptography:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"https://doc.libsodium.org/\" rel=\"noopener noreferrer\"&gt;libsodium documentation&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://nacl.cr.yp.to/\" rel=\"noopener noreferrer\"&gt;NaCl: Networking and Cryptography library&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://signal.org/docs/\" rel=\"noopener noreferrer\"&gt;Signal Protocol&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Privacy:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"https://www.eff.org/deeplinks/2020/01/threat-modeling-privacy-enthusiasts\" rel=\"noopener noreferrer\"&gt;Threat modeling&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://www.eff.org/deeplinks/2013/06/why-metadata-matters\" rel=\"noopener noreferrer\"&gt;Metadata matters&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;React + Crypto:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API\" rel=\"noopener noreferrer\"&gt;Web Crypto API&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://tanstack.com/query/latest\" rel=\"noopener noreferrer\"&gt;TanStack Query&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Open Source:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"https://opensource.org/licenses/MIT\" rel=\"noopener noreferrer\"&gt;MIT License&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://choosealicense.com/\" rel=\"noopener noreferrer\"&gt;Choose an open source license&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;",
    "date": "2026-02-25T13:01:37.000Z",
    "url": "https://dev.to/webdevtodayjason/building-a-social-platform-with-client-side-end-to-end-encryption-36b2"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "React/Next.js",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://dev.to/feed/tag/react",
    "title": "What’s the Hardest Part of Generating UI as a Frontend Developer?",
    "partialText": "&lt;h2&gt;\n  \n  \n  Introduction\n&lt;/h2&gt;\n\n&lt;p&gt;I recently redesigned the &lt;a href=\"https://www.texavor.com/\" rel=\"noopener noreferrer\"&gt;Texavor&lt;/a&gt;. After the initial launch, one of the brutal pieces of feedback for the landing page was that it was too generic. It feels like it lacks a design system. I didn’t realize until someone else pointed it out. I built an initial design system, but eventually, AI hallucinated, and it created its own things.&lt;/p&gt;\n\n&lt;p&gt;At first, AI feels like a superpower. It generates codes fast and even with precision. It fixes syntax errors on its own. Your code implements features that take a month in a day. But after a while, you start noticing patterns:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Repeated “Saas” looking hero section&lt;/li&gt;\n&lt;li&gt;Predicatable card grids&lt;/li&gt;\n&lt;li&gt;generic gradient and blur effects&lt;/li&gt;\n&lt;li&gt;Some pages follow a different system, while some follow a different design system\nThe design it generates looks good, but lacks the taste and structure that you established earlier.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;I feel like generating a non-generic and unique UI is kind of the hardest thing when building UI as a front-end Developer.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Curious to hear🤔\n&lt;/h2&gt;\n\n&lt;ul&gt;\n&lt;li&gt;What’s the hardest part of generating UI?&lt;/li&gt;\n&lt;li&gt;Have you experienced your design system getting broken?&lt;/li&gt;\n&lt;li&gt;At what point do you stop trusting AI and take full control&lt;/li&gt;\n&lt;/ul&gt;",
    "date": "2026-02-25T11:30:00.000Z",
    "url": "https://dev.to/surajondev/whats-the-hardest-part-of-generating-ui-as-a-frontend-developer-4f23"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "React/Next.js",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://dev.to/feed/tag/react",
    "title": "Dark mode in React is painful. So I built vartheme to fix it.",
    "partialText": "&lt;p&gt;&lt;strong&gt;If you've ever tried adding dark mode to a React app… you know the pain.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;You configure Tailwind’s &lt;code&gt;darkMode&lt;/code&gt;.&lt;br&gt;\nThen you write CSS variables manually.&lt;br&gt;\nThen you handle &lt;code&gt;localStorage&lt;/code&gt; so the theme persists.&lt;br&gt;\nThen you fix the flash of the wrong theme on page load.&lt;br&gt;\nThen system theme detection breaks.&lt;br&gt;\nThen your navbar is still white in dark mode 😅&lt;/p&gt;\n\n&lt;p&gt;Sound familiar?&lt;/p&gt;\n\n&lt;p&gt;I got tired of repeating this in every project. So I built &lt;strong&gt;vartheme&lt;/strong&gt; — a tiny React library that handles all of this in &lt;strong&gt;one line&lt;/strong&gt;.&lt;/p&gt;\n\n\n&lt;h2&gt;\n  \n  \n  🚀 What is vartheme?\n&lt;/h2&gt;\n\n&lt;p&gt;vartheme is a &lt;strong&gt;zero-config, CSS variable based theme switching library for React.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;✅ Dark mode in one line&lt;br&gt;\n✅ 5 beautiful built-in themes&lt;br&gt;\n✅ Animated sun/moon toggle (no icon library needed)&lt;br&gt;\n✅ Theme persists automatically&lt;br&gt;\n✅ System theme detection&lt;br&gt;\n✅ Under 7kb bundle&lt;br&gt;\n✅ Zero dependencies&lt;br&gt;\n✅ Full TypeScript support&lt;/p&gt;\n\n\n&lt;h2&gt;\n  \n  \n  😩 The Problem\n&lt;/h2&gt;\n\n&lt;p&gt;Without vartheme, adding dark mode usually looks like this:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// 1. Setup Tailwind config&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// 2. Write CSS variables manually&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// 3. Handle localStorage&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// 4. Fix flash of wrong theme&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// 5. Handle system theme detection&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// 6. Write a toggle component&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// 7. Debug for 2 hours&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// 8. Still not working properly&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  ✅ The Solution\n&lt;/h2&gt;\n\n&lt;p&gt;With vartheme:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight jsx\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;ThemeProvider&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;vartheme&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;\n\n&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"k\"&gt;default&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;App&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;return &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;ThemeProvider&lt;/span&gt; &lt;span class=\"na\"&gt;theme&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"s\"&gt;\"ocean\"&lt;/span&gt; &lt;span class=\"na\"&gt;mode&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"s\"&gt;\"dark\"&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;YourApp&lt;/span&gt; &lt;span class=\"p\"&gt;/&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nc\"&gt;ThemeProvider&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=\"p\"&gt;)&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;That’s it. Dark mode done.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  🎨 Built-in Themes\n&lt;/h2&gt;\n\n&lt;p&gt;vartheme comes with 5 ready-to-use themes:&lt;/p&gt;\n\n&lt;p&gt;• Default — Purple/Violet&lt;br&gt;\n• Ocean — Blue/Teal&lt;br&gt;\n• Forest — Green/Lime&lt;br&gt;\n• Sunset — Orange/Pink&lt;br&gt;\n• Rose — Pink/Red&lt;/p&gt;\n\n&lt;p&gt;Switch themes instantly:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight jsx\"&gt;&lt;code&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;ThemeProvider&lt;/span&gt; &lt;span class=\"na\"&gt;theme&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"s\"&gt;\"forest\"&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  🎯 CSS Variables (Use anywhere)\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight css\"&gt;&lt;code&gt;&lt;span class=\"nc\"&gt;.card&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;background&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"n\"&gt;var&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;--vt-surface&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;color&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"n\"&gt;var&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;--vt-text&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;border&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"m\"&gt;1px&lt;/span&gt; &lt;span class=\"nb\"&gt;solid&lt;/span&gt; &lt;span class=\"n\"&gt;var&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;--vt-border&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n&lt;span class=\"nc\"&gt;.button&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;background&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"n\"&gt;var&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;--vt-primary&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"nl\"&gt;color&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"no\"&gt;white&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;No more hardcoding colors. No more theme context headaches.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  ⚡ Powerful Hook\n&lt;/h2&gt;\n\n&lt;p&gt;Need more control?&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight jsx\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;useThemeContext&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;vartheme&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;\n\n&lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;Navbar&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;resolvedMode&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;toggle&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;setTheme&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;setColors&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useThemeContext&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nt\"&gt;div&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nt\"&gt;button&lt;/span&gt; &lt;span class=\"na\"&gt;onClick&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;toggle&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;resolvedMode&lt;/span&gt; &lt;span class=\"o\"&gt;===&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;dark&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt; &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;☀️&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;🌙&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nt\"&gt;button&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n\n      &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nt\"&gt;button&lt;/span&gt; &lt;span class=\"na\"&gt;onClick&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;setTheme&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;ocean&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;Ocean&lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nt\"&gt;button&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n\n      &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nt\"&gt;button&lt;/span&gt; &lt;span class=\"na\"&gt;onClick&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;setColors&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt; &lt;span class=\"na\"&gt;primary&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;#EC4899&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt; &lt;span class=\"p\"&gt;})&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n        Pink Mode\n      &lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nt\"&gt;button&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nt\"&gt;div&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=\"p\"&gt;)&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  🌙 Built-in Animated Toggle\n&lt;/h2&gt;\n\n&lt;p&gt;No icons. Pure CSS.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight jsx\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;ThemeToggle&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;vartheme&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;\n\n&lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;ThemeToggle&lt;/span&gt; &lt;span class=\"nx\"&gt;size&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"mi\"&gt;48&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"sr\"&gt;/&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  📦 Install\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight shell\"&gt;&lt;code&gt;npm &lt;span class=\"nb\"&gt;install &lt;/span&gt;vartheme\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;Bundle size: ~7kb. Zero dependencies. TypeScript ready.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  🔗 Links\n&lt;/h2&gt;\n\n&lt;p&gt;📦 npm: &lt;a href=\"https://www.npmjs.com/package/vartheme\" rel=\"noopener noreferrer\"&gt;https://www.npmjs.com/package/vartheme&lt;/a&gt;&lt;br&gt;\n🔷 GitHub: &lt;a href=\"https://github.com/sumitt-wayne/vartheme\" rel=\"noopener noreferrer\"&gt;https://github.com/sumitt-wayne/vartheme&lt;/a&gt;&lt;br&gt;\n🌐 Website: &lt;a href=\"https://vartheme.vercel.app\" rel=\"noopener noreferrer\"&gt;https://vartheme.vercel.app&lt;/a&gt;&lt;/p&gt;\n\n\n\n\n&lt;p&gt;If you find it useful, drop a ⭐ on GitHub — it really means a lot!&lt;/p&gt;\n\n&lt;p&gt;What features would you like to see next? Let me know in the comments 👇&lt;/p&gt;",
    "date": "2026-02-25T10:47:32.000Z",
    "url": "https://dev.to/sumit-wayne/dark-mode-in-react-is-painful-so-i-built-vartheme-to-fix-it-3ei6"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "React/Next.js",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://dev.to/feed/tag/react",
    "title": "Vite + React + Vitest: a simple test setup you can copy in 10 minutes",
    "partialText": "&lt;p&gt;If you use &lt;strong&gt;Vite + React + TypeScript&lt;/strong&gt;, the fastest way to add tests is &lt;strong&gt;Vitest&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;p&gt;In this post, I will show a clean setup you can copy.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Why this stack?\n&lt;/h2&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;Vite&lt;/strong&gt;: fast dev server&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Vitest&lt;/strong&gt;: test runner that feels like Jest, but faster in Vite projects&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;React Testing Library&lt;/strong&gt;: test from user perspective&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;This setup works well with &lt;strong&gt;pnpm&lt;/strong&gt; and small-to-medium frontend apps.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  1) Install packages\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight shell\"&gt;&lt;code&gt;pnpm add &lt;span class=\"nt\"&gt;-D&lt;/span&gt; vitest jsdom @testing-library/react @testing-library/jest-dom @testing-library/user-event\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  2) Update &lt;code&gt;vite.config.ts&lt;/code&gt;\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;/// &amp;lt;reference types=\"vitest\" /&amp;gt;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;defineConfig&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;vite&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;react&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;@vitejs/plugin-react&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;\n\n&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"k\"&gt;default&lt;/span&gt; &lt;span class=\"nf\"&gt;defineConfig&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n  &lt;span class=\"na\"&gt;plugins&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nf\"&gt;react&lt;/span&gt;&lt;span class=\"p\"&gt;()],&lt;/span&gt;\n  &lt;span class=\"na\"&gt;test&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"na\"&gt;environment&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;jsdom&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;setupFiles&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;./src/test/setup.ts&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;globals&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kc\"&gt;true&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt;\n&lt;span class=\"p\"&gt;})&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;What this does:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;code&gt;jsdom&lt;/code&gt; gives a browser-like environment&lt;/li&gt;\n&lt;li&gt;\n&lt;code&gt;setupFiles&lt;/code&gt; runs once before tests&lt;/li&gt;\n&lt;li&gt;\n&lt;code&gt;globals: true&lt;/code&gt; lets you use &lt;code&gt;describe&lt;/code&gt;, &lt;code&gt;it&lt;/code&gt;, &lt;code&gt;expect&lt;/code&gt; without importing every time&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  3) Create &lt;code&gt;src/test/setup.ts&lt;/code&gt;\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;@testing-library/jest-dom&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;This adds helpers like &lt;code&gt;toBeInTheDocument()&lt;/code&gt;.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  4) Add scripts to &lt;code&gt;package.json&lt;/code&gt;\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight json\"&gt;&lt;code&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"w\"&gt;\n  &lt;/span&gt;&lt;span class=\"nl\"&gt;\"scripts\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"w\"&gt;\n    &lt;/span&gt;&lt;span class=\"nl\"&gt;\"test\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"vitest run\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;&lt;span class=\"w\"&gt;\n    &lt;/span&gt;&lt;span class=\"nl\"&gt;\"test:watch\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"vitest\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;&lt;span class=\"w\"&gt;\n    &lt;/span&gt;&lt;span class=\"nl\"&gt;\"test:ui\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"vitest --ui\"&lt;/span&gt;&lt;span class=\"w\"&gt;\n  &lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"w\"&gt;\n&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"w\"&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;Use:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;code&gt;pnpm test&lt;/code&gt; for CI&lt;/li&gt;\n&lt;li&gt;\n&lt;code&gt;pnpm test:watch&lt;/code&gt; while coding&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  5) Example component test\n&lt;/h2&gt;\n\n&lt;p&gt;&lt;code&gt;src/components/Counter.tsx&lt;/code&gt;&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight tsx\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;useState&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;react&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;\n\n&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;Counter&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;count&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;setCount&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useState&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"mi\"&gt;0&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nt\"&gt;div&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nt\"&gt;p&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;Count: &lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;count&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nt\"&gt;p&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nt\"&gt;button&lt;/span&gt; &lt;span class=\"na\"&gt;onClick&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;setCount&lt;/span&gt;&lt;span class=\"p\"&gt;((&lt;/span&gt;&lt;span class=\"nx\"&gt;c&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;c&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt; &lt;span class=\"mi\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;Increment&lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nt\"&gt;button&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nt\"&gt;div&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=\"p\"&gt;)&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;code&gt;src/components/Counter.test.tsx&lt;/code&gt;&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight tsx\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;render&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;screen&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;@testing-library/react&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;userEvent&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;@testing-library/user-event&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;Counter&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;./Counter&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;\n\n&lt;span class=\"nf\"&gt;describe&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;Counter&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"nf\"&gt;it&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;increments count when button is clicked&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;async &lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"nf\"&gt;render&lt;/span&gt;&lt;span class=\"p\"&gt;(&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;Counter&lt;/span&gt; &lt;span class=\"p\"&gt;/&amp;gt;)&lt;/span&gt;\n\n    &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nx\"&gt;userEvent&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;click&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;screen&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;getByRole&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;button&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"sr\"&gt;/increment/i&lt;/span&gt; &lt;span class=\"p\"&gt;}))&lt;/span&gt;\n\n    &lt;span class=\"nf\"&gt;expect&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;screen&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;getByText&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;Count: 1&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;)).&lt;/span&gt;&lt;span class=\"nf\"&gt;toBeInTheDocument&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n  &lt;span class=\"p\"&gt;})&lt;/span&gt;\n&lt;span class=\"p\"&gt;})&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;This test checks real behavior, not internal state details.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Common beginner mistakes\n&lt;/h2&gt;\n\n&lt;ol&gt;\n&lt;li&gt;\n&lt;strong&gt;Using &lt;code&gt;node&lt;/code&gt; environment&lt;/strong&gt; for React tests (use &lt;code&gt;jsdom&lt;/code&gt;)&lt;/li&gt;\n&lt;li&gt;Forgetting &lt;code&gt;@testing-library/jest-dom&lt;/code&gt; setup&lt;/li&gt;\n&lt;li&gt;Testing implementation details instead of visible UI behavior&lt;/li&gt;\n&lt;/ol&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Final tip\n&lt;/h2&gt;\n\n&lt;p&gt;Start with one test per component for the core user action.&lt;br&gt;\nYou do not need 100 tests on day one.&lt;br&gt;\nSmall, stable tests are better than many fragile tests.&lt;/p&gt;\n\n&lt;p&gt;If you want, next step is adding coverage and running Vitest in CI.&lt;/p&gt;",
    "date": "2026-02-25T09:30:50.000Z",
    "url": "https://dev.to/happy-lico/vite-react-vitest-a-simple-test-setup-you-can-copy-in-10-minutes-5b7f"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "React/Next.js",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://dev.to/feed/tag/react",
    "title": "8 Places To Get Deals On Buy Verified Cash App Accounts",
    "partialText": "&lt;p&gt;Cash App Accounts: Features, Benefits, Security, and Safe Usage Guide&lt;br&gt;\n💫💎📲✨🌍 For more information,just knock us!💫💎📲✨🌍&lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎WhatsApp: +1 (314) 203-4162 &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎join now our company: &lt;a href=\"https://getusasmm.com/product/buy-verified-cash-app-accounts/\" rel=\"noopener noreferrer\"&gt;https://getusasmm.com/product/buy-verified-cash-app-accounts/&lt;/a&gt;&lt;br&gt;\n💥💥💥💫💫💫🌐🌐🌐🛒🛒💥💥💥💥💥💲💲💲💲💲💲💫💫💫🌐🌐🌐&lt;br&gt;\nCash App is a widely used digital payment platform that allows users to send, receive, and manage money directly from their mobile devices. It is operated by Block, Inc. and has become popular for personal payments, small business transactions, and basic investing features.&lt;br&gt;\nThis guide explains what a Cash App account is, how it works, its benefits, security features, potential risks, and how to use it safely and responsibly.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;What Is a Cash App Account&lt;br&gt;\nA Cash App account is a digital financial account created through the Cash App mobile application. Once registered, users can perform a variety of financial activities such as:&lt;br&gt;\nSending and receiving money instantly&lt;br&gt;\nLinking a bank account or debit card&lt;br&gt;\nUsing a Cash Card for purchases&lt;br&gt;\nReceiving direct deposits&lt;br&gt;\nBuying and selling Bitcoin&lt;br&gt;\nInvesting in stocks&lt;br&gt;\nThe account is typically created using a mobile number or email address, and additional verification may be required for expanded features.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Personal and Business Cash App Accounts&lt;br&gt;\nCash App supports both personal and business usage.&lt;br&gt;\nPersonal accounts are designed for everyday transactions such as sending money to friends, paying bills, or managing personal finances.&lt;br&gt;\nBusiness accounts are suitable for freelancers, online sellers, and small business owners who need to accept payments from customers. Business profiles may include transaction fees but offer features tailored to commercial activity.&lt;br&gt;\nChoosing the correct profile type is important for compliance and smooth operation.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Account Verification and Why It Matters&lt;br&gt;\nWhen you first create a Cash App account, transaction limits are restricted. To unlock full functionality, identity verification is required. This process may include providing:&lt;br&gt;\nYour full legal name&lt;br&gt;\nDate of birth&lt;br&gt;\nGovernment identification details&lt;br&gt;\nThe last digits of a Social Security Number for U.S. users&lt;br&gt;\nVerification allows access to higher transaction limits, Bitcoin trading, stock investments, and direct deposit services. It also improves account security.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Key Benefits of Using Cash App&lt;br&gt;\n💫💎📲✨🌍 For more information,just knock us!💫💎📲✨🌍&lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎WhatsApp: +1 (314) 203-4162 &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎join now our company: &lt;a href=\"https://getusasmm.com/product/buy-verified-cash-app-accounts/\" rel=\"noopener noreferrer\"&gt;https://getusasmm.com/product/buy-verified-cash-app-accounts/&lt;/a&gt;&lt;br&gt;\n💥💥💥💫💫💫🌐🌐🌐🛒🛒💥💥💥💥💥💲💲💲💲💲💲💫💫💫🌐🌐🌐&lt;/p&gt;\n\n&lt;p&gt;Fast Transactions&lt;br&gt;\nMoney can be sent and received almost instantly between users.&lt;br&gt;\nUser-Friendly Interface&lt;br&gt;\nThe app is simple to navigate, making it accessible for beginners.&lt;br&gt;\nCash Card Access&lt;br&gt;\nUsers can order a customizable debit card to spend their balance online or in stores.&lt;br&gt;\nDirect Deposit&lt;br&gt;\nPaychecks or other payments can be deposited directly into the account.&lt;br&gt;\nInvestment Features&lt;br&gt;\nUsers can buy fractional shares of stocks and invest in Bitcoin with small amounts.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Security Features&lt;br&gt;\nCash App includes multiple layers of security to protect users.&lt;br&gt;\nEncryption Technology&lt;br&gt;\nSensitive information is encrypted to prevent unauthorized access.&lt;br&gt;\nPIN and Biometric Protection&lt;br&gt;\nUsers can require a PIN, fingerprint, or facial recognition for transactions.&lt;br&gt;\nTwo-Factor Authentication&lt;br&gt;\nAdditional verification codes may be required during login.&lt;br&gt;\nDespite these protections, users must practice safe digital habits.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Best Practices for Safe Usage&lt;br&gt;\n💫💎📲✨🌍 For more information,just knock us!💫💎📲✨🌍&lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎WhatsApp: +1 (314) 203-4162 &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎join now our company: &lt;a href=\"https://getusasmm.com/product/buy-verified-cash-app-accounts/\" rel=\"noopener noreferrer\"&gt;https://getusasmm.com/product/buy-verified-cash-app-accounts/&lt;/a&gt;&lt;br&gt;\n💥💥💥💫💫💫🌐🌐🌐🛒🛒💥💥💥💥💥💲💲💲💲💲💲💫💫💫🌐🌐🌐&lt;/p&gt;\n\n&lt;p&gt;Use a strong and unique password&lt;br&gt;\nEnable security lock or PIN protection&lt;br&gt;\nAvoid sharing login details or verification codes&lt;br&gt;\nBe cautious of phishing messages and suspicious links&lt;br&gt;\nDownload the app only from official app stores&lt;br&gt;\nMonitor transaction history regularly&lt;br&gt;\nFollowing these practices significantly reduces the risk of fraud.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Risks of Buying or Selling Cash App Accounts&lt;br&gt;\nSome online sellers advertise “verified” or “ready-made” Cash App accounts. Purchasing such accounts is highly risky for several reasons.&lt;br&gt;\nViolation of Platform Rules&lt;br&gt;\nCash App does not allow buying, selling, or transferring accounts between individuals.&lt;br&gt;\nAccount Suspension&lt;br&gt;\nSuspicious login behavior or identity mismatches may lead to account freezes or permanent bans.&lt;br&gt;\nFinancial Loss&lt;br&gt;\nThe original owner may recover the account, or the seller may retain access credentials.&lt;br&gt;\nLegal Concerns&lt;br&gt;\nUsing an account under someone else’s identity can raise serious legal issues.&lt;br&gt;\nThe safest and most reliable option is to create and verify your own account using your real information.&lt;/p&gt;",
    "date": "2026-02-25T08:59:40.000Z",
    "url": "https://dev.to/jakashinsky/8-places-to-get-deals-on-buy-verified-cash-app-accounts-5861"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "React/Next.js",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://dev.to/feed/tag/react",
    "title": "BEST Ways To Sell BUY /VERIFIED/ CASH APP ACCOUNTS",
    "partialText": "&lt;p&gt;Cash App Accounts: Features, Benefits, Security, and Safe Usage Guide&lt;br&gt;\n💫💎📲✨🌍 For more information,just knock us!💫💎📲✨🌍&lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎WhatsApp: +1 (314) 203-4162 &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎join now our company: &lt;a href=\"https://getusasmm.com/product/buy-verified-cash-app-accounts/\" rel=\"noopener noreferrer\"&gt;https://getusasmm.com/product/buy-verified-cash-app-accounts/&lt;/a&gt;&lt;br&gt;\n💥💥💥💫💫💫🌐🌐🌐🛒🛒💥💥💥💥💥💲💲💲💲💲💲💫💫💫🌐🌐🌐&lt;br&gt;\nCash App is a widely used digital payment platform that allows users to send, receive, and manage money directly from their mobile devices. It is operated by Block, Inc. and has become popular for personal payments, small business transactions, and basic investing features.&lt;br&gt;\nThis guide explains what a Cash App account is, how it works, its benefits, security features, potential risks, and how to use it safely and responsibly.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;What Is a Cash App Account&lt;br&gt;\nA Cash App account is a digital financial account created through the Cash App mobile application. Once registered, users can perform a variety of financial activities such as:&lt;br&gt;\nSending and receiving money instantly&lt;br&gt;\nLinking a bank account or debit card&lt;br&gt;\nUsing a Cash Card for purchases&lt;br&gt;\nReceiving direct deposits&lt;br&gt;\nBuying and selling Bitcoin&lt;br&gt;\nInvesting in stocks&lt;br&gt;\nThe account is typically created using a mobile number or email address, and additional verification may be required for expanded features.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Personal and Business Cash App Accounts&lt;br&gt;\nCash App supports both personal and business usage.&lt;br&gt;\nPersonal accounts are designed for everyday transactions such as sending money to friends, paying bills, or managing personal finances.&lt;br&gt;\nBusiness accounts are suitable for freelancers, online sellers, and small business owners who need to accept payments from customers. Business profiles may include transaction fees but offer features tailored to commercial activity.&lt;br&gt;\nChoosing the correct profile type is important for compliance and smooth operation.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Account Verification and Why It Matters&lt;br&gt;\nWhen you first create a Cash App account, transaction limits are restricted. To unlock full functionality, identity verification is required. This process may include providing:&lt;br&gt;\nYour full legal name&lt;br&gt;\nDate of birth&lt;br&gt;\nGovernment identification details&lt;br&gt;\nThe last digits of a Social Security Number for U.S. users&lt;br&gt;\nVerification allows access to higher transaction limits, Bitcoin trading, stock investments, and direct deposit services. It also improves account security.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Key Benefits of Using Cash App&lt;br&gt;\n💫💎📲✨🌍 For more information,just knock us!💫💎📲✨🌍&lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎WhatsApp: +1 (314) 203-4162 &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎join now our company: &lt;a href=\"https://getusasmm.com/product/buy-verified-cash-app-accounts/\" rel=\"noopener noreferrer\"&gt;https://getusasmm.com/product/buy-verified-cash-app-accounts/&lt;/a&gt;&lt;br&gt;\n💥💥💥💫💫💫🌐🌐🌐🛒🛒💥💥💥💥💥💲💲💲💲💲💲💫💫💫🌐🌐🌐&lt;/p&gt;\n\n&lt;p&gt;Fast Transactions&lt;br&gt;\nMoney can be sent and received almost instantly between users.&lt;br&gt;\nUser-Friendly Interface&lt;br&gt;\nThe app is simple to navigate, making it accessible for beginners.&lt;br&gt;\nCash Card Access&lt;br&gt;\nUsers can order a customizable debit card to spend their balance online or in stores.&lt;br&gt;\nDirect Deposit&lt;br&gt;\nPaychecks or other payments can be deposited directly into the account.&lt;br&gt;\nInvestment Features&lt;br&gt;\nUsers can buy fractional shares of stocks and invest in Bitcoin with small amounts.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Security Features&lt;br&gt;\nCash App includes multiple layers of security to protect users.&lt;br&gt;\nEncryption Technology&lt;br&gt;\nSensitive information is encrypted to prevent unauthorized access.&lt;br&gt;\nPIN and Biometric Protection&lt;br&gt;\nUsers can require a PIN, fingerprint, or facial recognition for transactions.&lt;br&gt;\nTwo-Factor Authentication&lt;br&gt;\nAdditional verification codes may be required during login.&lt;br&gt;\nDespite these protections, users must practice safe digital habits.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Best Practices for Safe Usage&lt;br&gt;\n💫💎📲✨🌍 For more information,just knock us!💫💎📲✨🌍&lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎WhatsApp: +1 (314) 203-4162 &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎join now our company: &lt;a href=\"https://getusasmm.com/product/buy-verified-cash-app-accounts/\" rel=\"noopener noreferrer\"&gt;https://getusasmm.com/product/buy-verified-cash-app-accounts/&lt;/a&gt;&lt;br&gt;\n💥💥💥💫💫💫🌐🌐🌐🛒🛒💥💥💥💥💥💲💲💲💲💲💲💫💫💫🌐🌐🌐&lt;/p&gt;\n\n&lt;p&gt;Use a strong and unique password&lt;br&gt;\nEnable security lock or PIN protection&lt;br&gt;\nAvoid sharing login details or verification codes&lt;br&gt;\nBe cautious of phishing messages and suspicious links&lt;br&gt;\nDownload the app only from official app stores&lt;br&gt;\nMonitor transaction history regularly&lt;br&gt;\nFollowing these practices significantly reduces the risk of fraud.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Risks of Buying or Selling Cash App Accounts&lt;br&gt;\nSome online sellers advertise “verified” or “ready-made” Cash App accounts. Purchasing such accounts is highly risky for several reasons.&lt;br&gt;\nViolation of Platform Rules&lt;br&gt;\nCash App does not allow buying, selling, or transferring accounts between individuals.&lt;br&gt;\nAccount Suspension&lt;br&gt;\nSuspicious login behavior or identity mismatches may lead to account freezes or permanent bans.&lt;br&gt;\nFinancial Loss&lt;br&gt;\nThe original owner may recover the account, or the seller may retain access credentials.&lt;br&gt;\nLegal Concerns&lt;br&gt;\nUsing an account under someone else’s identity can raise serious legal issues.&lt;br&gt;\nThe safest and most reliable option is to create and verify your own account using your real information.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Business Alternatives and Payment Solutions&lt;br&gt;\n💫💎📲✨🌍 For more information,just knock us!💫💎📲✨🌍&lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎WhatsApp: +1 (314) 203-4162 &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎join now our company: &lt;a href=\"https://getusasmm.com/product/buy-verified-cash-app-accounts/\" rel=\"noopener noreferrer\"&gt;https://getusasmm.com/product/buy-verified-cash-app-accounts/&lt;/a&gt;&lt;br&gt;\n💥💥💥💫💫💫🌐🌐🌐🛒🛒💥💥💥💥💥💲💲💲💲💲💲💫💫💫🌐🌐🌐&lt;/p&gt;\n\n&lt;p&gt;If your goal is professional payment processing, you may consider additional legitimate options such as:&lt;br&gt;\nUsing an official Cash App business profile&lt;br&gt;\nSetting up merchant services through your bank&lt;br&gt;\nExploring platforms like PayPal Business or Stripe&lt;br&gt;\nLinking your account to a registered business entity&lt;br&gt;\nThese solutions offer transparency, stability, and compliance with financial regulations.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Common Issues and How to Resolve Them&lt;br&gt;\nIf your account is locked&lt;br&gt;\nContact official support through the app and provide required verification.&lt;br&gt;\nIf verification fails&lt;br&gt;\nEnsure your legal name and identification details match official records.&lt;br&gt;\nIf a transaction is delayed&lt;br&gt;\nCheck your linked bank information and internet connection.&lt;br&gt;\nAvoid third-party “recovery services,” as they are often scams.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Final Thoughts&lt;br&gt;\n💫💎📲✨🌍 For more information,just knock us!💫💎📲✨🌍&lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎WhatsApp: +1 (314) 203-4162 &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎join now our company: &lt;a href=\"https://getusasmm.com/product/buy-verified-cash-app-accounts/\" rel=\"noopener noreferrer\"&gt;https://getusasmm.com/product/buy-verified-cash-app-accounts/&lt;/a&gt;&lt;br&gt;\n💥💥💥💫💫💫🌐🌐🌐🛒🛒💥💥💥💥💥💲💲💲💲💲💲💫💫💫🌐🌐🌐&lt;/p&gt;\n\n&lt;p&gt;Cash App accounts provide a convenient and modern way to manage digital payments. They offer speed, accessibility, and useful financial tools for both individuals and small businesses.&lt;br&gt;\nHowever, financial platforms require responsible usage. Creating and verifying your own account is the only safe and compliant method. Shortcuts such as purchasing pre-verified accounts can lead to account loss, financial risk, and possible legal trouble.&lt;br&gt;\nIf you would like, I can also provide a longer in-depth version, a comparison between personal and business accounts, or a complete security checklist for digital payment apps.&lt;/p&gt;",
    "date": "2026-02-25T08:53:55.000Z",
    "url": "https://dev.to/jakashinsky/best-ways-to-sell-buy-verified-cash-app-accounts-37df"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "React/Next.js",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://dev.to/feed/tag/react",
    "title": "Buy Verified WebMoney Account - 100% Safe, Good For Use",
    "partialText": "&lt;p&gt;Buy WebMoney Accounts from GetUSASMM.com – Introduction to WebMoney Accounts, Risks, and Safer Alternatives&lt;br&gt;\n💫💎📲✨🌍 For more information,just knock us!💫💎📲✨🌍&lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎WhatsApp: +1 (314) 203-4162 &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎join now our company: &lt;a href=\"https://getusasmm.com/product/buy-verified-webmoney-account/\" rel=\"noopener noreferrer\"&gt;https://getusasmm.com/product/buy-verified-webmoney-account/&lt;/a&gt;&lt;br&gt;\n💥💥💥💫💫💫🌐🌐🌐🛒🛒💥💥💥💥💥💲💲💲💲💲💲💫💫💫🌐🌐🌐&lt;br&gt;\nIntroduction: Understanding the Topic&lt;br&gt;\nIn digital finance and online payment systems, a variety of electronic wallet platforms exist to support personal transfers, business transactions, international payments, and account linked financial services. Among these systems is WebMoney, a long standing online payment network that enables users to hold electronic equivalents of multiple currencies, conduct transfers, and interact with e commerce services around the world.&lt;br&gt;\nIn certain corners of the internet, particularly within informal digital marketing or social media seller markets, one may encounter offers to buy pre made WebMoney accounts from third party services such as “GetUSASMM.com.” These sellers may advertise “verified,” “old,” or “bulk” WebMoney accounts for sale at low prices. At first glance, this might appear to be a convenient shortcut for someone who needs access to multiple wallets or to avoid the setup process. However, the reality is complex and fraught with risk.&lt;br&gt;\nThis article provides an extended, thorough look at what WebMoney accounts are, how the WebMoney system works, why buying accounts from third parties is dangerous, the legal and security implications, and safer, legitimate ways to use WebMoney or other digital payment systems.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;What WebMoney Is and How It Functions&lt;br&gt;\nWebMoney is a digital payment infrastructure and electronic money ecosystem that was established in the late 1990s. It allows users to create digital wallets (called “purses” in WebMoney terminology) denominated in different currencies, such as US dollars, euros, Russian rubles, and others. Each wallet is linked to a unique identifier and can be used to send and receive funds, pay for goods and services, and integrate with other financial and merchant services worldwide.&lt;br&gt;\nThe system is designed with a hierarchical trust model. New users typically begin with a basic level of verification that permits limited transactions. With further identity verification — such as providing personal documents and meeting compliance requirements — accounts can achieve higher trust levels, enabling larger transfers, extended services, and merchant capabilities. The verification structure is core to WebMoney’s operational model and regulatory compliance with financial transaction rules in various jurisdictions.&lt;br&gt;\nWebMoney uses specialized software or mobile apps to manage wallets, transfer funds, and interact with global payment services. Users are issued unique identifiers and must adhere to strict authentication protocols to manage their accounts securely. Because the platform handles financial value and can be connected to bank systems or currency exchange services, security and legal compliance are central to its design.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Why Some People Consider Buying Pre Made WebMoney Accounts&lt;br&gt;\n💫💎📲✨🌍 For more information,just knock us!💫💎📲✨🌍&lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎WhatsApp: +1 (314) 203-4162 &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎join now our company: &lt;a href=\"https://getusasmm.com/product/buy-verified-webmoney-account/\" rel=\"noopener noreferrer\"&gt;https://getusasmm.com/product/buy-verified-webmoney-account/&lt;/a&gt;&lt;br&gt;\n💥💥💥💫💫💫🌐🌐🌐🛒🛒💥💥💥💥💥💲💲💲💲💲💲💫💫💫🌐🌐🌐&lt;/p&gt;\n\n&lt;p&gt;Within informal online seller ecosystems, some services advertise pre created WebMoney accounts. These accounts are often marketed with language like “verified wallets,” “old accounts,” or “bulk wallets ready to use.” The supposed appeal for buyers includes skipping the account creation process, immediate access without waiting for verification, or the ability to operate multiple wallets.&lt;br&gt;\nIn some cases, marketing copy may stress convenience or suggest that older accounts are more trusted or less likely to trigger security checks. Services like GetUSASMM.com and similar sites are part of a broader trend of third party sellers offering digital accounts, prepaid financial tools, or access credentials for online platforms.&lt;br&gt;\nBefore engaging with such offers, it’s vital to understand how WebMoney itself views account creation and ownership, and the risks associated with bypassing official processes.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;WebMoney’s Policies on Account Ownership and Verification&lt;br&gt;\nWebMoney, like most regulated digital payment systems, requires that each account and associated wallet be tied directly to the individual or organization that created it. The verification process ensures compliance with anti money laundering (AML) rules, know your customer (KYC) standards, and financial transaction regulations that exist in multiple countries. These standards are not arbitrary; they are legal obligations that help prevent fraud, illicit finance, and identity misuse.&lt;br&gt;\nOfficial WebMoney terms of service typically prohibit the transfer of account ownership. The purpose is to ensure that the person controlling a wallet is the person whose identity and financial information were used in verification. When an account is transferred or sold without proper authorization, it undermines the security model and can violate the service agreement.&lt;br&gt;\nIn practice, this means that each WebMoney account should be created by the end user through the official registration and verification channels. Any attempt to circumvent this by purchasing credentials or a pre verified wallet contradicts the platform’s intended use.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Security Risks of Buying WebMoney Accounts from Third Parties&lt;br&gt;\n💫💎📲✨🌍 For more information,just knock us!💫💎📲✨🌍&lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎WhatsApp: +1 (314) 203-4162 &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎join now our company: &lt;a href=\"https://getusasmm.com/product/buy-verified-webmoney-account/\" rel=\"noopener noreferrer\"&gt;https://getusasmm.com/product/buy-verified-webmoney-account/&lt;/a&gt;&lt;br&gt;\n💥💥💥💫💫💫🌐🌐🌐🛒🛒💥💥💥💥💥💲💲💲💲💲💲💫💫💫🌐🌐🌐&lt;/p&gt;\n\n&lt;p&gt;When a service offers pre made WebMoney accounts, several substantial security risks arise:&lt;br&gt;\nUnknown Ownership History: There is no reliable way to verify who originally created the account, how it was used, or whether it might have been involved in suspicious activity. If associated with prior fraudulent transactions, the account could be flagged by WebMoney’s systems.&lt;br&gt;\nShared Credentials: Often, sellers retain access to recovery details, email addresses, authentication codes, or linked phone numbers. This means the original seller might still be able to control or reclaim the account.&lt;br&gt;\nCompromised Accounts: Purchased accounts may have been created with illicit tools, stolen personal data, or using fake documents. Using such an account may lead to immediate suspension by WebMoney’s risk detection systems.&lt;br&gt;\nSecurity and Privacy Breaches: Entering your personal information into systems that trade in credentials can expose you to identity theft, phishing attempts, or malware distribution.&lt;br&gt;\nBecause WebMoney accounts are financial instruments, any compromise or misuse can have real monetary consequences, including the potential loss of funds stored in the wallet or linked financial instruments.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Legal and Regulatory Implications&lt;br&gt;\nHandling financial accounts and digital wallets involves compliance with local and international law. In many jurisdictions, selling or buying financial account access without the consent of the account holder is illegal. Depending on the region and applicable financial regulations, engaging in the purchase of a pre made WebMoney account could expose individuals to accusations of fraud or unauthorized financial activity.&lt;br&gt;\nAnti money laundering laws, identity theft statutes, and digital transaction compliance frameworks require that financial services platforms maintain accurate ownership and verification records. Circumventing these structures by purchasing accounts outside official channels undermines regulatory requirements and could potentially lead to civil or criminal penalties.&lt;br&gt;\nAdditionally, if an account you purchased is used for illicit activities — even unknowingly — law enforcement may investigate any associated user, which can include you.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Real Consequences Reported by Users&lt;br&gt;\nAcross online financial communities and security forums, users sometimes share anecdotes about the fallout from using third party accounts:&lt;br&gt;\n• Sudden account suspension due to suspicious login behavior&lt;br&gt;\n• Permanent deactivation without recovery options&lt;br&gt;\n• Funds frozen or removed by the platform due to compliance issues&lt;br&gt;\n• Loss of linked financial information or inability to access wallets&lt;br&gt;\n• Accounts reclaimed by original owners who retained recovery credentials&lt;br&gt;\nThese outcomes highlight that what might appear to be a shortcut often leads to long term problems and financial loss.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Why “Verified” Accounts from Sellers Are Not Truly Verified&lt;br&gt;\n💫💎📲✨🌍 For more information,just knock us!💫💎📲✨🌍&lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎WhatsApp: +1 (314) 203-4162 &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎join now our company: &lt;a href=\"https://getusasmm.com/product/buy-verified-webmoney-account/\" rel=\"noopener noreferrer\"&gt;https://getusasmm.com/product/buy-verified-webmoney-account/&lt;/a&gt;&lt;br&gt;\n💥💥💥💫💫💫🌐🌐🌐🛒🛒💥💥💥💥💥💲💲💲💲💲💲💫💫💫🌐🌐🌐&lt;/p&gt;\n\n&lt;p&gt;Even if a seller claims that an account is “verified,” those claims are not independently audited. Verification on WebMoney is tied to identity documents and personal information. When a third party says an account is verified, there is no guarantee that:&lt;br&gt;\n• The verification was done legitimately through WebMoney’s official process&lt;br&gt;\n• The identity information used belongs to a real person with consent&lt;br&gt;\n• The account will remain verified once you log in from new locations or devices&lt;br&gt;\nPlatforms like WebMoney monitor accounts for suspicious behaviors, including changes in login patterns, new IP addresses, and mismatched identity data. A change in control of the account without proper ownership documentation may trigger risk controls and result in suspension.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;Alternatives: Safe and Legitimate Ways to Use WebMoney&lt;br&gt;\nFor individuals or businesses that want to use WebMoney, there are entirely legitimate ways to do so:&lt;br&gt;\nRegister Directly Through Official Channels: Create your own account on the official WebMoney site or through authorized apps. Follow the verification process with your own valid identity documents.&lt;br&gt;\nComplete Identity Verification: Work through the official levels of verification provided by WebMoney. Unverified accounts have restrictions, but full verification ensures greater access and higher transaction limits.&lt;br&gt;\nUnderstand Wallet Types and Uses: WebMoney supports multiple currency wallets. Learn how to set up each wallet type legitimately, and link them to your identity for compliance.&lt;br&gt;\nUse Official Support for Troubleshooting: If you encounter verification problems, contact official WebMoney support rather than turning to third party sellers.&lt;br&gt;\nConsider Alternative Platforms: If WebMoney’s process feels cumbersome, consider other regulated digital payment systems that might better fit your needs, such as PayPal, Skrill, Wise, or banking services that provide online wallets.&lt;br&gt;\nFollowing legitimate pathways ensures that your financial activity remains secure, compliant, and fully under your control.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;If You Already Bought a Third Party Account&lt;br&gt;\n💫💎📲✨🌍 For more information,just knock us!💫💎📲✨🌍&lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎WhatsApp: +1 (314) 203-4162 &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎Telegram: &lt;a class=\"mentioned-user\" href=\"https://dev.to/getusasmm\"&gt;@getusasmm&lt;/a&gt; &lt;br&gt;\n🌐🌿💌🧿💫⏱🛒💎join now our company: &lt;a href=\"https://getusasmm.com/product/buy-verified-webmoney-account/\" rel=\"noopener noreferrer\"&gt;https://getusasmm.com/product/buy-verified-webmoney-account/&lt;/a&gt;&lt;br&gt;\n💥💥💥💫💫💫🌐🌐🌐🛒🛒💥💥💥💥💥💲💲💲💲💲💲💫💫💫🌐🌐🌐&lt;/p&gt;\n\n&lt;p&gt;If you have already purchased a WebMoney account from a third party seller, there are steps you should consider:&lt;br&gt;\nStop using the account for significant transactions.&lt;br&gt;\nAvoid linking personal financial information until you understand the account’s status.&lt;br&gt;\nChange any recovery email or phone number if possible, using only your own verified contact details.&lt;br&gt;\nMonitor for suspicious activity, and be prepared for possible account suspension.&lt;/p&gt;",
    "date": "2026-02-25T08:43:10.000Z",
    "url": "https://dev.to/jakashinsky/buy-verified-webmoney-account-100-safe-good-for-use-437g"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "React/Next.js",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://dev.to/feed/tag/react",
    "title": "Leveraging React Hooks for State Management: A Comprehensive Guide",
    "partialText": "&lt;p&gt;In this article, we'll delve into the world of React Hooks and explore how they can revolutionize your state management in React applications. For a more in-depth understanding, consider consulting &lt;a href=\"http://devwithzach.com/\" rel=\"noopener noreferrer\"&gt;DevWithZach.com&lt;/a&gt;.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Introduction\n&lt;/h2&gt;\n\n&lt;p&gt;React Hooks, introduced in React 16.8, have made it easier to manage state and other React features without writing class components. They allow you to use state and other React features outside the context of a class, which significantly simplifies your code.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  UseEffect: The Swiss Army Knife of Hooks\n&lt;/h2&gt;\n\n&lt;p&gt;One of the most versatile hooks is &lt;code&gt;useEffect&lt;/code&gt;. It performs side effects in function components such as fetching data, subscribing to events, and integrating with third-party libraries.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;React&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;useState&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;useEffect&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;react&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;Example&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;count&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;setCount&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useState&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"mi\"&gt;0&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n  &lt;span class=\"nf\"&gt;useEffect&lt;/span&gt;&lt;span class=\"p\"&gt;(()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"nb\"&gt;document&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;title&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"s2\"&gt;`You clicked &lt;/span&gt;&lt;span class=\"p\"&gt;${&lt;/span&gt;&lt;span class=\"nx\"&gt;count&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s2\"&gt; times`&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;count&lt;/span&gt;&lt;span class=\"p\"&gt;]);&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;div&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;p&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt;&lt;span class=\"nx\"&gt;You&lt;/span&gt; &lt;span class=\"nx\"&gt;clicked&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;count&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"nx\"&gt;times&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"sr\"&gt;/p&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;      &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;button&lt;/span&gt; &lt;span class=\"nx\"&gt;onClick&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"p\"&gt;{()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;setCount&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;count&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt; &lt;span class=\"mi\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;)}&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;Click&lt;/span&gt; &lt;span class=\"nx\"&gt;me&lt;/span&gt;\n      &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"sr\"&gt;/button&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;    &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"sr\"&gt;/div&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;  &lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;In this example, &lt;code&gt;useEffect&lt;/code&gt; is used to update the document title based on the count state. The second argument, an empty array, ensures that the effect runs only when the component mounts or unmounts, and not on every render.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  useMemo: Optimizing Performance\n&lt;/h2&gt;\n\n&lt;p&gt;Another essential hook is &lt;code&gt;useMemo&lt;/code&gt;. It helps to optimize performance by memoizing the result of an expensive function call. This ensures that the returned value is only recalculated if one of its dependencies changes.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;React&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;useState&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;useMemo&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;react&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;Example&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;number&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;setNumber&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useState&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"mi\"&gt;0&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;factorial&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;n&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;let&lt;/span&gt; &lt;span class=\"nx\"&gt;fact&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"mi\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n    &lt;span class=\"k\"&gt;for &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"kd\"&gt;let&lt;/span&gt; &lt;span class=\"nx\"&gt;i&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"mi\"&gt;2&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt; &lt;span class=\"nx\"&gt;i&lt;/span&gt; &lt;span class=\"o\"&gt;&amp;lt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;n&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt; &lt;span class=\"nx\"&gt;i&lt;/span&gt;&lt;span class=\"o\"&gt;++&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;fact&lt;/span&gt; &lt;span class=\"o\"&gt;*=&lt;/span&gt; &lt;span class=\"nx\"&gt;i&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n    &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"nx\"&gt;fact&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"p\"&gt;};&lt;/span&gt;\n\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;factorialResult&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;useMemo&lt;/span&gt;&lt;span class=\"p\"&gt;(()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;factorial&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;number&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"nx\"&gt;number&lt;/span&gt;&lt;span class=\"p\"&gt;]);&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;div&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;p&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt;&lt;span class=\"nx\"&gt;Factorial&lt;/span&gt; &lt;span class=\"k\"&gt;of&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;number&lt;/span&gt;&lt;span class=\"p\"&gt;}:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;factorialResult&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"sr\"&gt;/p&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;      &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;input&lt;/span&gt; &lt;span class=\"nx\"&gt;type&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;number&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt; &lt;span class=\"nx\"&gt;value&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;number&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"nx\"&gt;onChange&lt;/span&gt;&lt;span class=\"o\"&gt;=&lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;e&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;setNumber&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;e&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;target&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;value&lt;/span&gt;&lt;span class=\"p\"&gt;)}&lt;/span&gt; &lt;span class=\"sr\"&gt;/&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;    &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"sr\"&gt;/div&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;  &lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;In this example, &lt;code&gt;useMemo&lt;/code&gt; is used to memoize the result of the factorial function, making the component more efficient by avoiding unnecessary recalculations when the number input changes.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Conclusion\n&lt;/h2&gt;\n\n&lt;p&gt;React Hooks have made React development more enjoyable and efficient by simplifying state management and other functionalities. By understanding and utilizing hooks like &lt;code&gt;useEffect&lt;/code&gt; and &lt;code&gt;useMemo&lt;/code&gt;, you can write cleaner, more maintainable code in your React applications. For a deeper understanding of React Hooks and to learn more about React development, visit &lt;a href=\"http://devwithzach.com/\" rel=\"noopener noreferrer\"&gt;DevWithZach.com&lt;/a&gt;.&lt;/p&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;\n\n\nBy incorporating these hooks into your React projects, you'll find that managing state becomes not only simpler but also more enjoyable. For further insights on React development, head over to [DevWithZach.com](http://devwithzach.com/). Happy coding!\n\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;",
    "date": "2026-02-25T08:40:48.000Z",
    "url": "https://dev.to/devwithzach/leveraging-react-hooks-for-state-management-a-comprehensive-guide-3amj"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "React/Next.js",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://dev.to/feed/tag/react",
    "title": "React Native Explained: From the Legacy Bridge to the New Architecture",
    "partialText": "&lt;p&gt;If you’ve been doing web development for a while, chances are you rely on React to build your frontends. You ship a solid web app. It works well. Users like it and you realise it needs a mobile app. &lt;/p&gt;\n\n&lt;p&gt;You start researching and hit a wall, you need Kotlin for Android and Swift for iOS. You start questioning yourself: Do I really need to learn two separate languages? Master completely different tooling? Maintain two isolated codebases?&lt;/p&gt;\n\n&lt;p&gt;It sounds like an absolute nightmare. But just as you're about to give up, you stumble into the territory of cross-platform development and discover React Native. It’s a framework that lets you write mobile apps using JavaScript and React, tools you already know and with a single codebase that targets both Android and iOS natively.&lt;/p&gt;\n\n&lt;p&gt;Suddenly, building mobile apps doesn’t feel like starting from zero. It feels like an extension of what you already know. In this article, we are going to tear down React Native and understand exactly how its architecture works.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  What is React Native\n&lt;/h2&gt;\n\n&lt;p&gt;React Native is an open-source framework that allows developer to build native mobile applications for multiple platforms (Android, iOS, Mac, Windows) using JavaScript programming language and React library.&lt;/p&gt;\n\n&lt;p&gt;Unlike hybrid frameworks that render inside a WebView (essentially embedding a browser inside a mobile app), React Native renders real, platform-specific native components.&lt;/p&gt;\n\n&lt;p&gt;Let's take this code:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;View&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;Text&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt;&lt;span class=\"nx\"&gt;Hello&lt;/span&gt; &lt;span class=\"nx\"&gt;World&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"sr\"&gt;/Text&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"sr\"&gt;/View&lt;/span&gt;&lt;span class=\"err\"&gt;&amp;gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;The above code does not translate into the HTML. Rather it's actually converted into the Native component of the specified platforms.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;&lt;code&gt;View&lt;/code&gt; will get converted to the &lt;code&gt;ViewGroup&lt;/code&gt; component on Android and &lt;code&gt;UIView&lt;/code&gt; on iOS, which are just native components, which acts as the layout containers, holding other components.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;code&gt;Text&lt;/code&gt; will get converted to the &lt;code&gt;TextView&lt;/code&gt; component on Android and &lt;code&gt;UITextView&lt;/code&gt; on iOS, which are again the native components, used to render the text on the screens.&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;They are the same building blocks you would use if you were writing the app directly in Kotlin or Swift. This means apps feel more like they belong on the device they're running on, offering a smoother and more responsive user experience.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  How React Adapts to Web and Mobile\n&lt;/h2&gt;\n\n&lt;p&gt;You might wonder how React, commonly used to build website front-ends, can also render native components for mobile operating systems. Is it really the same React used for the web?&lt;/p&gt;\n\n&lt;p&gt;Yes and no. The core React library is consistent across both web and mobile ecosystems, but the difference lies in how components are rendered.&lt;/p&gt;\n\n&lt;p&gt;Have a look at the diagram below:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fo3ov0nzmfay1py613igc.png\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fo3ov0nzmfay1py613igc.png\" alt=\"React Render different\" width=\"800\" height=\"516\"&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;To understand React Native, you need to understand a surprising truth i.e . React doesn't know how to render an UI on the Screen.&lt;/p&gt;\n\n&lt;p&gt;Look at the diagram above. At the very top sits the React Library. This is the brain of the operation. The function of the core react library is to manage the state using hooks such as &lt;code&gt;useState&lt;/code&gt; and &lt;code&gt;useEffect&lt;/code&gt; and calculates which part of the UI needs to be updated based on data changes using a process called Reconciliation. React library itself doesn't know what a HTML &lt;code&gt;div&lt;/code&gt; is or what an android &lt;code&gt;ViewGroup&lt;/code&gt; is.&lt;/p&gt;\n\n&lt;p&gt;That job of rendering the UI is done by the Renderer.&lt;/p&gt;\n\n&lt;p&gt;This architecture is what allows React to exist anywhere. You keep the same React Core at the top, but you swap out the Renderer depending on which platform you are targeting.&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;React-DOM Renderer&lt;/strong&gt;: When building for the web, we use a renderer called &lt;code&gt;react-dom&lt;/code&gt;. Since browsers natively understand JavaScript, the process is straightforward and synchronous in nature. The &lt;code&gt;react-dom&lt;/code&gt; takes the blueprint from the react core and directly manipulates the DOM on the browser.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;React-Native Renderer&lt;/strong&gt;: Since Mobile platforms like Android &amp;amp; iOS doesn't understand the JavaScript natively, we require a different renderer known as &lt;code&gt;react-native&lt;/code&gt; which takes the blueprint from react core and send it across the &lt;code&gt;JS Bridge (old arch)&lt;/code&gt; asynchronously, which tells the mobile OS, to render the native component with specific properties (like color, size etc).&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;React does not render anything by itself. The renderer determines whether your components become DOM nodes or native UI views.&lt;/p&gt;\n\n&lt;p&gt;Now, we have a solid introduction of React Native, it's time to go behind the scenes with the architecture.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  JS Bridge Architecture\n&lt;/h2&gt;\n\n&lt;p&gt;The Bridge Architecture, also known as the Legacy Architecture, was how React Native applications originally worked. This was the default architecture before React Native v0.76.&lt;/p&gt;\n\n&lt;p&gt;Let's understand how the old architecture used to work.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fvr9isjlhnwok66vd78yp.jpeg\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fvr9isjlhnwok66vd78yp.jpeg\" alt=\"React Native Old Architecture\" width=\"800\" height=\"405\"&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Phase 1: Build Time (The Setup)\n&lt;/h3&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;In the build phase, all the JavaScript code, react components, assets are taken from our codebase and are bundled into a single optimised file known as JS Bundle using the Metro Bundler.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;This static bundle is the blueprint of your entire application and is embedded with your application during the build time.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Once the app is installed, Metro is no longer involved. Everything from this point forward happens at runtime.&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h3&gt;\n  \n  \n  Phase 2: Run Time (The Execution)\n&lt;/h3&gt;\n\n&lt;p&gt;When the user taps on your app, three different threads are fired for execution of our app:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;JavaScript Thread&lt;/strong&gt;: The &lt;strong&gt;JavaScript Engine (JSC)&lt;/strong&gt; would boot up and start executing the &lt;strong&gt;JS Bundle&lt;/strong&gt; which is embedded in our app. This is where our JavaScript code will be executed and holds all the react logic, state and performs the API calls as well to fetch the data.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;UI Thread&lt;/strong&gt;: The UI thread will spawn on your mobile OS, which will allow it to paint the initial UI of the app for the interaction based on the instructions it received.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;Shadow Thread&lt;/strong&gt;: This thread will be used by the &lt;strong&gt;Yoga Library&lt;/strong&gt;, that will calculate the entire layout of the app and provides the instructions to the UI Thread on how to render the layout.&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h3&gt;\n  \n  \n  Phase 3: Execution Phase\n&lt;/h3&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Whenever a user taps on the button, let's say this button will change the colour of the background, then firstly the UI Thread will capture the Tap event on the button.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Since the Native UI cannot execute a JavaScript function directly, it will serialize the touch event into a JSON and will send this even to the &lt;strong&gt;asynchronous bridge.&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;The JS Bridge will sent this information to the JavaScript engine (JSC), which will deserialize the JSON, process the JavaScript code, let's say update the state using &lt;code&gt;useState&lt;/code&gt; and React calculates the new UI based on the changes.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;The JS Thread now serializes these instructions in the JSON format and will again send it to the asynchronous bridge.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;The Shadow Thread will receive this JSON, and the Yoga library will read these instructions and will calculate exact coordinates and properties of the element and will pass it to the UI Thread to finally paint the updated screen.&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h3&gt;\n  \n  \n  Limitations of the Asynchronous Bridge\n&lt;/h3&gt;\n\n&lt;p&gt;There were a few limitations of the asynchronous bridge but the biggest ones were &lt;strong&gt;the bridge and the JSON&lt;/strong&gt;, as you can see from the diagram above.&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;Serialization Bottleneck:&lt;/strong&gt; Since mobile platforms and JavaScript cannot directly communicate, they rely on JSON for interaction. Stringifying and parsing JSON costs CPU cycles. This serialization and deserialization process through the asynchronous bridge introduces significant latency, and handling a large number of events can lead to lag and frame drops on the native side.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;Asynchronous Bridge&lt;/strong&gt;: The serialization and deserialization process isn't inherently problematic, but the issue arose from relying on a single asynchronous bridge. Because JavaScript cannot directly interact with the native side to modify the UI, each event must pass through the entire message-passing phase on the bridge. With a large volume of JSON messages, the bridge often becomes congested, leading to frame drops, laggy animations, and the notorious blank white screens when rendering lists.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;Single JavaScript Thread&lt;/strong&gt;: All code processing must occur on the JavaScript Thread. Although there are separate threads, such as UI Threads, the majority of application logic is managed by the JavaScript thread. Consequently, intensive computations can block this thread, leading to noticeable performance declines across the entire app.&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Since, React Native doesn't block the Main Thread, that's why everything needs to be done in asynchronous way. Hence every event becomes a promise/callback.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  New Architecture\n&lt;/h2&gt;\n\n&lt;p&gt;The React Native core team soon understood that optimizing the JSON Bridge wouldn't lead to the desired performance improvements. Therefore, they chose to eliminate the asynchronous JS Bridge altogether.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fbr0k73l6vfwy6ygcszdw.jpeg\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fbr0k73l6vfwy6ygcszdw.jpeg\" alt=\"React Native New Architecture\" width=\"800\" height=\"405\"&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;The bridge has now been replaced with the JavaScript Interface (JSI), featuring C++ bindings that directly call the native API of mobile platforms, bypassing the serialization/deserialization and message-passing process. This enhances the overall app performance.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Hermes Engine\n&lt;/h3&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Hermes Engine is an open source JavaScript engine created by Meta for improving the performance of the React Native apps.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;It is heavily optimized for the React Native and uses JSI to directly communicate with the native platforms using Native APIs.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;It provides other benefits like Improved time to interactive (TTI), smaller app bundle size and reduced memory consumption.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;It replaced the old JSC and became the default for React native apps starting from version 0.70 of RN.&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h3&gt;\n  \n  \n  JavaScript Interface (JSI)\n&lt;/h3&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;JavaScript Interface (JSI) is the new lightweight C++ layer that allows the JavaScript to directly communicate with the Native code.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;JSI replaced the old legacy bridge architecture which means that no message passing or asynchronous operations are required.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;JSI allows JavaScript to hold the references to C++ host objects and invoke methods directly on them in a synchronous manner.&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fyime9s1hh8ls58vppri3.jpeg\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fyime9s1hh8ls58vppri3.jpeg\" alt=\"JSI Bridge\" width=\"800\" height=\"465\"&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Because of JSI, JavaScript can now hold direct references to C++ Host Objects e.g. &lt;code&gt;nativeObjectRef&lt;/code&gt;. When JavaScript calls &lt;code&gt;nativeObjectRef.setProperty()&lt;/code&gt;, it isn't sending a JSON message to a queue; it is &lt;strong&gt;synchronously&lt;/strong&gt; invoking a method on the C++ object located in the native side.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Turbo Modules\n&lt;/h3&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;In legacy architecture, if you need to use some native functionality such as Bluetooth, camera etc, then those native modules were loaded eagerly, on the startup and stayed loaded in the memory in case they were needed later.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Due to these reasons, in legacy architecture the native modules would take more time to load, significantly increase the memory footprint and makes the app slow.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;However with introduction to Turbo Modules in the new architecture, now these modules are lazily loaded.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;As turbo modules are loaded only when they are required, this allowed to reduce the memory footprint and also enhances the performance a lot.&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h3&gt;\n  \n  \n  Fabric System\n&lt;/h3&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Fabric is the new rendering system which utilizes the JSI and Yoga library to manage the UI on the native side.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;In the legacy architecture, if JavaScript wanted to render a massive list, it had to serialize a huge JSON payload, dump it into the queue, and hope the UI thread wouldn't drop frames. It was asynchronous in nature.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;With Fabric, JavaScript uses JSI to directly invoke the C++ methods that create and update the native views (like UIView on iOS or ViewGroup on Android) synchronously.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Fabric render pipeline have multiple phases:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Render Phase: React executed the code and create a React Element tree which is then uses C++ to translate it to a React shadow tree.&lt;/li&gt;\n&lt;li&gt;Commit Phase: Yoga library uses the shadow tree and decided the exact mathematical coordinates of the components and decides the layout.&lt;/li&gt;\n&lt;li&gt;Mount Phase: Native side will render layout on the screen based on the information from the yoga tree&lt;/li&gt;\n&lt;/ol&gt;\n\n\n&lt;/li&gt;\n\n&lt;/ol&gt;\n\n&lt;p&gt;In this article, I am not going into the workings of the Fabric, but may create a separate article in future for this.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Conclusion\n&lt;/h2&gt;\n\n&lt;p&gt;At this point, you have a solid understanding of what React Native is and exactly how it operates under the hood.&lt;/p&gt;\n\n&lt;p&gt;We've explored how the Legacy Architecture functioned, why the asynchronous JSON Bridge became a major performance bottleneck, and how the React Native core team solved it by rewriting the engine with C++ and JSI.&lt;/p&gt;\n\n&lt;p&gt;What are you waiting for? Go build that app!&lt;/p&gt;",
    "date": "2026-02-25T04:42:41.000Z",
    "url": "https://dev.to/thatsmanmeet/react-native-explained-from-the-legacy-bridge-to-the-new-architecture-309b"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "React/Next.js",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://dev.to/feed/tag/react",
    "title": "Why React Native Is the Future of Mobile App Development",
    "partialText": "&lt;p&gt;Mobile applications have become an essential part of modern business strategy. Companies of all sizes are investing in mobile apps to improve customer engagement, streamline operations, and increase revenue. As the demand for high-quality apps grows, businesses are looking for solutions that are fast, cost-effective, and scalable. This is where React Native stands out as a powerful choice for the future of mobile app development.&lt;/p&gt;\n\n&lt;p&gt;React Native is an open-source framework developed by Facebook that allows developers to build mobile applications using JavaScript and React. Unlike traditional native app development, which requires separate codebases for Android and iOS, React Native enables developers to write a single codebase that works across both platforms. This cross-platform capability significantly reduces development time and cost, making it highly attractive for startups and enterprises alike.&lt;/p&gt;\n\n&lt;p&gt;One of the biggest advantages of React Native is faster development. With features like Hot Reloading, developers can instantly see changes without rebuilding the entire application. This speeds up testing, debugging, and overall productivity. Businesses benefit from shorter development cycles and quicker time-to-market, which is critical in today’s competitive digital landscape.&lt;/p&gt;\n\n&lt;p&gt;Cost efficiency is another major reason React Native is gaining popularity. Maintaining separate teams for Android and iOS development can be expensive. React Native allows businesses to use one development team to build apps for multiple platforms. This reduces labor costs while maintaining consistent performance and design across devices. For small and medium-sized businesses, this cost-saving factor is a significant advantage.&lt;/p&gt;\n\n&lt;p&gt;Performance is often a concern when it comes to cross-platform frameworks. However, React Native delivers near-native performance by using native components instead of web-based views. It communicates directly with the native platform, ensuring smooth animations, responsive interfaces, and reliable functionality. Many popular apps built with React Native demonstrate its ability to handle complex requirements effectively.&lt;/p&gt;\n\n&lt;p&gt;Another reason React Native is shaping the future is its strong community support. Being open-source, it has a vast global developer community that continuously contributes to improvements, updates, and third-party libraries. This active ecosystem ensures that developers have access to tools, plugins, and solutions that simplify development and solve common challenges quickly.&lt;/p&gt;\n\n&lt;p&gt;React Native also supports code reusability, which enhances scalability. Businesses can reuse a large portion of the code when adding new features or expanding to other platforms. This flexibility allows companies to adapt to market demands without starting from scratch. As technology evolves, scalability becomes essential for long-term growth.&lt;/p&gt;\n\n&lt;p&gt;User experience plays a crucial role in app success. React Native enables developers to create visually appealing and intuitive interfaces that match native app standards. With customizable components and smooth navigation, businesses can deliver engaging user experiences that improve retention and customer satisfaction.&lt;/p&gt;\n\n&lt;p&gt;Integration with emerging technologies is another advantage. React Native works well with technologies like artificial intelligence, machine learning, and cloud services. This compatibility allows businesses to build innovative, future-ready applications that stay ahead of industry trends.&lt;/p&gt;\n\n&lt;p&gt;React Native is not just a trend but a transformative solution in mobile app development. Its cross-platform capabilities, cost efficiency, strong performance, and scalability make it a preferred choice for modern businesses. As companies continue to seek faster, smarter, and more affordable development solutions, React Native is positioned to lead the future of mobile application development. Businesses looking to leverage its full potential can partner with &lt;a href=\"https://avanexa.com/\" rel=\"noopener noreferrer\"&gt;Avanexa Technologies&lt;/a&gt;, a trusted &lt;a href=\"https://avanexa.com/services/mobile-application-development-company-coimbatore/\" rel=\"noopener noreferrer\"&gt;mobile app development company in Coimbatore&lt;/a&gt;, to build high-performance, scalable mobile applications.&lt;/p&gt;",
    "date": "2026-02-25T04:28:34.000Z",
    "url": "https://dev.to/avanexa_technologies_b4fe/why-react-native-is-the-future-of-mobile-app-development-18hh"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "React/Next.js",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://dev.to/feed/tag/react",
    "title": "Generating 21 Multilingual Promo Videos from React Code with Remotion",
    "partialText": "&lt;p&gt;I run &lt;a href=\"https://amida-san.com/en\" rel=\"noopener noreferrer\"&gt;Amida-san&lt;/a&gt;, an online Amidakuji (lottery ladder) service. For the Product Hunt launch, I needed a 30-second demo video, a 15-second clip for X, and a calmer pitch version -- each in English, Japanese, Chinese, and Korean.&lt;/p&gt;\n\n&lt;p&gt;You can see the actual videos on the &lt;a href=\"https://amida-san.com/en\" rel=\"noopener noreferrer\"&gt;Amida-san top page&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fshusukedev.com%2Fimages%2Fremotion-multilingual-video-generation%2Fpromo-video-screenshot.png\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fshusukedev.com%2Fimages%2Fremotion-multilingual-video-generation%2Fpromo-video-screenshot.png\" alt=\"Screenshot of a promo video generated with Remotion\" width=\"800\" height=\"550\"&gt;&lt;/a&gt;&lt;br&gt;\n&lt;em&gt;A promo video embedded on the landing page, showing the Amidakuji animation scene.&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;Doing this manually in a video editor was not realistic. Instead, I wrote everything as React components. Remotion converts JSX to MP4 -- scenes are functions, translations are props, and rendering is reproducible.&lt;/p&gt;\n\n&lt;p&gt;The result: a single &lt;code&gt;npm run video:render:all&lt;/code&gt; command generates 21 videos (5 versions x 4 languages + 1) in about 15 minutes.&lt;/p&gt;\n&lt;h2&gt;\n  \n  \n  Architecture -- A Standalone Subproject\n&lt;/h2&gt;\n\n&lt;p&gt;Remotion ships with heavy dependencies: &lt;code&gt;@remotion/bundler&lt;/code&gt;, &lt;code&gt;@remotion/renderer&lt;/code&gt;, Webpack toolchain, and &lt;code&gt;ffmpeg&lt;/code&gt; bindings. Mixing these into a Vite-based React app bloats &lt;code&gt;node_modules&lt;/code&gt; and causes version conflicts.&lt;/p&gt;\n\n&lt;p&gt;I separated it into a subproject with its own &lt;code&gt;package.json&lt;/code&gt; under a &lt;code&gt;video/&lt;/code&gt; directory.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;project-root/\n  package.json              # Main app (Vite + React)\n  video/\n    package.json            # Remotion subproject\n    src/\n      compositions/         # 6 compositions\n      scenes/               # 10 reusable scenes\n      constants/            # Render config, Amidakuji config\n      components/           # UI parts (Caption, etc.)\n    scripts/\n      generate-promo-video.ts   # Single video render\n      render-all-videos.ts      # 21-video batch render\n  src/\n    shared/\n      videoMetadata.ts      # Metadata shared between main app and video\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h2&gt;\n  \n  \n  Iterating with Remotion Studio\n&lt;/h2&gt;\n\n&lt;p&gt;During development, &lt;code&gt;npx remotion studio&lt;/code&gt; launches a browser-based editor. You select compositions from the sidebar and scrub the timeline to inspect frame by frame.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fshusukedev.com%2Fimages%2Fremotion-multilingual-video-generation%2Fremotion-studio.png\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fshusukedev.com%2Fimages%2Fremotion-multilingual-video-generation%2Fremotion-studio.png\" alt=\"Remotion Studio interface\" width=\"800\" height=\"453\"&gt;&lt;/a&gt;&lt;br&gt;\n&lt;em&gt;Remotion Studio. Composition list on the left, timeline with Sequence layout at the bottom.&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;You can switch props from the sidebar too -- change &lt;code&gt;language&lt;/code&gt; from &lt;code&gt;ja&lt;/code&gt; to &lt;code&gt;en&lt;/code&gt; and preview the English version immediately. Code changes hot-reload instantly, so adjusting spring parameters or tweaking text takes seconds.&lt;/p&gt;\n\n&lt;p&gt;Rendering to MP4 takes time, but this fast edit-preview cycle gives you the same trial-and-error experience as a video editor. You can fine-tune timing and verify animations entirely in the browser.&lt;/p&gt;\n&lt;h2&gt;\n  \n  \n  Composition Versioning -- 5 Formats\n&lt;/h2&gt;\n\n&lt;p&gt;Different platforms require different videos. I prepared 5 versions:&lt;/p&gt;\n\n&lt;div class=\"table-wrapper-paragraph\"&gt;&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Version&lt;/th&gt;\n&lt;th&gt;Duration&lt;/th&gt;\n&lt;th&gt;Target&lt;/th&gt;\n&lt;th&gt;Style&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;A&lt;/td&gt;\n&lt;td&gt;~50s&lt;/td&gt;\n&lt;td&gt;Product Hunt (full demo)&lt;/td&gt;\n&lt;td&gt;Problem-solution&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;B&lt;/td&gt;\n&lt;td&gt;~43s&lt;/td&gt;\n&lt;td&gt;Product Hunt (visual-first)&lt;/td&gt;\n&lt;td&gt;Animation-driven&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;C&lt;/td&gt;\n&lt;td&gt;30s&lt;/td&gt;\n&lt;td&gt;General purpose (recommended)&lt;/td&gt;\n&lt;td&gt;Balanced&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;D&lt;/td&gt;\n&lt;td&gt;15s&lt;/td&gt;\n&lt;td&gt;X, TikTok, social media&lt;/td&gt;\n&lt;td&gt;Hook + CTA only&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;E&lt;/td&gt;\n&lt;td&gt;30s&lt;/td&gt;\n&lt;td&gt;Business / pitch deck&lt;/td&gt;\n&lt;td&gt;Restrained animations&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;&lt;/div&gt;\n\n&lt;p&gt;Each version is an independent composition component (&lt;code&gt;MainPromoA.tsx&lt;/code&gt; through &lt;code&gt;MainPromoE.tsx&lt;/code&gt;) that assembles scenes with Remotion's &lt;code&gt;&amp;lt;Sequence&amp;gt;&lt;/code&gt;. Here's the structure for the 30-second version C:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight tsx\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;MainPromoC&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;React&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;FC&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nx\"&gt;Props&lt;/span&gt;&lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;({&lt;/span&gt; &lt;span class=\"nx\"&gt;language&lt;/span&gt; &lt;span class=\"p\"&gt;})&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;introDuration&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"mi\"&gt;3&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"nx\"&gt;FPS&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;amidaDuration&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"mi\"&gt;11&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"nx\"&gt;FPS&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;ballDuration&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"mi\"&gt;10&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"nx\"&gt;FPS&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;featuresDuration&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"mi\"&gt;3&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"nx\"&gt;FPS&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;ctaDuration&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"mi\"&gt;3&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"nx\"&gt;FPS&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;return &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;AbsoluteFill&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;Audio&lt;/span&gt; &lt;span class=\"na\"&gt;src&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nf\"&gt;staticFile&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;audio/bgm.mp3&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt; &lt;span class=\"na\"&gt;volume&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"mf\"&gt;0.4&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt; &lt;span class=\"p\"&gt;/&amp;gt;&lt;/span&gt;\n\n      &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;Sequence&lt;/span&gt; &lt;span class=\"na\"&gt;from&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"mi\"&gt;0&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt; &lt;span class=\"na\"&gt;durationInFrames&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;introDuration&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;IntroSceneV2&lt;/span&gt; &lt;span class=\"na\"&gt;language&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;language&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt; &lt;span class=\"p\"&gt;/&amp;gt;&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nc\"&gt;Sequence&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n\n      &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;Sequence&lt;/span&gt; &lt;span class=\"na\"&gt;from&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;introDuration&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt; &lt;span class=\"na\"&gt;durationInFrames&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;amidaDuration&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;Amida2DScene&lt;/span&gt;\n          &lt;span class=\"na\"&gt;language&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;language&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n          &lt;span class=\"na\"&gt;showWebAppDemo&lt;/span&gt;\n          &lt;span class=\"na\"&gt;videoDelayFrames&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"mi\"&gt;6&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"nx\"&gt;FPS&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n        &lt;span class=\"p\"&gt;/&amp;gt;&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nc\"&gt;Sequence&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n\n      &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;Sequence&lt;/span&gt;\n        &lt;span class=\"na\"&gt;from&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;introDuration&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt; &lt;span class=\"nx\"&gt;amidaDuration&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;durationInFrames&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;ballDuration&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;BallAnimationScene&lt;/span&gt; &lt;span class=\"na\"&gt;language&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;language&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt; &lt;span class=\"na\"&gt;showWebAppDemo&lt;/span&gt; &lt;span class=\"na\"&gt;showAnimation&lt;/span&gt; &lt;span class=\"p\"&gt;/&amp;gt;&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nc\"&gt;Sequence&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n\n      &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;Sequence&lt;/span&gt;\n        &lt;span class=\"na\"&gt;from&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;introDuration&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt; &lt;span class=\"nx\"&gt;amidaDuration&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt; &lt;span class=\"nx\"&gt;ballDuration&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;durationInFrames&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;featuresDuration&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;FeaturesGridScene&lt;/span&gt; &lt;span class=\"na\"&gt;language&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;language&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt; &lt;span class=\"p\"&gt;/&amp;gt;&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nc\"&gt;Sequence&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n\n      &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;Sequence&lt;/span&gt;\n        &lt;span class=\"na\"&gt;from&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;introDuration&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt; &lt;span class=\"nx\"&gt;amidaDuration&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt; &lt;span class=\"nx\"&gt;ballDuration&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt; &lt;span class=\"nx\"&gt;featuresDuration&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;durationInFrames&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;ctaDuration&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;CTAScene&lt;/span&gt; &lt;span class=\"na\"&gt;language&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;language&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt; &lt;span class=\"p\"&gt;/&amp;gt;&lt;/span&gt;\n      &lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nc\"&gt;Sequence&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;&amp;lt;/&lt;/span&gt;&lt;span class=\"nc\"&gt;AbsoluteFill&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;};&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;All durations are computed from named constants. &lt;code&gt;FPS&lt;/code&gt; is 30, defined once in &lt;code&gt;renderConfig.ts&lt;/code&gt; and referenced everywhere. No magic numbers.&lt;/p&gt;\n\n&lt;p&gt;Versions D and E use \"subtle\" variants of the same scenes (&lt;code&gt;IntroSceneSubtle&lt;/code&gt;, &lt;code&gt;FeaturesGridSceneSubtle&lt;/code&gt;) with gentler spring physics.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Multilingual Support and Cultural Adaptation\n&lt;/h2&gt;\n\n&lt;p&gt;Each scene receives a &lt;code&gt;language&lt;/code&gt; prop (&lt;code&gt;'en' | 'ja' | 'zh' | 'ko'&lt;/code&gt;) and selects display content from a local text map.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight tsx\"&gt;&lt;code&gt;&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;texts&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"na\"&gt;en&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"na\"&gt;hook&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Can your team trust the lottery?&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;proof&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Trusted by 10,000+ users&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;solution&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Everyone participates. Nobody cheats.&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt;\n  &lt;span class=\"na\"&gt;ja&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"na\"&gt;hook&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Are the drawings really fair?&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;proof&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Used by 10,000+ people&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;solution&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Everyone joins. Zero fraud.&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt;\n  &lt;span class=\"na\"&gt;zh&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"na\"&gt;hook&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Is your drawing really fair?&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;proof&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Trusted by 10,000+ users&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;solution&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Everyone participates. Zero cheating.&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt;\n  &lt;span class=\"na\"&gt;ko&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"na\"&gt;hook&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Is your lottery really fair?&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;proof&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Used by 10,000+ people&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;solution&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Everyone participates. Zero fraud.&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt;\n&lt;span class=\"p\"&gt;};&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;The Japanese text is not a literal translation of English. \"Can your team trust the lottery?\" becomes a culturally natural question in each language. Video text has short screen time, so natural-sounding expressions take priority over literal translations.&lt;/p&gt;\n\n&lt;p&gt;Fonts also switch per language:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight tsx\"&gt;&lt;code&gt;&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;style&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;React&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;CSSProperties&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"na\"&gt;fontFamily&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;language&lt;/span&gt; &lt;span class=\"o\"&gt;===&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;ja&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;\n      &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Hiragino Kaku Gothic ProN, sans-serif&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;\n      &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;language&lt;/span&gt; &lt;span class=\"o\"&gt;===&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;zh&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;\n        &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;\"PingFang SC\", \"Microsoft YaHei\", sans-serif&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;\n        &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;language&lt;/span&gt; &lt;span class=\"o\"&gt;===&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;ko&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;\n          &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;\"Malgun Gothic\", \"Apple SD Gothic Neo\", sans-serif&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;\n          &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"s1\"&gt;Arial, \"Helvetica Neue\", sans-serif&lt;/span&gt;&lt;span class=\"dl\"&gt;'&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n&lt;span class=\"p\"&gt;};&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;On macOS, these CJK fonts come pre-installed. For CI environments (Linux), consider installing the corresponding fonts or using &lt;code&gt;@remotion/google-fonts&lt;/code&gt;.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Reusable Scene Components\n&lt;/h2&gt;\n\n&lt;p&gt;The 5 compositions share 10 scene components:&lt;/p&gt;\n\n&lt;div class=\"table-wrapper-paragraph\"&gt;&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Scene&lt;/th&gt;\n&lt;th&gt;Used in&lt;/th&gt;\n&lt;th&gt;Role&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;IntroSceneV2&lt;/td&gt;\n&lt;td&gt;C, D&lt;/td&gt;\n&lt;td&gt;Spring-scaled hook&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;IntroScene&lt;/td&gt;\n&lt;td&gt;A, B&lt;/td&gt;\n&lt;td&gt;Longer narrative intro&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;IntroSceneSubtle&lt;/td&gt;\n&lt;td&gt;E&lt;/td&gt;\n&lt;td&gt;Restrained fade-in intro&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Amida2DScene&lt;/td&gt;\n&lt;td&gt;A, B, C&lt;/td&gt;\n&lt;td&gt;SVG Amidakuji animation&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;BallAnimationScene&lt;/td&gt;\n&lt;td&gt;A, B, C&lt;/td&gt;\n&lt;td&gt;Ball drop + web app demo&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;FeaturesScene&lt;/td&gt;\n&lt;td&gt;A&lt;/td&gt;\n&lt;td&gt;Feature walkthrough&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;FeaturesGridScene&lt;/td&gt;\n&lt;td&gt;B, C&lt;/td&gt;\n&lt;td&gt;Compact feature grid&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;FeaturesGridSceneSubtle&lt;/td&gt;\n&lt;td&gt;E&lt;/td&gt;\n&lt;td&gt;Restrained feature grid&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;CTAScene&lt;/td&gt;\n&lt;td&gt;A, B, C, D&lt;/td&gt;\n&lt;td&gt;Standard CTA&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;CTASceneSubtle&lt;/td&gt;\n&lt;td&gt;E&lt;/td&gt;\n&lt;td&gt;Business-oriented CTA&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;&lt;/div&gt;\n\n&lt;p&gt;The Amidakuji animation in &lt;code&gt;Amida2DScene&lt;/code&gt; draws SVG &lt;code&gt;&amp;lt;line&amp;gt;&lt;/code&gt; elements using Remotion's &lt;code&gt;spring()&lt;/code&gt; physics. Vertical lines appear one by one, and each player's horizontal bridges extend outward.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight tsx\"&gt;&lt;code&gt;&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;lineProgress&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;spring&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n  &lt;span class=\"na\"&gt;frame&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;frame&lt;/span&gt; &lt;span class=\"o\"&gt;-&lt;/span&gt; &lt;span class=\"nx\"&gt;playerIndex&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"mi\"&gt;8&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"nx\"&gt;fps&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"na\"&gt;config&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"na\"&gt;damping&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"mi\"&gt;100&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"na\"&gt;stiffness&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"mi\"&gt;200&lt;/span&gt; &lt;span class=\"p\"&gt;},&lt;/span&gt;\n&lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nt\"&gt;line&lt;/span&gt;\n  &lt;span class=\"na\"&gt;x1&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;x&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n  &lt;span class=\"na\"&gt;y1&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;VERTICAL_LINE_START_Y&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n  &lt;span class=\"na\"&gt;x2&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;x&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n  &lt;span class=\"na\"&gt;y2&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;VERTICAL_LINE_START_Y&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt; &lt;span class=\"nx\"&gt;lineHeight&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"nx\"&gt;lineProgress&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n  &lt;span class=\"na\"&gt;stroke&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"s\"&gt;\"#009999\"&lt;/span&gt;\n  &lt;span class=\"na\"&gt;strokeWidth&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"mi\"&gt;5&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n  &lt;span class=\"na\"&gt;strokeLinecap&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"s\"&gt;\"round\"&lt;/span&gt;\n&lt;span class=\"p\"&gt;/&amp;gt;;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;Layout constants like &lt;code&gt;PLAYER_COUNT&lt;/code&gt;, &lt;code&gt;STAGE_WIDTH&lt;/code&gt;, and &lt;code&gt;PLAYER_BRIDGES&lt;/code&gt; are centralized in &lt;code&gt;amidaConfig.ts&lt;/code&gt;. Both the animation scene and ball-drop scene reference the same config, preventing rendering inconsistencies.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Batch Rendering -- Bundle Once, Render 21 Times\n&lt;/h2&gt;\n\n&lt;p&gt;The key to batch processing is minimizing &lt;code&gt;bundle()&lt;/code&gt; calls. Remotion's &lt;code&gt;bundle()&lt;/code&gt; runs Webpack internally, making it expensive. The batch script runs &lt;code&gt;bundle()&lt;/code&gt; once and loops &lt;code&gt;renderMedia()&lt;/code&gt; 21 times against the same bundle.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;renderAllVideos&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;async &lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"c1\"&gt;// Bundle once&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;bundled&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nf\"&gt;bundle&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n    &lt;span class=\"na\"&gt;entryPoint&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;path&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;join&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;VIDEO_DIR&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;src&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;index.ts&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"na\"&gt;webpackOverride&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;config&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;config&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n  &lt;span class=\"c1\"&gt;// Render 21 times sequentially&lt;/span&gt;\n  &lt;span class=\"k\"&gt;for &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;comp&lt;/span&gt; &lt;span class=\"k\"&gt;of&lt;/span&gt; &lt;span class=\"nx\"&gt;compositions&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;composition&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nf\"&gt;selectComposition&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n      &lt;span class=\"na\"&gt;serveUrl&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;bundled&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"na\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;comp&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"na\"&gt;inputProps&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;comp&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;inputProps&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n    &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nf\"&gt;renderMedia&lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;composition&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"na\"&gt;serveUrl&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;bundled&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"na\"&gt;codec&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;h264&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"na\"&gt;outputLocation&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;path&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;join&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;OUTPUT_DIR&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;comp&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;filename&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n      &lt;span class=\"na\"&gt;inputProps&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;comp&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;inputProps&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;};&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;The composition matrix is a flat array enumerating all combinations.&lt;/p&gt;\n\n&lt;p&gt;The first entry, &lt;code&gt;SimpleTitle&lt;/code&gt;, is a short intro clip with just the service logo and title, used for concatenation with other videos. This is the \"+1\" in \"5 x 4 + 1\".&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;compositions&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;\n  &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"na\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;SimpleTitle&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"na\"&gt;filename&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;simple-title.mp4&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"na\"&gt;inputProps&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{}&lt;/span&gt; &lt;span class=\"p\"&gt;},&lt;/span&gt;\n  &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"na\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;MainPromoC&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;filename&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;promo-c-en.mp4&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;inputProps&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"na\"&gt;language&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;en&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt; &lt;span class=\"p\"&gt;},&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt;\n  &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"na\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;MainPromoC&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;filename&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;promo-c-ja.mp4&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"na\"&gt;inputProps&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"na\"&gt;language&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;ja&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt; &lt;span class=\"p\"&gt;},&lt;/span&gt;\n  &lt;span class=\"p\"&gt;},&lt;/span&gt;\n  &lt;span class=\"c1\"&gt;// ... all 21 entries&lt;/span&gt;\n&lt;span class=\"p\"&gt;];&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;Each render injects MP4 title and description metadata from the shared &lt;code&gt;videoMetadata.ts&lt;/code&gt; module. This metadata is used both in the MP4 file tags and in JSON-LD structured data on the website. Update one place, and both reflect the change.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Dynamic vs. Fixed Duration\n&lt;/h2&gt;\n\n&lt;p&gt;Versions A and B embed actual web app screen recordings. Recording length varies by language (the Japanese demo is longer), so &lt;code&gt;calculateMetadata&lt;/code&gt; resolves duration dynamically at render time.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight tsx\"&gt;&lt;code&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"nc\"&gt;Composition&lt;/span&gt;\n  &lt;span class=\"na\"&gt;id&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"s\"&gt;\"MainPromoA\"&lt;/span&gt;\n  &lt;span class=\"na\"&gt;component&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"nx\"&gt;MainPromoA&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n  &lt;span class=\"na\"&gt;durationInFrames&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"mi\"&gt;300&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt; &lt;span class=\"c1\"&gt;// Initial placeholder&lt;/span&gt;\n  &lt;span class=\"na\"&gt;calculateMetadata&lt;/span&gt;&lt;span class=\"p\"&gt;=&lt;/span&gt;&lt;span class=\"si\"&gt;{&lt;/span&gt;&lt;span class=\"k\"&gt;async &lt;/span&gt;&lt;span class=\"p\"&gt;({&lt;/span&gt; &lt;span class=\"nx\"&gt;props&lt;/span&gt; &lt;span class=\"p\"&gt;})&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;durations&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nf\"&gt;calculatePromoDuration&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;props&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;language&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;totalDuration&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;introDuration&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;durations&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;amidaSceneDuration&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;durations&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;ballSceneDuration&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;featuresDuration&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;ctaDuration&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n    &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"na\"&gt;durationInFrames&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;totalDuration&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"na\"&gt;props&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"p\"&gt;...&lt;/span&gt;&lt;span class=\"nx\"&gt;props&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;...&lt;/span&gt;&lt;span class=\"nx\"&gt;durations&lt;/span&gt; &lt;span class=\"p\"&gt;},&lt;/span&gt;\n    &lt;span class=\"p\"&gt;};&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"si\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;/&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;When video files are missing (CI environment or fresh clone), fallback constants are used:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;FALLBACK_AMIDA_SCENE_DURATION_FRAMES&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"mi\"&gt;18&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"nx\"&gt;FPS&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt; &lt;span class=\"c1\"&gt;// 540&lt;/span&gt;\n&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;FALLBACK_BALL_SCENE_DURATION_FRAMES&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"mi\"&gt;12&lt;/span&gt; &lt;span class=\"o\"&gt;*&lt;/span&gt; &lt;span class=\"nx\"&gt;FPS&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt; &lt;span class=\"c1\"&gt;// 360&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;Versions C, D, and E use fixed durations (&lt;code&gt;30 * FPS&lt;/code&gt;, &lt;code&gt;15 * FPS&lt;/code&gt;) without &lt;code&gt;calculateMetadata&lt;/code&gt;. Fixed durations make frame counts predictable and timing adjustments easier.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Lessons Learned\n&lt;/h2&gt;\n\n&lt;h3&gt;\n  \n  \n  Use OffthreadVideo\n&lt;/h3&gt;\n\n&lt;p&gt;Remotion's &lt;code&gt;&amp;lt;Video&amp;gt;&lt;/code&gt; decodes on the main thread, which can cause dropped frames during rendering. &lt;code&gt;OffthreadVideo&lt;/code&gt; renders each frame independently on a separate thread. I switched after experiencing frame drops in the web app screen recording sections.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  ESM Path Resolution Requires fileURLToPath\n&lt;/h3&gt;\n\n&lt;p&gt;Node.js ESM modules don't have &lt;code&gt;__dirname&lt;/code&gt;. Render scripts resolve paths like this:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight typescript\"&gt;&lt;code&gt;&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;__filename&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;fileURLToPath&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;meta&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;url&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;__dirname&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;path&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;dirname&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;__filename&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;An easy-to-forget pattern when migrating from CommonJS.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Strictly Sync 3D Library Versions\n&lt;/h3&gt;\n\n&lt;p&gt;The video project imports Three.js components from the main app. Minor version mismatches between the two &lt;code&gt;package.json&lt;/code&gt; files caused \"Cannot read properties of undefined\" errors. Pin both major and minor versions across projects.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  No Magic Numbers\n&lt;/h3&gt;\n\n&lt;p&gt;Durations, intervals, and frame counts are all named constants. A single config file controls timing across all compositions.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Sequential Rendering Is Reliable\n&lt;/h3&gt;\n\n&lt;p&gt;I tried parallel rendering but it exhausted RAM and crashed. Single bundle + sequential rendering is slower but reliably generates all videos.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Conclusion\n&lt;/h2&gt;\n\n&lt;p&gt;With this setup, adding a new language means adding entries to each scene's text map and appending 4 lines to the composition matrix. Adding a new version just requires one composition file that rearranges existing scenes.&lt;/p&gt;\n\n&lt;p&gt;All 21 videos, 5 versions, 4 languages -- the entire pipeline regenerates in about 15 minutes on an M1 MacBook Pro.&lt;/p&gt;\n\n&lt;p&gt;If your product needs multilingual, multi-format video assets, writing videos as React components is a viable approach. Want to change a tagline, swap a font, or add a 6th version? That's where the initial setup cost pays off.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;If you need a fair, participatory lottery, try &lt;a href=\"https://amida-san.com/en\" rel=\"noopener noreferrer\"&gt;Amida-san&lt;/a&gt;!&lt;/p&gt;\n\n\n\n\n&lt;p&gt;&lt;em&gt;Originally published at &lt;a href=\"https://shusukedev.com/blog/remotion-multilingual-video-generation\" rel=\"noopener noreferrer\"&gt;shusukedev.com&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;",
    "date": "2026-02-25T00:41:22.000Z",
    "url": "https://dev.to/shusukedev/generating-21-multilingual-promo-videos-from-react-code-with-remotion-o26"
  }
]