[
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "Ï†ÑÏ≤¥",
    "categories": [
      "_all_"
    ],
    "specUrl": "https://dev.to/feed",
    "title": "21 for 21",
    "partialText": "&lt;p&gt;Check out this Pen I made!&lt;/p&gt;\n\n&lt;p&gt;&lt;iframe height=\"600\" src=\"https://codepen.io/Ja-Xiao/embed/EagYoXZ?height=600&amp;amp;default-tab=result&amp;amp;embed-version=2\"&gt;\n&lt;/iframe&gt;\n&lt;/p&gt;",
    "date": "2026-02-23T15:43:53.000Z",
    "url": "https://dev.to/ja_xiao_12fb66bccf6a18a45/21-for-21-409l"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "Ï†ÑÏ≤¥",
    "categories": [
      "_all_"
    ],
    "specUrl": "https://dev.to/feed",
    "title": "How I Built an E2E Encrypted File Transfer in Python ‚Äî and What Came Out of It",
    "partialText": "&lt;p&gt;I want to share my side project ‚Äî &lt;strong&gt;SecureShare&lt;/strong&gt;. It's a desktop app for direct file transfer between two computers with end-to-end encryption.&lt;/p&gt;\n\n&lt;p&gt;This post isn't about how great it is. It's more about the technical decisions, the pitfalls, and why certain things are built the way they are. I'd love to hear your thoughts and criticism.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F8ujattpod7kx0rj2kkxn.jpg\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F8ujattpod7kx0rj2kkxn.jpg\" width=\"552\" height=\"696\"&gt;&lt;/a&gt;&lt;br&gt;\n&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fs3eim7ocinmnl7k3xdbr.jpg\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fs3eim7ocinmnl7k3xdbr.jpg\" width=\"551\" height=\"692\"&gt;&lt;/a&gt;&lt;br&gt;\n&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F9i0lkfniyiysqv31536p.jpg\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F9i0lkfniyiysqv31536p.jpg\" width=\"546\" height=\"682\"&gt;&lt;/a&gt;&lt;br&gt;\n&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Ffb72qurvsouiibqvlinz.jpg\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Ffb72qurvsouiibqvlinz.jpg\" width=\"554\" height=\"681\"&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;h2&gt;\n  \n  \n  The Problem\n&lt;/h2&gt;\n\n&lt;p&gt;I needed to send a confidential document to someone in another city. My options:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;Google Drive / Dropbox&lt;/strong&gt; ‚Äî the file sits on someone else's servers, the company has access&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Telegram&lt;/strong&gt; ‚Äî convenient, but files are stored on their servers, and \"secret chats\" don't handle files well&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Email&lt;/strong&gt; ‚Äî no comment&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;WeTransfer&lt;/strong&gt; ‚Äî the file is temporarily stored on their servers&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;All of these have the same issue: my file ends up on someone else's server, and I don't control what happens to it next.&lt;/p&gt;\n\n&lt;p&gt;I wanted something simple: send a file directly, encrypted on my device, decrypted only on the recipient's device. No sign-ups, no accounts.&lt;/p&gt;\n&lt;h2&gt;\n  \n  \n  How It Works\n&lt;/h2&gt;\n\n&lt;p&gt;The architecture is fairly straightforward:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;Sender  ‚Üê‚ÄîWSS‚Äî‚Üí  Relay Server  ‚Üê‚ÄîWSS‚Äî‚Üí  Receiver\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;ol&gt;\n&lt;li&gt;Both clients connect to the relay server via WebSocket (TLS)&lt;/li&gt;\n&lt;li&gt;X25519 key exchange (Elliptic Curve Diffie-Hellman)&lt;/li&gt;\n&lt;li&gt;Both sides see a &lt;strong&gt;verification code&lt;/strong&gt; ‚Äî like Signal's safety numbers, to confirm no one is intercepting&lt;/li&gt;\n&lt;li&gt;The file is encrypted with AES-256-GCM and sent in chunks&lt;/li&gt;\n&lt;li&gt;SHA-256 hash verification at the end&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;The &lt;strong&gt;relay server&lt;/strong&gt; is literally a pipe. It receives encrypted bytes from the sender and forwards them to the receiver. The server doesn't know the file name, its contents, or even its size (because metadata is also encrypted).&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Why These Choices\n&lt;/h2&gt;\n\n&lt;h3&gt;\n  \n  \n  X25519 + AES-256-GCM\n&lt;/h3&gt;\n\n&lt;p&gt;I thought about this for a while. XChaCha20-Poly1305 is often recommended for new projects ‚Äî it's simpler and less sensitive to nonce misuse. But I went with AES-256-GCM for a few reasons:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Broad support in Python's &lt;code&gt;cryptography&lt;/code&gt; library&lt;/li&gt;\n&lt;li&gt;Hardware acceleration via AES-NI on most CPUs&lt;/li&gt;\n&lt;li&gt;Secure enough with proper nonce management&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;To prevent nonce reuse, I built a prefix system: each side gets its own 4-byte prefix (determined by comparing public keys), plus an 8-byte counter. This guarantees nonces never repeat.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Honestly&lt;/strong&gt;, if I were starting over ‚Äî I might choose XChaCha20. Less headache with nonces. But AES-GCM works, and I'm not planning to change it.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Verification Code\n&lt;/h3&gt;\n\n&lt;p&gt;One thing that frustrated me about other solutions ‚Äî no MITM protection. If the relay server is compromised, it could swap keys. So both users see a short code (first 8 chars of SHA-256 of the shared secret) and must compare it. Like Signal's safety number verification.&lt;/p&gt;\n\n&lt;p&gt;It's not perfect ‚Äî users can ignore the verification. But at least the mechanism exists.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  WebSocket Relay Instead of P2P\n&lt;/h3&gt;\n\n&lt;p&gt;The first version tried to work peer-to-peer via MQTT. It was a nightmare: NAT traversal, STUN/TURN, firewalls... Eventually I gave up and built a simple WebSocket relay on a VPS. Yes, this adds a single point of failure, but:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Works through any NAT and firewall&lt;/li&gt;\n&lt;li&gt;No network configuration needed&lt;/li&gt;\n&lt;li&gt;The relay is fully self-hostable ‚Äî spin up your own in 5 minutes via Docker\n&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight yaml\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;# docker-compose.yml ‚Äî the entire server&lt;/span&gt;\n&lt;span class=\"na\"&gt;services&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;relay&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"na\"&gt;build&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;.&lt;/span&gt;\n    &lt;span class=\"na\"&gt;restart&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;unless-stopped&lt;/span&gt;\n  &lt;span class=\"na\"&gt;caddy&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"na\"&gt;image&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;caddy:2&lt;/span&gt;\n    &lt;span class=\"na\"&gt;ports&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;[&lt;/span&gt;&lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;80:80\"&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;443:443\"&lt;/span&gt;&lt;span class=\"pi\"&gt;]&lt;/span&gt;\n    &lt;span class=\"na\"&gt;volumes&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"s\"&gt;./Caddyfile:/etc/caddy/Caddyfile&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h2&gt;\n  \n  \n  Auto-reconnect and Resume\n&lt;/h2&gt;\n\n&lt;p&gt;This is a feature I didn't plan but turned out to be critical. Imagine: you're transferring a 3 GB file, and at 80% your Wi-Fi drops for 10 seconds.&lt;/p&gt;\n\n&lt;p&gt;Without resume ‚Äî start over. With resume ‚Äî the client automatically reconnects, re-does the key exchange, and continues from where it left off. The receiver stores a &lt;code&gt;.resume&lt;/code&gt; manifest with information about received chunks.&lt;/p&gt;\n\n&lt;p&gt;This was tricky to get right. Especially the part where a reconnect needs a new key exchange (because the connection is new), but verification can be skipped (because a &lt;code&gt;reconnect_token&lt;/code&gt; proves identity).&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  The Stack\n&lt;/h2&gt;\n\n&lt;div class=\"table-wrapper-paragraph\"&gt;&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Component&lt;/th&gt;\n&lt;th&gt;Technology&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;Client&lt;/td&gt;\n&lt;td&gt;Python + CustomTkinter&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Encryption&lt;/td&gt;\n&lt;td&gt;cryptography (X25519, AES-256-GCM, HKDF)&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Relay server&lt;/td&gt;\n&lt;td&gt;Python asyncio + websockets&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;TLS&lt;/td&gt;\n&lt;td&gt;Caddy + Let's Encrypt&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;DNS&lt;/td&gt;\n&lt;td&gt;DuckDNS&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Build&lt;/td&gt;\n&lt;td&gt;PyInstaller (.exe / Linux binary)&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;&lt;/div&gt;\n\n&lt;p&gt;&lt;strong&gt;Why Python?&lt;/strong&gt; Because it's a side project, and I wanted to move fast. CustomTkinter gives a decent-looking GUI with minimal code. Yes, the .exe is ~30 MB (PyInstaller), and it doesn't start instantly. If this were a commercial product ‚Äî I'd pick something else.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  What I Don't Like\n&lt;/h2&gt;\n\n&lt;p&gt;I'll be honest ‚Äî there are things that annoy me too:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;One file per session.&lt;/strong&gt; Want to send 5 files? Pack them into an archive. It's a protocol limitation, and changing it basically means rewriting the transfer logic&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;No macOS build.&lt;/strong&gt; PyInstaller + CustomTkinter + macOS = suffering. It runs from source, but I don't build a .app&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;5 GB limit.&lt;/strong&gt; Server-side limit to prevent one user from hogging the channel. Enough for most tasks, but not all&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;GUI could be better.&lt;/strong&gt; CustomTkinter is a compromise. Looks okay, but it's not Electron and not a native UI&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h2&gt;\n  \n  \n  What It Looks Like\n&lt;/h2&gt;\n\n&lt;p&gt;The interface supports three languages (Ukrainian, English, German) with live switching ‚Äî no restart needed. Dark theme by default.&lt;/p&gt;\n\n&lt;p&gt;Here's a real transfer of a 2.9 GB file between two devices:&lt;/p&gt;\n\n&lt;p&gt;The &lt;strong&gt;sender&lt;/strong&gt; generates a session code (&lt;code&gt;ooxv-zhef&lt;/code&gt;) and shares it with the receiver. After connecting, both see a verification code (&lt;code&gt;FD79-FDBB&lt;/code&gt;) ‚Äî if it matches, no one has intercepted the connection. Then the file flies through as an encrypted stream at ~15 MB/s.&lt;/p&gt;\n\n&lt;p&gt;At the bottom of the window ‚Äî a log showing every step: file hash, relay connection, key exchange, verification, transfer. Full transparency.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  What's Next\n&lt;/h2&gt;\n\n&lt;p&gt;I have a few ideas, but I'm not sure about priorities:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Web version (so you don't need to download .exe)&lt;/li&gt;\n&lt;li&gt;Folder transfer support&lt;/li&gt;\n&lt;li&gt;Better verification UX (maybe QR codes?)&lt;/li&gt;\n&lt;li&gt;macOS build&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;If you have thoughts on what matters most ‚Äî I'd love to hear it.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Links\n&lt;/h2&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;Website:&lt;/strong&gt; &lt;a href=\"https://secureshare-relay.duckdns.org\" rel=\"noopener noreferrer\"&gt;https://secureshare-relay.duckdns.org&lt;/a&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;GitHub:&lt;/strong&gt; &lt;a href=\"https://github.com/artmarchenko/SecureShare\" rel=\"noopener noreferrer\"&gt;https://github.com/artmarchenko/SecureShare&lt;/a&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;License:&lt;/strong&gt; MIT&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;p&gt;I'd appreciate any feedback ‚Äî especially on the cryptography and architecture. If you see holes in the security model ‚Äî please tell me, that's the most valuable input.&lt;/p&gt;\n\n&lt;p&gt;Thanks for reading!&lt;/p&gt;",
    "date": "2026-02-23T15:43:32.000Z",
    "url": "https://dev.to/artmarchenko/how-i-built-an-e2e-encrypted-file-transfer-in-python-and-what-came-out-of-it-54ei"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "Ï†ÑÏ≤¥",
    "categories": [
      "_all_"
    ],
    "specUrl": "https://dev.to/feed",
    "title": "MCP Server Monetization 2026",
    "partialText": "&lt;p&gt;Something has been bothering me about MCP and I think I've figured out what the issue is :) &lt;/p&gt;\n\n&lt;p&gt;There are tens of thousands of MCP Servers listed in registries and marketplaces, but &lt;em&gt;most of them are not really useful...&lt;/em&gt; Good implementations exist, but then they were typically authored by companies with some form of vested interest, in that they want your AI Agent to work smoothly with their products (think AWS, GitHub, Stripe). Makes sense.  &lt;/p&gt;\n\n&lt;p&gt;The root cause, I think, is that developers of MCP Servers &lt;strong&gt;cannot earn from their work,&lt;/strong&gt; so they only put so much effort into it. Typically, you might encounter an MCP Server which connects to an existing commercial product and this MCP Server uses a Bring-Your-Own-API-Key mechanism.&lt;/p&gt;\n\n&lt;p&gt;So for the last few weeks I've built a system where MCP authors can register their servers, but also specify how much they charge for each use, each invocation, and ultimately create a revenue stream that will enable them to continue development, features, and depth. I imagine the developer could then bring their own API Key, and end-users will pay per access.&lt;/p&gt;\n\n&lt;p&gt;There are not many MCP Servers in the system now, but as it grows it can become a go-to hub for quality commercial MCP Servers.  Anyone who has written an MCP Server is welcome to register at &lt;a href=\"https://mcp-hive.com/docs/providers\" rel=\"noopener noreferrer\"&gt;https://mcp-hive.com/docs/providers&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Though you will need patience üôÇ I expect end-users will only begin discovering (and using) these servers as it reaches a significant base. The landing page gives more info: &lt;a href=\"https://mcp-hive.com\" rel=\"noopener noreferrer\"&gt;https://mcp-hive.com&lt;/a&gt; &lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Other directions\n&lt;/h3&gt;\n\n&lt;p&gt;Curious whether others have hit the same quality/monetization wall and what approaches you've tried. &lt;/p&gt;",
    "date": "2026-02-23T15:43:23.000Z",
    "url": "https://dev.to/namel/mcp-server-monetization-2026-1p2j"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "Ï†ÑÏ≤¥",
    "categories": [
      "_all_"
    ],
    "specUrl": "https://dev.to/feed",
    "title": "Advanced Prompt Engineering: From Zero-Shot to Self-Consistency",
    "partialText": "&lt;p&gt;Prompt engineering has moved beyond ‚Äúask a question, get an answer.‚Äù In real applications, we often need outputs that are &lt;strong&gt;accurate&lt;/strong&gt;, &lt;strong&gt;structured&lt;/strong&gt;, &lt;strong&gt;repeatable&lt;/strong&gt;, and &lt;strong&gt;easy to validate&lt;/strong&gt;. Advanced prompting techniques help you steer Large Language Models (LLMs) toward better reasoning and more dependable results‚Äî&lt;strong&gt;without retraining&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;p&gt;This guide covers the most useful methods‚Äî&lt;strong&gt;zero-shot&lt;/strong&gt;, &lt;strong&gt;one-shot&lt;/strong&gt;, &lt;strong&gt;few-shot&lt;/strong&gt;, &lt;strong&gt;chain-of-thought&lt;/strong&gt;, and &lt;strong&gt;self-consistency&lt;/strong&gt;‚Äîwith improved examples and practical guidance on when to use each.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  What Is Advanced Prompt Engineering?\n&lt;/h2&gt;\n\n&lt;p&gt;Advanced prompt engineering is the practice of designing prompts that control:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;Instructions&lt;/strong&gt; (what to do, what to avoid)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Context&lt;/strong&gt; (what the model needs to know)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Constraints&lt;/strong&gt; (format, style, length, tools)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Reasoning and verification&lt;/strong&gt; (how to reduce errors)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The goal:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;More accurate, explainable, and consistent outputs‚Äîwithout model fine-tuning.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;This is especially helpful for:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Complex reasoning and multi-step tasks\n&lt;/li&gt;\n&lt;li&gt;Classification and routing (e.g., support tickets, intents)&lt;/li&gt;\n&lt;li&gt;Extraction and transformation (e.g., JSON, tables)&lt;/li&gt;\n&lt;li&gt;Decision support and policy checks&lt;/li&gt;\n&lt;li&gt;Summarization with strict requirements&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  1) Zero-Shot Prompting\n&lt;/h2&gt;\n\n&lt;h3&gt;\n  \n  \n  What it is\n&lt;/h3&gt;\n\n&lt;p&gt;A &lt;strong&gt;zero-shot&lt;/strong&gt; prompt asks the model to perform a task with &lt;strong&gt;no examples&lt;/strong&gt;‚Äîjust instructions.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Improved example (classification with structure)\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;Prompt&lt;/strong&gt;&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;Classify the claim as one of: &lt;strong&gt;True&lt;/strong&gt;, &lt;strong&gt;False&lt;/strong&gt;, or &lt;strong&gt;Unverifiable&lt;/strong&gt;.&lt;br&gt;&lt;br&gt;\nReturn JSON with keys: &lt;code&gt;label&lt;/code&gt;, &lt;code&gt;one_sentence_justification&lt;/code&gt;.&lt;br&gt;&lt;br&gt;\nClaim: ‚ÄúThe Eiffel Tower is located in Berlin.‚Äù&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;strong&gt;Why this is better&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Adds an &lt;strong&gt;explicit label set&lt;/strong&gt;\n&lt;/li&gt;\n&lt;li&gt;Enforces a &lt;strong&gt;machine-readable format&lt;/strong&gt;\n&lt;/li&gt;\n&lt;li&gt;Encourages a short justification (useful for auditing)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;\n  \n  \n  When to use it\n&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Straightforward Q&amp;amp;A or classification&lt;/li&gt;\n&lt;li&gt;Clear, well-defined tasks&lt;/li&gt;\n&lt;li&gt;Quick prototypes&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Limitation:&lt;/strong&gt; If the task is nuanced, domain-specific, or requires a strict style, performance may be inconsistent.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  2) One-Shot Prompting\n&lt;/h2&gt;\n\n&lt;h3&gt;\n  \n  \n  What it is\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;One-shot&lt;/strong&gt; prompting provides &lt;strong&gt;one example&lt;/strong&gt; that demonstrates the pattern and the expected output format.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Improved example (tone + format transformation)\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;Prompt&lt;/strong&gt;&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;Convert the text into a professional support response.&lt;br&gt;&lt;br&gt;\nKeep it under 60 words.  &lt;/p&gt;\n\n&lt;p&gt;Example:&lt;br&gt;&lt;br&gt;\n&lt;strong&gt;User:&lt;/strong&gt; ‚ÄúYour app is broken, and I‚Äôm furious.‚Äù&lt;br&gt;&lt;br&gt;\n&lt;strong&gt;Support:&lt;/strong&gt; ‚ÄúI‚Äôm sorry for the trouble. Could you share your device model and app version so we can investigate right away?‚Äù  &lt;/p&gt;\n\n&lt;p&gt;Now do this:&lt;br&gt;&lt;br&gt;\n&lt;strong&gt;User:&lt;/strong&gt; ‚ÄúI was charged twice for my subscription.‚Äù&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;h3&gt;\n  \n  \n  When to use it\n&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Formatting and rewriting&lt;/li&gt;\n&lt;li&gt;Translation or style transfer&lt;/li&gt;\n&lt;li&gt;Simple extraction templates&lt;/li&gt;\n&lt;li&gt;Any task where &lt;strong&gt;the output form matters&lt;/strong&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Tip:&lt;/strong&gt; Make the example resemble your real inputs (tone, length, domain).&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  3) Few-Shot Prompting\n&lt;/h2&gt;\n\n&lt;h3&gt;\n  \n  \n  What it is\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;Few-shot&lt;/strong&gt; prompting supplies multiple examples so the model learns the boundary between categories and generalizes better.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Improved example (intent detection)\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;Prompt&lt;/strong&gt;&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;Label each message with one intent:  &lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;code&gt;Billing&lt;/code&gt; (payments, invoices, refunds)\n&lt;/li&gt;\n&lt;li&gt;\n&lt;code&gt;TechSupport&lt;/code&gt; (bugs, errors, performance)\n&lt;/li&gt;\n&lt;li&gt;\n&lt;code&gt;AccountAccess&lt;/code&gt; (login, password, 2FA)\n&lt;/li&gt;\n&lt;li&gt;\n&lt;code&gt;Sales&lt;/code&gt; (pricing, plans, demos)\nReturn JSON: &lt;code&gt;{ \"intent\": \"...\", \"confidence\": 0-1 }&lt;/code&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Examples:&lt;br&gt;&lt;br&gt;\n1) ‚ÄúI can‚Äôt reset my password‚Äîemail never arrives.‚Äù ‚Üí &lt;code&gt;{ \"intent\": \"AccountAccess\", \"confidence\": 0.86 }&lt;/code&gt;&lt;br&gt;&lt;br&gt;\n2) ‚ÄúDo you have discounts for nonprofits?‚Äù ‚Üí &lt;code&gt;{ \"intent\": \"Sales\", \"confidence\": 0.80 }&lt;/code&gt;&lt;br&gt;&lt;br&gt;\n3) ‚ÄúMy card was charged, but the invoice is missing.‚Äù ‚Üí &lt;code&gt;{ \"intent\": \"Billing\", \"confidence\": 0.83 }&lt;/code&gt;  &lt;/p&gt;\n\n&lt;p&gt;Now label: ‚ÄúThe app crashes when I export a PDF.‚Äù&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;h3&gt;\n  \n  \n  Why it works\n&lt;/h3&gt;\n\n&lt;p&gt;Few-shot examples:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Clarify category definitions&lt;/li&gt;\n&lt;li&gt;Reduce ambiguity&lt;/li&gt;\n&lt;li&gt;Improve consistency in edge cases&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;\n  \n  \n  When to use it\n&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Sentiment/emotion / intent classification\n&lt;/li&gt;\n&lt;li&gt;Domain-specific labeling (legal, medical, finance)\n&lt;/li&gt;\n&lt;li&gt;Moderation and policy tagging\n&lt;/li&gt;\n&lt;li&gt;When nuance matters more than speed&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Tip:&lt;/strong&gt; Include at least one ‚Äúconfusable‚Äù example (e.g., Billing vs Sales) to sharpen boundaries.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  4) Chain-of-Thought (CoT) Prompting (Reasoning)\n&lt;/h2&gt;\n\n&lt;h3&gt;\n  \n  \n  What it is\n&lt;/h3&gt;\n\n&lt;p&gt;Chain-of-thought prompting encourages the model to break down a problem and reason across steps‚Äîespecially useful for multi-step logic and math.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Improved example (multi-step reasoning with explicit output)\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;Prompt&lt;/strong&gt;&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;Solve the problem and return:&lt;br&gt;&lt;br&gt;\n1) &lt;code&gt;answer&lt;/code&gt;&lt;br&gt;&lt;br&gt;\n2) &lt;code&gt;key_steps&lt;/code&gt; (3‚Äì6 bullet points, no extra commentary)  &lt;/p&gt;\n\n&lt;p&gt;Problem: A store has 22 apples. It sells 15, then receives 8 more. How many apples does it have?&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;strong&gt;Why this is better&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Requests &lt;strong&gt;concise reasoning artifacts&lt;/strong&gt; (‚Äúkey_steps‚Äù) instead of rambling&lt;/li&gt;\n&lt;li&gt;Makes outputs easier to inspect and test&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;\n  \n  \n  When to use it\n&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Math and word problems\n&lt;/li&gt;\n&lt;li&gt;Multi-step decision-making\n&lt;/li&gt;\n&lt;li&gt;Planning tasks\n&lt;/li&gt;\n&lt;li&gt;Debugging why an answer is wrong&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Caution:&lt;/strong&gt; In high-security settings, you may want &lt;em&gt;brief justifications&lt;/em&gt; rather than full reasoning logs. You can request ‚Äúkey steps‚Äù or ‚Äúexplanation summary‚Äù instead.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  5) Self-Consistency Prompting (Reliability)\n&lt;/h2&gt;\n\n&lt;h3&gt;\n  \n  \n  What it is\n&lt;/h3&gt;\n\n&lt;p&gt;Self-consistency improves reliability by generating &lt;strong&gt;multiple independent solutions&lt;/strong&gt; and selecting the &lt;strong&gt;most consistent&lt;/strong&gt; result.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Improved example (multiple paths + vote)\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;Prompt&lt;/strong&gt;&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;Solve the problem in &lt;strong&gt;3 different ways&lt;/strong&gt;.&lt;br&gt;&lt;br&gt;\nThen output a final JSON object with:  &lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;code&gt;final_answer&lt;/code&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;code&gt;answers_generated&lt;/code&gt; (array)\n&lt;/li&gt;\n&lt;li&gt;\n&lt;code&gt;majority_vote&lt;/code&gt; (which answer won)\n&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Problem: When I was 6, my sister was half my age. Now I am 70. How old is my sister?&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;h3&gt;\n  \n  \n  Why it matters\n&lt;/h3&gt;\n\n&lt;p&gt;LLMs sometimes reach correct answers via flawed reasoning. Self-consistency:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Reduces random mistakes&lt;/li&gt;\n&lt;li&gt;Exposes contradictions&lt;/li&gt;\n&lt;li&gt;Provides a lightweight validation layer&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;\n  \n  \n  When to use it\n&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;High-stakes calculations\n&lt;/li&gt;\n&lt;li&gt;Edge-case logic\n&lt;/li&gt;\n&lt;li&gt;Policy validation\n&lt;/li&gt;\n&lt;li&gt;Production workflows where you can spend extra tokens for accuracy&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Practical Prompt Patterns (You Can Reuse)\n&lt;/h2&gt;\n\n&lt;h3&gt;\n  \n  \n  A) ‚ÄúRole + Task + Constraints + Format‚Äù\n&lt;/h3&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;You are a &lt;strong&gt;data analyst&lt;/strong&gt;.&lt;br&gt;&lt;br&gt;\nTask: Extract the requested fields from the text.&lt;br&gt;&lt;br&gt;\nConstraints: Do not guess missing values.&lt;br&gt;&lt;br&gt;\nOutput: Strict JSON schema: ‚Ä¶&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;h3&gt;\n  \n  \n  B) Add ‚ÄúDo / Don‚Äôt‚Äù rules\n&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Do: return only valid JSON\n&lt;/li&gt;\n&lt;li&gt;Don‚Äôt: include markdown fences\n&lt;/li&gt;\n&lt;li&gt;Do: cite exact phrases from the text when extracting&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;\n  \n  \n  C) Add a quick verification step\n&lt;/h3&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;After generating the answer, check it against the constraints and fix violations.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Tools and Real-World Applications\n&lt;/h2&gt;\n\n&lt;p&gt;These techniques show up in real systems every day:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;Support automation:&lt;/strong&gt; intent routing + response drafting\n&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Data pipelines:&lt;/strong&gt; classification and extraction into structured formats\n&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Summarization:&lt;/strong&gt; consistent executive summaries with requirements\n&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Dev tooling:&lt;/strong&gt; bug triage, PR summaries, test generation\n&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Decision support:&lt;/strong&gt; policy checks with auditable rationale&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Libraries and frameworks (prompt templates, orchestration layers like LangChain/LlamaIndex, eval suites) help apply these patterns consistently at scale.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Conclusion\n&lt;/h2&gt;\n\n&lt;p&gt;Advanced prompt engineering is about designing prompts that make LLM behavior &lt;strong&gt;predictable&lt;/strong&gt; and &lt;strong&gt;verifiable&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;p&gt;A simple rule of thumb:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;Zero-shot&lt;/strong&gt; when the task is clear and simple\n&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;One-shot / few-shot&lt;/strong&gt; when structure and nuance matter\n&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Chain-of-thought&lt;/strong&gt; when the task requires multi-step reasoning\n&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Self-consistency&lt;/strong&gt; when correctness is critical, and you can afford extra compute\n&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Prompting isn‚Äôt just asking questions anymore‚Äîit‚Äôs designing how intelligence performs under constraints.&lt;/p&gt;",
    "date": "2026-02-23T15:38:43.000Z",
    "url": "https://dev.to/brayanarrieta/advanced-prompt-engineering-from-zero-shot-to-self-consistency-431b"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "Ï†ÑÏ≤¥",
    "categories": [
      "_all_"
    ],
    "specUrl": "https://dev.to/feed",
    "title": "Avoiding the ‚Äú$100K Spreadsheet‚Äù Trap in Nonprofit Salesforce Projects",
    "partialText": "&lt;p&gt;Salesforce projects in nonprofits rarely fail because of the platform.&lt;/p&gt;\n\n&lt;p&gt;They fail because unclear processes, inconsistent definitions, and messy data get automated instead of resolved.&lt;/p&gt;\n\n&lt;p&gt;When that happens, Salesforce becomes what many teams privately call it: \"A very expensive spreadsheet.\"&lt;/p&gt;\n\n&lt;p&gt;This post breaks down why that happens and how to avoid it from an implementation perspective.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Problem: Automating Without Structural Clarity\n&lt;/h2&gt;\n\n&lt;p&gt;&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fpjdaznogqw431t7swztk.jpeg\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fpjdaznogqw431t7swztk.jpeg\" alt=\" \" width=\"800\" height=\"473\"&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Nonprofits typically move to Salesforce when operational complexity increases. More donors. More grants. More reporting pressure. More cross-team collaboration.&lt;/p&gt;\n\n&lt;p&gt;Spreadsheets stop scaling. Manual reconciliation becomes painful. Leadership loses visibility.&lt;/p&gt;\n\n&lt;p&gt;The problem is not the decision to adopt Salesforce. The problem is how the implementation starts.&lt;/p&gt;\n\n&lt;p&gt;Many projects begin with configuration:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Creating custom objects&lt;/li&gt;\n&lt;li&gt;Building automation flows&lt;/li&gt;\n&lt;li&gt;Designing dashboards&lt;/li&gt;\n&lt;li&gt;Importing legacy data&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;But the foundational questions are often unresolved:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;What exactly qualifies as a \"major donor\"?&lt;/li&gt;\n&lt;li&gt;When is a fundraising opportunity officially \"closed won\"?&lt;/li&gt;\n&lt;li&gt;How are grant stages defined?&lt;/li&gt;\n&lt;li&gt;What metrics matter to the board?&lt;/li&gt;\n&lt;li&gt;Who owns data quality?&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;If these definitions vary across teams, automation will only make inconsistencies permanent.&lt;/p&gt;\n\n&lt;p&gt;Technology scales whatever it is given ‚Äî clarity or confusion.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Solution: Sequence Matters More Than Features\n&lt;/h2&gt;\n\n&lt;p&gt;A stable Salesforce implementation in a nonprofit context follows a predictable sequence. It is less about technical complexity and more about order of operations.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Step 1: Define Outcomes Before Building Objects\n&lt;/h3&gt;\n\n&lt;p&gt;Before touching configuration, define success.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;What decisions need better visibility?&lt;/li&gt;\n&lt;li&gt;What reporting gaps currently exist?&lt;/li&gt;\n&lt;li&gt;What operational friction are you trying to reduce?&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;If leadership cannot articulate the outcomes, dashboards will not fix that later.&lt;/p&gt;\n\n&lt;p&gt;Salesforce is a system of record. It should reflect decisions, not create them.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Step 2: Standardize Process Definitions\n&lt;/h3&gt;\n\n&lt;p&gt;Most CRM inconsistencies are semantic.&lt;/p&gt;\n\n&lt;p&gt;If one fundraiser marks a donor as \"major\" at $5,000 and another at $25,000, segmentation breaks immediately. If grant tracking stages differ across departments, reporting becomes unreliable.&lt;/p&gt;\n\n&lt;p&gt;Before building automation, document and align on:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Fundraising lifecycle stages&lt;/li&gt;\n&lt;li&gt;Opportunity definitions&lt;/li&gt;\n&lt;li&gt;Program tracking structure&lt;/li&gt;\n&lt;li&gt;Grant state transitions&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;This alignment reduces downstream rework significantly.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Step 3: Treat Data Migration as a Data Project\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fzmvfk2u0nvpn4kugs96m.jpeg\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fzmvfk2u0nvpn4kugs96m.jpeg\" alt=\" \" width=\"800\" height=\"511\"&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Legacy nonprofit databases often contain:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Duplicate records (sometimes 20‚Äì30%)&lt;/li&gt;\n&lt;li&gt;Inconsistent formatting&lt;/li&gt;\n&lt;li&gt;Missing emails&lt;/li&gt;\n&lt;li&gt;Partial donation histories&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;If this data is imported without cleansing, Salesforce will reflect those flaws at scale.&lt;/p&gt;\n\n&lt;p&gt;User trust erodes quickly when reports do not match expectations.&lt;/p&gt;\n\n&lt;p&gt;Clean data is not a cosmetic improvement. It is a prerequisite for adoption.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Step 4: Resist Early Over-Customization\n&lt;/h3&gt;\n\n&lt;p&gt;Nonprofit Cloud includes a strong baseline architecture ‚Äî household data model, campaign tracking, standard opportunity handling, and built-in reporting.&lt;/p&gt;\n\n&lt;p&gt;It is tempting to customize everything to replicate legacy workflows. But over-customization introduces:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Technical debt&lt;/li&gt;\n&lt;li&gt;Upgrade friction&lt;/li&gt;\n&lt;li&gt;Increased admin burden&lt;/li&gt;\n&lt;li&gt;Dependency on one \"system expert.\"&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Start with standard functionality. Customize only when process requirements truly demand it.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Example: Two Implementation Paths\n&lt;/h2&gt;\n\n&lt;p&gt;Consider two mid-sized nonprofits implementing Salesforce.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Path A: Configuration-First&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;The organization imports 50,000 records without deduplication. Each department keeps its own opportunity definitions. Custom objects are created to match historical spreadsheets. Dashboards are built late in the process.&lt;/p&gt;\n\n&lt;p&gt;Two months later:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Segmentation produces inconsistent counts&lt;/li&gt;\n&lt;li&gt;Grant reporting requires manual adjustment&lt;/li&gt;\n&lt;li&gt;Leadership questions data accuracy&lt;/li&gt;\n&lt;li&gt;Admin workload increases&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The platform functions technically, but it does not create operational clarity.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Path B: Process-First&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Before configuration begins:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Fundraising stages are standardized&lt;/li&gt;\n&lt;li&gt;Grant lifecycle definitions are aligned&lt;/li&gt;\n&lt;li&gt;Duplicate records are reduced&lt;/li&gt;\n&lt;li&gt;Reporting requirements are mapped&lt;/li&gt;\n&lt;li&gt;Governance ownership is assigned&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Configuration then reflects those agreements.&lt;/p&gt;\n\n&lt;p&gt;Result: reliable dashboards, higher adoption, lower long-term maintenance, reduced reporting friction.&lt;/p&gt;\n\n&lt;p&gt;Same platform. Different discipline.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Pitfalls to Avoid\n&lt;/h2&gt;\n\n&lt;p&gt;Most nonprofit Salesforce failures share similar patterns:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Treating CRM implementation as an IT task instead of an organizational alignment exercise&lt;/li&gt;\n&lt;li&gt;Importing legacy data without validation or deduplication&lt;/li&gt;\n&lt;li&gt;Allowing uncontrolled field creation post go-live&lt;/li&gt;\n&lt;li&gt;Building automation before definitions are finalized&lt;/li&gt;\n&lt;li&gt;Skipping governance planning&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;None of these are technical limitation. There are sequencing issues.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Summary\n&lt;/h2&gt;\n\n&lt;p&gt;Salesforce does not inherently create clarity. It scales it.&lt;/p&gt;\n\n&lt;p&gt;If your nonprofit has agreed-upon definitions, clean and structured data, documented processes, and clear governance ownership, Salesforce becomes a strategic asset.&lt;/p&gt;\n\n&lt;p&gt;If not, it becomes a powerful system delivering spreadsheet-level value.&lt;/p&gt;\n\n&lt;p&gt;The difference is rarely about advanced automation or complex architecture. It is about implementation order and organizational alignment.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Further Reading\n&lt;/h2&gt;\n\n&lt;p&gt;If you're exploring a structured, strategy-first approach to nonprofit Salesforce implementation, you can see how Maintask approaches CRM delivery here:&lt;a href=\"https://maintask.com\" rel=\"noopener noreferrer\"&gt;https://maintask.com&lt;/a&gt;&lt;/p&gt;",
    "date": "2026-02-23T15:37:29.000Z",
    "url": "https://dev.to/maintask/avoiding-the-100k-spreadsheet-trap-in-nonprofit-salesforce-projects-1j8p"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "Ï†ÑÏ≤¥",
    "categories": [
      "_all_"
    ],
    "specUrl": "https://dev.to/feed",
    "title": "How to Build a CLI Tool to Auto-Translate OpenAPI Specifications",
    "partialText": "&lt;p&gt;APIs defined with the OpenAPI Specification make integration easier, but language can still be a barrier. Many API specs, descriptions, and examples are written in a single language, which limits accessibility for global developers.&lt;/p&gt;\n\n&lt;p&gt;In this article, you‚Äôll learn how to build a CLI tool that automatically translates an OpenAPI specification into multiple languages, making your API documentation more accessible without maintaining separate versions manually.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  What You Will Build\n&lt;/h2&gt;\n\n&lt;p&gt;By the end of this tutorial, you'll have built a complete CLI application that:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Parses and manipulates OpenAPI/Swagger specs programmatically&lt;/li&gt;\n&lt;li&gt;Integrates with Lingo.dev for context-aware translations&lt;/li&gt;\n&lt;li&gt;Generates a dynamic React viewer with language switching&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h2&gt;\n  \n  \n  Prerequisites\n&lt;/h2&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Intermediate JavaScript/Node.js knowledge&lt;/li&gt;\n&lt;li&gt;Familiarity with React (for the frontend viewer portion)&lt;/li&gt;\n&lt;li&gt;Basic understanding of OpenAPI/Swagger specifications&lt;/li&gt;\n&lt;li&gt;A &lt;a href=\"https://lingo.dev\" rel=\"noopener noreferrer\"&gt;Lingo.dev&lt;/a&gt; account&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h2&gt;\n  \n  \n  How it Works\n&lt;/h2&gt;\n\n&lt;p&gt;Trans-Spec operates as a three-stage pipeline that takes your OpenAPI specification and produces multilingual documentation with a browsable view.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fn73cr1u9dnpl9vhbt9du.png\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fn73cr1u9dnpl9vhbt9du.png\" alt=\"an overview of how the CLI tool works\" width=\"800\" height=\"800\"&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  The Process\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;1. Parse &amp;amp; Extract&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Reads your OpenAPI spec&lt;/li&gt;\n&lt;li&gt;Identifies translatable content (descriptions, summaries)&lt;/li&gt;\n&lt;li&gt;Preserves technical terms (paths, parameter names, enums)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;2. Set up Structure and Translate&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Creates .trans-spec/i18n/ folder structure&lt;/li&gt;\n&lt;li&gt;Generates i18n.json configuration&lt;/li&gt;\n&lt;li&gt;Calls Lingo.dev to translate content&lt;/li&gt;\n&lt;li&gt;Saves translated specs per language&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;3. Serve&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Copies the translated specs to the frontend public directory&lt;/li&gt;\n&lt;li&gt;Generates a dynamic Vite config with your languages&lt;/li&gt;\n&lt;li&gt;Translates the frontend UI using Lingo.dev Compiler&lt;/li&gt;\n&lt;li&gt;Starts the dev server at localhost:3000&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Key Feature&lt;/strong&gt;: Language switching updates both the API docs content AND the viewer UI simultaneously. When you select Spanish, you see Spanish API descriptions with Spanish UI labels.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Incremental Updates&lt;/strong&gt;: Re-running generate only re-translates changed content and preserves existing translations.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Project Initialization and Setup\n&lt;/h2&gt;\n\n&lt;p&gt;This project will be a monorepo that contains the CLI and the frontend viewer in a single parent folder.&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;Create a new folder for your project and initialize a NodeJS project:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight shell\"&gt;&lt;code&gt;&lt;span class=\"c\"&gt;# create a new folder (called trans-spec) and navigate into it&lt;/span&gt;\n&lt;span class=\"nb\"&gt;mkdir &lt;/span&gt;trans-spec &lt;span class=\"o\"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=\"nb\"&gt;cd &lt;/span&gt;trans-spec\n\n&lt;span class=\"c\"&gt;# Initialize root package.json&lt;/span&gt;\nnpm init &lt;span class=\"nt\"&gt;-y&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Create folders for your CLI logic and frontend viewer:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight shell\"&gt;&lt;code&gt;&lt;span class=\"nb\"&gt;mkdir &lt;/span&gt;cli viewer\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Set up your CLI:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight shell\"&gt;&lt;code&gt;&lt;span class=\"c\"&gt;# Setup CLI&lt;/span&gt;\n&lt;span class=\"nb\"&gt;cd &lt;/span&gt;cli &lt;span class=\"o\"&gt;&amp;amp;&amp;amp;&lt;/span&gt; npm init &lt;span class=\"nt\"&gt;-y&lt;/span&gt;\n\n&lt;span class=\"c\"&gt;# install dependencies&lt;/span&gt;\nnpm &lt;span class=\"nb\"&gt;install &lt;/span&gt;commander chalk ora\n\n&lt;span class=\"c\"&gt;# create necessary directories and files&lt;/span&gt;\n&lt;span class=\"nb\"&gt;mkdir &lt;/span&gt;src &lt;span class=\"o\"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=\"nb\"&gt;touch &lt;/span&gt;index.js src/auth.js src/setup.js src/config.js src/translate.js &lt;span class=\"o\"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=\"nb\"&gt;cd&lt;/span&gt; ..\n&lt;/code&gt;&lt;/pre&gt;\n\n\n&lt;p&gt;The above initializes a NodeJS application and installs:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;commander&lt;/strong&gt;: to handle CLI commands and flags.&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;chalk&lt;/strong&gt;: to add colors in the terminal (makes output look nice).&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;ora&lt;/strong&gt;: for spinner/progress indicators while translations are running.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The command also creates an entry file called &lt;code&gt;index.js&lt;/code&gt; and a folder called &lt;code&gt;src&lt;/code&gt;. This folder is where most of your CLI logic will live.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Set up your viewer:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight shell\"&gt;&lt;code&gt;&lt;span class=\"c\"&gt;# Setup Viewer&lt;/span&gt;\n&lt;span class=\"nb\"&gt;cd &lt;/span&gt;viewer &lt;span class=\"o\"&gt;&amp;amp;&amp;amp;&lt;/span&gt; npm &lt;span class=\"nb\"&gt;install&lt;/span&gt; &lt;span class=\"nt\"&gt;-g&lt;/span&gt; create-vite &lt;span class=\"o\"&gt;&amp;amp;&amp;amp;&lt;/span&gt; npm create vite@latest &lt;span class=\"nb\"&gt;.&lt;/span&gt; &lt;span class=\"nt\"&gt;--&lt;/span&gt; &lt;span class=\"nt\"&gt;--template&lt;/span&gt; react\n\n&lt;span class=\"c\"&gt;# install dependencies&lt;/span&gt;\nnpm &lt;span class=\"nb\"&gt;install &lt;/span&gt;js-yaml &lt;span class=\"o\"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=\"nb\"&gt;cd&lt;/span&gt; ..\n&lt;/code&gt;&lt;/pre&gt;\n\n\n&lt;p&gt;The commands above initialize a React application using Vite and install &lt;code&gt;js-yaml&lt;/code&gt; to read and write YAML structures in JavaScript for display.&lt;br&gt;\nIf the first command starts a React server, you can simply end the process with &lt;code&gt;ctrl + c&lt;/code&gt; (&lt;code&gt;command + c&lt;/code&gt; on Mac).&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Finally, open your project in VSCode:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight shell\"&gt;&lt;code&gt;code &lt;span class=\"nb\"&gt;.&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h2&gt;\n  \n  \n  Building a CLI Tool to Translate OpenAPI Specification Files\n&lt;/h2&gt;\n\n&lt;p&gt;If you have completed the section above, your &lt;code&gt;cli&lt;/code&gt; folder should look like this:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;cli/\n‚îú‚îÄ‚îÄ index.js\n‚îú‚îÄ‚îÄ package.json\n‚îî‚îÄ‚îÄ src/\n    ‚îú‚îÄ‚îÄ auth.js\n    ‚îú‚îÄ‚îÄ config.js\n    ‚îî‚îÄ‚îÄ setup.js\n    ‚îî‚îÄ‚îÄ translate.js\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;Now, you are ready to start this section.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Step 1. Create the Authentication Flow\n&lt;/h3&gt;\n\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;In your &lt;code&gt;src/auth.js&lt;/code&gt; file, start by importing necessary dependencies:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;execSync&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;spawn&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;child_process&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;ora&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;ora&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;chalk&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;chalk&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n\n&lt;p&gt;The code above imports:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;code&gt;execSync&lt;/code&gt;, which you can use to run a command and wait for it to finish before moving to the next process,&lt;/li&gt;\n&lt;li&gt;\n&lt;code&gt;spawn&lt;/code&gt;, which you can use to run a command in the background and react to events as they happen,&lt;/li&gt;\n&lt;li&gt;\n&lt;code&gt;ora&lt;/code&gt; for a loading spinner,&lt;/li&gt;\n&lt;li&gt;\n&lt;code&gt;chalk&lt;/code&gt; for colored terminal output.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Next, add a small helper that allows you to pause execution for a given number of milliseconds. This is useful when you need to wait for a response:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;MAX_RETRIES&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"mi\"&gt;2&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;wait&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;ms&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nc\"&gt;Promise&lt;/span&gt;&lt;span class=\"p\"&gt;((&lt;/span&gt;&lt;span class=\"nx\"&gt;resolve&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;setTimeout&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;resolve&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;ms&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Now write the function that checks whether the user is already logged in to their Lingo.dev account, since this project uses Lingo.dev for translation:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;isAuthenticated&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;try&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;output&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;execSync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;npx lingo.dev@latest auth 2&amp;gt;&amp;amp;1&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"na\"&gt;encoding&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;utf-8&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"na\"&gt;stdio&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;pipe&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n    &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"nx\"&gt;output&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;includes&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Authenticated as&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;catch &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;err&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"kc\"&gt;false&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n\n&lt;p&gt;The code above runs the Lingo.dev CLI auth command and checks the output for \"Authenticated as\". This check is because Lingo.dev does not return output like &lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt; in the auth command; instead, it returns a message like:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;Authenticated as &amp;lt;your-email&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n\n&lt;p&gt;If anything goes wrong while running the command, the code simply returns false.&lt;br&gt;\n&lt;strong&gt;NOTE&lt;/strong&gt;: The &lt;code&gt;isAuthenticated()&lt;/code&gt; function uses &lt;code&gt;2&amp;gt;&amp;amp;1&lt;/code&gt; because Lingo.dev writes the \"Authenticated as\" output to &lt;code&gt;stderr&lt;/code&gt; instead of &lt;code&gt;stdout&lt;/code&gt;. &lt;code&gt;execSync&lt;/code&gt; only captures stdout by default.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Write a function to trigger login if the user authentication fails:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;triggerLogin&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nc\"&gt;Promise&lt;/span&gt;&lt;span class=\"p\"&gt;((&lt;/span&gt;&lt;span class=\"nx\"&gt;resolve&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;reject&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;login&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;spawn&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;npx&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;lingo.dev@latest&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;login&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;],&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"na\"&gt;stdio&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;inherit&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"na\"&gt;shell&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kc\"&gt;true&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n    &lt;span class=\"nx\"&gt;login&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;on&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;close&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;code&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;code&lt;/span&gt; &lt;span class=\"o\"&gt;===&lt;/span&gt; &lt;span class=\"mi\"&gt;0&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;succeed&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Login complete&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n        &lt;span class=\"nf\"&gt;resolve&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n      &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;else&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;fail&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Login failed&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n        &lt;span class=\"nf\"&gt;reject&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nc\"&gt;Error&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Login process exited with code &lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt; &lt;span class=\"nx\"&gt;code&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n      &lt;span class=\"p\"&gt;}&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n    &lt;span class=\"nx\"&gt;login&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;on&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;error&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;err&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;fail&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Login failed&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n      &lt;span class=\"nf\"&gt;reject&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;err&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n  &lt;span class=\"p\"&gt;});&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n\n&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;: using &lt;code&gt;stdio: 'inherit'&lt;/code&gt; lets the login process use the same terminal as your CLI tool, so the user can see what's happening.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Now, create and export a function that will run the full authentication process, using the code we already have:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;checkAuth&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;spinner&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;ora&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Checking authentication&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;).&lt;/span&gt;&lt;span class=\"nf\"&gt;start&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n  &lt;span class=\"c1\"&gt;// Already authenticated, no need to login&lt;/span&gt;\n  &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nf\"&gt;isAuthenticated&lt;/span&gt;&lt;span class=\"p\"&gt;())&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;succeed&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;green&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Authenticated&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n    &lt;span class=\"k\"&gt;return&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n  &lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;stop&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n  &lt;span class=\"c1\"&gt;// Not authenticated, trigger login once&lt;/span&gt;\n  &lt;span class=\"k\"&gt;try&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nf\"&gt;triggerLogin&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;catch &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;err&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;log&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;red&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;‚úñ Login failed: &lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt; &lt;span class=\"nx\"&gt;err&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;message&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;process&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;exit&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"mi\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n  &lt;span class=\"c1\"&gt;// After login, wait and retry auth check up to MAX_RETRIES times&lt;/span&gt;\n  &lt;span class=\"k\"&gt;for &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"kd\"&gt;let&lt;/span&gt; &lt;span class=\"nx\"&gt;attempt&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"mi\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt; &lt;span class=\"nx\"&gt;attempt&lt;/span&gt; &lt;span class=\"o\"&gt;&amp;lt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;MAX_RETRIES&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt; &lt;span class=\"nx\"&gt;attempt&lt;/span&gt;&lt;span class=\"o\"&gt;++&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nf\"&gt;wait&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"mi\"&gt;2000&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt; &lt;span class=\"c1\"&gt;// wait 2 seconds before checking&lt;/span&gt;\n\n    &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nf\"&gt;isAuthenticated&lt;/span&gt;&lt;span class=\"p\"&gt;())&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;log&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;green&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;‚úî Successfully authenticated&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n      &lt;span class=\"k\"&gt;return&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n    &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;attempt&lt;/span&gt; &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt; &lt;span class=\"nx\"&gt;MAX_RETRIES&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;log&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;yellow&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n          &lt;span class=\"s2\"&gt;`Auth check failed. Retrying (&lt;/span&gt;&lt;span class=\"p\"&gt;${&lt;/span&gt;&lt;span class=\"nx\"&gt;attempt&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s2\"&gt;/&lt;/span&gt;&lt;span class=\"p\"&gt;${&lt;/span&gt;&lt;span class=\"nx\"&gt;MAX_RETRIES&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s2\"&gt;)...`&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n        &lt;span class=\"p\"&gt;),&lt;/span&gt;\n      &lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n  &lt;span class=\"nx\"&gt;console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;log&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;red&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;‚úñ Authentication failed&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n  &lt;span class=\"nx\"&gt;console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;log&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;white&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Please run: npx lingo.dev@latest login manually and try again.&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;\n    &lt;span class=\"p\"&gt;),&lt;/span&gt;\n  &lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"nx\"&gt;process&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;exit&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"mi\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n\n&lt;p&gt;The spinner stops before &lt;code&gt;triggerLogin()&lt;/code&gt; is called. If it kept running while the login process took over the terminal, the output would be garbled. After login, the function retries the auth check up to two times with a 2-second gap, giving credentials time to be written to disk before giving up.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h3&gt;\n  \n  \n  Step 2: Prepare Your OpenAPI File for Translation\n&lt;/h3&gt;\n\n&lt;p&gt;Before your CLI tool can translate anything, it needs to know where your OpenAPI spec file is and what language it's written in.&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;setup.js&lt;/code&gt; handles that initialization step. It takes your existing spec file, creates the &lt;code&gt;.trans-spec&lt;/code&gt; folder structure, and copies the file into the right place so the rest of the tool knows where to find it.&lt;/p&gt;\n\n&lt;p&gt;If the spec file is in English, it creates a &lt;code&gt;.trans-spec/i18n/en/your-file.yaml&lt;/code&gt; and copies your file there. If it is in French, it uses the &lt;code&gt;fr&lt;/code&gt; folder instead of &lt;code&gt;en&lt;/code&gt;. Later, you will get the language source from the user so your code can know which language code to use.&lt;/p&gt;\n\n&lt;p&gt;Copy this code into your &lt;code&gt;src/setup.js&lt;/code&gt; file:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;fs&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;fs&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;path&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;path&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;chalk&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;chalk&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;ora&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;ora&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;TRANSSPEC_DIR&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;.trans-spec&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;I18N_DIR&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;path&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;join&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;TRANSSPEC_DIR&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;i18n&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;setup&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;specPath&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;sourceLanguage&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;spinner&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;ora&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Setting up project...&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;).&lt;/span&gt;&lt;span class=\"nf\"&gt;start&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;try&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;resolvedSpecPath&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;path&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;resolve&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;specPath&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n    &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"o\"&gt;!&lt;/span&gt;&lt;span class=\"nx\"&gt;fs&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;existsSync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;resolvedSpecPath&lt;/span&gt;&lt;span class=\"p\"&gt;))&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;fail&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;red&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s2\"&gt;`Spec file not found: &lt;/span&gt;&lt;span class=\"p\"&gt;${&lt;/span&gt;&lt;span class=\"nx\"&gt;specPath&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s2\"&gt;`&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;process&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;exit&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"mi\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n    &lt;span class=\"c1\"&gt;// Use source language folder&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;sourceDir&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;path&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;join&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;I18N_DIR&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;sourceLanguage&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n    &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"o\"&gt;!&lt;/span&gt;&lt;span class=\"nx\"&gt;fs&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;existsSync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;TRANSSPEC_DIR&lt;/span&gt;&lt;span class=\"p\"&gt;))&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;fs&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;mkdirSync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;sourceDir&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"na\"&gt;recursive&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kc\"&gt;true&lt;/span&gt; &lt;span class=\"p\"&gt;});&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;text&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Created .trans-spec folder structure&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n    &lt;span class=\"c1\"&gt;// Preserve the original filename&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;originalFilename&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;path&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;basename&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;resolvedSpecPath&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;destPath&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;path&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;join&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;sourceDir&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;originalFilename&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n    &lt;span class=\"nx\"&gt;fs&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;copyFileSync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;resolvedSpecPath&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;destPath&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n    &lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;succeed&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;green&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Project setup complete&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;catch &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;err&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;fail&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;red&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Setup failed: &lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt; &lt;span class=\"nx\"&gt;err&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;message&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;process&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;exit&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"mi\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  Step 3: Generate the Lingo.dev Configuration\n&lt;/h3&gt;\n\n&lt;p&gt;Lingo.dev needs a configuration file to know which languages to translate from and to. &lt;code&gt;src/config.js&lt;/code&gt; generates that file and saves it at &lt;code&gt;.trans-spec/i18n.json&lt;/code&gt;.&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;Open your &lt;code&gt;src/config.js&lt;/code&gt; file and add your impors:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;fs&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;fs&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;path&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;path&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;chalk&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;chalk&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;ora&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;ora&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;TRANSSPEC_DIR&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;.trans-spec&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;CONFIG_PATH&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;path&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;join&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;TRANSSPEC_DIR&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;i18n.json&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Write a &lt;code&gt;generateConfig&lt;/code&gt; function to generate the configuration Lingo.dev expects:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;generateConfig&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;languages&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;source&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;en&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;spinner&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;ora&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Generating config...&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;).&lt;/span&gt;&lt;span class=\"nf\"&gt;start&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;try&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// Handles comma separated values: \"es,fr,de\"&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// Parse new languages if provided&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;let&lt;/span&gt; &lt;span class=\"nx\"&gt;newTargets&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;[];&lt;/span&gt;\n    &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;languages&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;newTargets&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;languages&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;split&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"sr\"&gt;/&lt;/span&gt;&lt;span class=\"se\"&gt;[\\s&lt;/span&gt;&lt;span class=\"sr\"&gt;,&lt;/span&gt;&lt;span class=\"se\"&gt;]&lt;/span&gt;&lt;span class=\"sr\"&gt;+/&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;map&lt;/span&gt;&lt;span class=\"p\"&gt;((&lt;/span&gt;&lt;span class=\"nx\"&gt;lang&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"nx\"&gt;lang&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;trim&lt;/span&gt;&lt;span class=\"p\"&gt;())&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;filter&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nb\"&gt;Boolean&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n    &lt;span class=\"c1\"&gt;// Check if config already exists&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;let&lt;/span&gt; &lt;span class=\"nx\"&gt;existingTargets&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;[];&lt;/span&gt;\n    &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;fs&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;existsSync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;CONFIG_PATH&lt;/span&gt;&lt;span class=\"p\"&gt;))&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;existingConfig&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;JSON&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;parse&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;fs&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;readFileSync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;CONFIG_PATH&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;utf-8&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;existingTargets&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;existingConfig&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;locale&lt;/span&gt;&lt;span class=\"p\"&gt;?.&lt;/span&gt;&lt;span class=\"nx\"&gt;targets&lt;/span&gt; &lt;span class=\"o\"&gt;||&lt;/span&gt; &lt;span class=\"p\"&gt;[];&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n    &lt;span class=\"c1\"&gt;// Merge: existing + new, remove duplicates&lt;/span&gt;\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;allTargets&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;[...&lt;/span&gt;&lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nc\"&gt;Set&lt;/span&gt;&lt;span class=\"p\"&gt;([...&lt;/span&gt;&lt;span class=\"nx\"&gt;existingTargets&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;...&lt;/span&gt;&lt;span class=\"nx\"&gt;newTargets&lt;/span&gt;&lt;span class=\"p\"&gt;])];&lt;/span&gt;\n\n    &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;allTargets&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;length&lt;/span&gt; &lt;span class=\"o\"&gt;===&lt;/span&gt; &lt;span class=\"mi\"&gt;0&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;fail&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;red&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;No target languages provided&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;process&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;exit&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"mi\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n    &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;config&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"na\"&gt;$schema&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;https://lingo.dev/schema/i18n.json&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"na\"&gt;version&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;1.12&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"na\"&gt;locale&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"na\"&gt;source&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;source&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n        &lt;span class=\"na\"&gt;targets&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;allTargets&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"p\"&gt;},&lt;/span&gt;\n      &lt;span class=\"na\"&gt;buckets&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"na\"&gt;yaml&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n          &lt;span class=\"na\"&gt;include&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;i18n/[locale]/*.yaml&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;],&lt;/span&gt;\n        &lt;span class=\"p\"&gt;},&lt;/span&gt;\n      &lt;span class=\"p\"&gt;},&lt;/span&gt;\n    &lt;span class=\"p\"&gt;};&lt;/span&gt;\n\n    &lt;span class=\"nx\"&gt;fs&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;writeFileSync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;CONFIG_PATH&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;JSON&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;stringify&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;config&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"kc\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"mi\"&gt;2&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n\n    &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;newTargets&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;length&lt;/span&gt; &lt;span class=\"o\"&gt;&amp;gt;&lt;/span&gt; &lt;span class=\"mi\"&gt;0&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;succeed&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;green&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s2\"&gt;`Config updated: &lt;/span&gt;&lt;span class=\"p\"&gt;${&lt;/span&gt;&lt;span class=\"nx\"&gt;source&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s2\"&gt; ‚Üí &lt;/span&gt;&lt;span class=\"p\"&gt;${&lt;/span&gt;&lt;span class=\"nx\"&gt;allTargets&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;join&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;, &lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;)}&lt;/span&gt;&lt;span class=\"s2\"&gt;`&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n      &lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;else&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;succeed&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n        &lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;green&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n      &lt;span class=\"s2\"&gt;`Using existing config: &lt;/span&gt;&lt;span class=\"p\"&gt;${&lt;/span&gt;&lt;span class=\"nx\"&gt;source&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s2\"&gt; ‚Üí &lt;/span&gt;&lt;span class=\"p\"&gt;${&lt;/span&gt;&lt;span class=\"nx\"&gt;allTargets&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;join&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;, &lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;)}&lt;/span&gt;&lt;span class=\"s2\"&gt;`&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n        &lt;span class=\"p\"&gt;),&lt;/span&gt;\n      &lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n    &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"nx\"&gt;allTargets&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;catch &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;err&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;fail&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;red&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Config generation failed: &lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt; &lt;span class=\"o\"&gt;+&lt;/span&gt; &lt;span class=\"nx\"&gt;err&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;message&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;process&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;exit&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"mi\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n\n&lt;p&gt;The function accepts a &lt;code&gt;languages&lt;/code&gt; string in any reasonable format, such as &lt;code&gt;es,fr&lt;/code&gt;. If a configuration file already exists, the new languages are merged with the existing ones rather than overwriting them. &lt;br&gt;\nWrapping in new Set handles duplicates, so running the command twice with the same languages won't bloat the file.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;The buckets field is what Lingo.dev uses to find your files. The &lt;code&gt;[locale] placeholder in i18n/[locale]/*.yaml&lt;/code&gt; gets replaced with each target language code at translation time, mapping directly to the folder structure you created in the previous step.&lt;/p&gt;\n\n&lt;p&gt;You can read the official &lt;a href=\"https://lingo.dev/en/cli/quick-start#step-2-configure-a-bucket\" rel=\"noopener noreferrer\"&gt;Lingo.dev documentation&lt;/a&gt; for further understanding.&lt;/p&gt;\n\n&lt;p&gt;Finally, the function returns the &lt;code&gt;targets&lt;/code&gt; array because the &lt;code&gt;index.js&lt;/code&gt; file will need it later to tell the user where their translated files are.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Step 4: Call Lingo.dev for Translation\n&lt;/h3&gt;\n\n&lt;p&gt;Now that you have created the configuration that Lingo.dev expects, you can perform the actual translation by programmatically calling &lt;code&gt;lingo.dev run&lt;/code&gt;.&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;Open your &lt;code&gt;src/translate.js&lt;/code&gt; and add your imports:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"nx\"&gt;spawn&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;child_process&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;chalk&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;chalk&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;ora&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;ora&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;import&lt;/span&gt; &lt;span class=\"nx\"&gt;path&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;path&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;TRANSSPEC_DIR&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;.trans-spec&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;MAX_RETRIES&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"mi\"&gt;2&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Now add the &lt;code&gt;runTranslation&lt;/code&gt; function, which spawns the Lingo.dev CLI and watches the output:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;runTranslation&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n&lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nc\"&gt;Promise&lt;/span&gt;&lt;span class=\"p\"&gt;((&lt;/span&gt;&lt;span class=\"nx\"&gt;resolve&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"nx\"&gt;reject&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n&lt;span class=\"kd\"&gt;let&lt;/span&gt; &lt;span class=\"nx\"&gt;output&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"dl\"&gt;\"\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"kd\"&gt;let&lt;/span&gt; &lt;span class=\"nx\"&gt;hasErrors&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"kc\"&gt;false&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;process&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;spawn&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;npx&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;lingo.dev@latest&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;run&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;],&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"na\"&gt;cwd&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"nx\"&gt;path&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;resolve&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;TRANSSPEC_DIR&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n  &lt;span class=\"na\"&gt;shell&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"kc\"&gt;true&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n  &lt;span class=\"na\"&gt;stdio&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;pipe&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n&lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Capture stdout&lt;/span&gt;\n&lt;span class=\"nx\"&gt;process&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nx\"&gt;stdout&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;on&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;data&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;data&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;text&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;data&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;toString&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n  &lt;span class=\"nx\"&gt;output&lt;/span&gt; &lt;span class=\"o\"&gt;+=&lt;/span&gt; &lt;span class=\"nx\"&gt;text&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"nx\"&gt;console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;log&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;text&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"c1\"&gt;// Check for failure indicators&lt;/span&gt;\n  &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;text&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;includes&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;‚ùå&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;||&lt;/span&gt; &lt;span class=\"nx\"&gt;text&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;includes&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;[Failed Files]&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;))&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;hasErrors&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"kc\"&gt;true&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"nx\"&gt;process&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;on&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;close&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;code&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;code&lt;/span&gt; &lt;span class=\"o\"&gt;!==&lt;/span&gt; &lt;span class=\"mi\"&gt;0&lt;/span&gt; &lt;span class=\"o\"&gt;||&lt;/span&gt; &lt;span class=\"nx\"&gt;hasErrors&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"nf\"&gt;reject&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nc\"&gt;Error&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Translation had errors or failures&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;else&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"nf\"&gt;resolve&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"nx\"&gt;process&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;on&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;error&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;err&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"nf\"&gt;reject&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;err&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;});&lt;/span&gt;\n&lt;span class=\"p\"&gt;});&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n\n&lt;p&gt;Notice the cwd option:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;cwd: path.resolve(TRANSSPEC_DIR)\n&lt;/code&gt;&lt;/pre&gt;\n\n\n&lt;p&gt;This tells the spawn process to run from inside the &lt;code&gt;.trans-spec/&lt;/code&gt; folder. This is critical because &lt;code&gt;lingo.dev run&lt;/code&gt; looks for i18n.json in the current working directory. Without this, it would look in the wrong place and fail.&lt;/p&gt;\n\n&lt;p&gt;The output is piped so the function can scan it in real time. A zero exit code alone isn't enough to confirm success. Lingo.dev can exit cleanly, but still report failed files in the output. So the function also watches for \"‚ùå\" and \"[Failed Files]\", and treats those as errors.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Now, add the &lt;code&gt;translate()&lt;/code&gt; function that ties it together:&lt;br&gt;\n&lt;/p&gt;\n&lt;pre class=\"highlight javascript\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;export&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"kd\"&gt;function&lt;/span&gt; &lt;span class=\"nf\"&gt;translate&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;targets&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n&lt;span class=\"kd\"&gt;const&lt;/span&gt; &lt;span class=\"nx\"&gt;spinner&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"nf\"&gt;ora&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Translating...&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;).&lt;/span&gt;&lt;span class=\"nf\"&gt;start&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n&lt;span class=\"nx\"&gt;spinner&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;stop&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n  &lt;span class=\"k\"&gt;for &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"kd\"&gt;let&lt;/span&gt; &lt;span class=\"nx\"&gt;attempt&lt;/span&gt; &lt;span class=\"o\"&gt;=&lt;/span&gt; &lt;span class=\"mi\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt; &lt;span class=\"nx\"&gt;attempt&lt;/span&gt; &lt;span class=\"o\"&gt;&amp;lt;=&lt;/span&gt; &lt;span class=\"nx\"&gt;MAX_RETRIES&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt; &lt;span class=\"nx\"&gt;attempt&lt;/span&gt;&lt;span class=\"o\"&gt;++&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n&lt;span class=\"k\"&gt;try&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"nf\"&gt;runTranslation&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n  &lt;span class=\"nx\"&gt;console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;log&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;green&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"se\"&gt;\\n&lt;/span&gt;&lt;span class=\"s2\"&gt;‚úî Translation complete&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n  &lt;span class=\"k\"&gt;return&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt; &lt;span class=\"k\"&gt;catch &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;err&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n  &lt;span class=\"k\"&gt;if &lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;attempt&lt;/span&gt; &lt;span class=\"o\"&gt;&amp;lt;&lt;/span&gt; &lt;span class=\"nx\"&gt;MAX_RETRIES&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"nx\"&gt;console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;log&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n      &lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;yellow&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n        &lt;span class=\"s2\"&gt;`Translation failed. Retrying (&lt;/span&gt;&lt;span class=\"p\"&gt;${&lt;/span&gt;&lt;span class=\"nx\"&gt;attempt&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s2\"&gt;/&lt;/span&gt;&lt;span class=\"p\"&gt;${&lt;/span&gt;&lt;span class=\"nx\"&gt;MAX_RETRIES&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s2\"&gt;)...`&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n      &lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"p\"&gt;);&lt;/span&gt;\n  &lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n  &lt;span class=\"nx\"&gt;console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;log&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;red&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Translation failed after 2 attempts.&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n&lt;span class=\"nx\"&gt;console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;log&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n&lt;span class=\"nx\"&gt;chalk&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;white&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"s2\"&gt;Please try running manually: npx lingo.dev@latest run&lt;/span&gt;&lt;span class=\"dl\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"nx\"&gt;process&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;exit&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"mi\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n\n&lt;p&gt;If the first attempt fails, it retries once more before giving up. On final failure, it exits with a message pointing the user to run the command manually ‚Äî the same pattern you used in auth.js.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h3&gt;\n  \n  \n  Step 5\n&lt;/h3&gt;",
    "date": "2026-02-23T15:34:59.000Z",
    "url": "https://dev.to/superherojt/how-to-build-a-cli-tool-to-auto-translate-openapi-specifications-4f56"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "Ï†ÑÏ≤¥",
    "categories": [
      "_all_"
    ],
    "specUrl": "https://dev.to/feed",
    "title": "FullAgenticStack WhatsApp-first: Chatbot-as-Code",
    "partialText": "&lt;p&gt;Nesse artigo vou demonstrar como pensar em *as-Code e te entregar exatamente os arquivos &lt;code&gt;yaml&lt;/code&gt; que voc√™ precisar√° especificar para o seu neg√≥cio, toda arquitetura e ferramentas necess√°rias eu proverei para voc√™ apenas usar.&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;Vamos pegar um chatbot de agendamento de consultas odontol√≥gicas para 1 dentista.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Frqrmxu2mdtv1wvb9qetk.png\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Frqrmxu2mdtv1wvb9qetk.png\" alt=\" \" width=\"800\" height=\"800\"&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  ADENDO\n&lt;/h2&gt;\n\n&lt;p&gt;O aluno ir√° receber skills e prompts para fazer a IA retirar as configura√ß√µes j√° existentes nos seus sistemas e converter para AllasCode. Ou seja, o aluno n√£o ir√° aprender a implementar um conceito, ir√° aprender como funciona e como acontece a extra√ß√£o de cada valor escrito no seu c√≥digo. &lt;strong&gt;Ao final do curso o aluno possuir√° um sistema lan√ßado em produ√ß√£o e sem ter nenhum c√≥digo escrito diretamente, esse √© meu framework AllasCode&lt;/strong&gt; Ap√≥s 6 meses que eu liberar para os alunos, cada camada, eu liberarei Open Source, por√©m irei publicar as provas de conceito ao in√≠cio de cada m√≥dulo. &lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;&lt;a href=\"https://fullagenticstack.com\" rel=\"noopener noreferrer\"&gt;Esse curso, FullAgenticStack, n√£o √© para quem gosta de programar, √© para quem gosta de criar solu√ß√µes virtuais para problemas reais&lt;/a&gt;.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Para iniciar qualquer processo no nosso sistema precisamos de um canal para receber as mensagens do WhatsApp (Whatsmeow, EvolutionAPI, Whatserl *minha implementa√ß√£o pr√≥pria baseada no Whatsmeow). Para qualquer sistema que voc√™ for criar, voc√™ pode come√ßar com a modelagem do banco (schemas) ou com a defini√ß√£o do(s) canal(is) de entrada.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Toda API que eu fa√ßo √© um Event-driven MCP Server&lt;/strong&gt;, cada Tool eu crio as interfaces de stdio, websocket, http e filas, foi algo natural para mim, pois todas minhas apis tamb√©m tinham interface de filas, mantendo o padr√£o eu criei o &lt;strong&gt;MCP-as-Code&lt;/strong&gt;, que tamb√©m far√° parte do curso.&lt;/p&gt;\n\n&lt;p&gt;Para recebermos as mensagens do WhatsApp, precisamos de uma API e uma rota para receber as mensagens. A √∫nica rota que precisamos √© uma rota POST &lt;code&gt;/webhook&lt;/code&gt;.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  0. API\n&lt;/h2&gt;\n\n&lt;p&gt;Para esse exemplo irei omitir a parte de autentica√ß√£o e idempot√™ncia, escalabilidade, resili√™ncia, EventSourcing, etc. Quando chegarmos mais para frente iremos adicionar mais propriedades para essa configura√ß√£o.&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;Qual o ganho de usar o API-as-Code?&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Eu vou te dar um exemplo de API-as-Code onde a mesma √© executada em: Typescript, Go, Python, Rust e Erlang.&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;T√° bom?&lt;/strong&gt;&lt;br&gt;\n&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight yaml\"&gt;&lt;code&gt;&lt;span class=\"na\"&gt;apiVersion&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;fas.dev/v1&lt;/span&gt;\n&lt;span class=\"na\"&gt;kind&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;ApiAsCode&lt;/span&gt;\n&lt;span class=\"na\"&gt;metadata&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;whatsapp-webhook-only&lt;/span&gt;\n&lt;span class=\"na\"&gt;spec&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;server&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"na\"&gt;port&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"m\"&gt;8888&lt;/span&gt;\n    &lt;span class=\"na\"&gt;basePath&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;/\"&lt;/span&gt;\n  &lt;span class=\"na\"&gt;routes&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;whatsapp-webhook&lt;/span&gt;\n      &lt;span class=\"na\"&gt;method&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;POST&lt;/span&gt;\n      &lt;span class=\"na\"&gt;path&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;/webhook\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;input&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;contentType&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;application/json\"&lt;/span&gt;\n        &lt;span class=\"na\"&gt;schemaRef&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;schema.as-code.yaml#/schemas/WhatsAppWebhookPayload\"&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;Esse √© apenas um gostinho do poder da Programa√ß√£o declarativa.&lt;/strong&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Abaixo vou deixar o exemplo funcional de 10 camadas as-Code que voc√™ ir√° aprender seus conceitos e como traduzir seus pensamentos em configura√ß√µes.&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;0 programa√ß√£o&lt;/strong&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;h2&gt;\n  \n  \n  1.1) &lt;code&gt;schema.as-code.yaml&lt;/code&gt; (contrato m√≠nimo)\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight yaml\"&gt;&lt;code&gt;&lt;span class=\"na\"&gt;apiVersion&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;fas.dev/v1&lt;/span&gt;\n&lt;span class=\"na\"&gt;kind&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;SchemaAsCode&lt;/span&gt;\n&lt;span class=\"na\"&gt;metadata&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;clinic-schemas&lt;/span&gt;\n&lt;span class=\"na\"&gt;spec&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;schemas&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"na\"&gt;WhatsAppWebhookPayload&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"na\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;object&lt;/span&gt;\n      &lt;span class=\"na\"&gt;properties&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;message&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n          &lt;span class=\"na\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;object&lt;/span&gt;\n          &lt;span class=\"na\"&gt;properties&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n            &lt;span class=\"na\"&gt;id&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n            &lt;span class=\"na\"&gt;from&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n            &lt;span class=\"na\"&gt;text&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n            &lt;span class=\"na\"&gt;timestamp&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n          &lt;span class=\"na\"&gt;required&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;[&lt;/span&gt;&lt;span class=\"nv\"&gt;id&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;from&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;text&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;timestamp&lt;/span&gt;&lt;span class=\"pi\"&gt;]&lt;/span&gt;\n      &lt;span class=\"na\"&gt;required&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;[&lt;/span&gt;&lt;span class=\"nv\"&gt;message&lt;/span&gt;&lt;span class=\"pi\"&gt;]&lt;/span&gt;\n\n    &lt;span class=\"na\"&gt;WhatsAppMessageReceived&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"na\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;object&lt;/span&gt;\n      &lt;span class=\"na\"&gt;properties&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;messageId&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;from&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;text&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;timestamp&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n      &lt;span class=\"na\"&gt;required&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;[&lt;/span&gt;&lt;span class=\"nv\"&gt;messageId&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;from&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;text&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;timestamp&lt;/span&gt;&lt;span class=\"pi\"&gt;]&lt;/span&gt;\n\n    &lt;span class=\"na\"&gt;Appointment&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"na\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;object&lt;/span&gt;\n      &lt;span class=\"na\"&gt;properties&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;id&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;customerPhoneE164&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;startsAt&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;format&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;date-time&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;durationMinutes&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;integer&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;status&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n      &lt;span class=\"na\"&gt;required&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;[&lt;/span&gt;&lt;span class=\"nv\"&gt;id&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;customerPhoneE164&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;startsAt&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;durationMinutes&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;status&lt;/span&gt;&lt;span class=\"pi\"&gt;]&lt;/span&gt;\n\n    &lt;span class=\"na\"&gt;BehaviorInputs&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"na\"&gt;AppointmentCreateFromTextInput&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;object&lt;/span&gt;\n        &lt;span class=\"na\"&gt;properties&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n          &lt;span class=\"na\"&gt;messageId&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n          &lt;span class=\"na\"&gt;from&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n          &lt;span class=\"na\"&gt;text&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n          &lt;span class=\"na\"&gt;timestamp&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;required&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;[&lt;/span&gt;&lt;span class=\"nv\"&gt;messageId&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;from&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;text&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;timestamp&lt;/span&gt;&lt;span class=\"pi\"&gt;]&lt;/span&gt;\n\n    &lt;span class=\"na\"&gt;BehaviorOutputs&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"na\"&gt;AppointmentCreateOutput&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;object&lt;/span&gt;\n        &lt;span class=\"na\"&gt;properties&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n          &lt;span class=\"na\"&gt;appointmentId&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n          &lt;span class=\"na\"&gt;status&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;required&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;[&lt;/span&gt;&lt;span class=\"nv\"&gt;appointmentId&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;status&lt;/span&gt;&lt;span class=\"pi\"&gt;]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Faltam (para completar o exemplo):&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Normaliza√ß√£o real do payload (WhatsApp Cloud vs Evolution vs Whatserl)&lt;/li&gt;\n&lt;li&gt;\n&lt;code&gt;correlation_id&lt;/code&gt; / &lt;code&gt;causation_id&lt;/code&gt; / &lt;code&gt;idempotency_key&lt;/code&gt; no envelope&lt;/li&gt;\n&lt;li&gt;Schema de \"erro can√¥nico\" (para respostas consistentes)&lt;/li&gt;\n&lt;li&gt;Schema de \"evid√™ncia/audit\" (se for Compliance-evidence-first)&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  2) &lt;code&gt;channel.as-code.yaml&lt;/code&gt; (m√≠nimo do canal)\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight yaml\"&gt;&lt;code&gt;&lt;span class=\"na\"&gt;apiVersion&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;fas.dev/v1&lt;/span&gt;\n&lt;span class=\"na\"&gt;kind&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;ChannelAsCode&lt;/span&gt;\n&lt;span class=\"na\"&gt;metadata&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;whatsapp-first-clinic&lt;/span&gt;\n  &lt;span class=\"na\"&gt;owner&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;student&lt;/span&gt;\n&lt;span class=\"na\"&gt;spec&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;queueBackend&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"na\"&gt;provider&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;rabbitmq&lt;/span&gt;\n    &lt;span class=\"na\"&gt;exchange&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;fas.whatsapp\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;topic&lt;/span&gt;\n      &lt;span class=\"na\"&gt;durable&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"kc\"&gt;true&lt;/span&gt;\n\n  &lt;span class=\"na\"&gt;naming&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"na\"&gt;prefix&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;fas\"&lt;/span&gt;\n    &lt;span class=\"na\"&gt;environment&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;dev\"&lt;/span&gt;\n    &lt;span class=\"na\"&gt;rules&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;pattern&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{prefix}.{env}.{domain}.{entity}.{topic}\"&lt;/span&gt;\n    &lt;span class=\"na\"&gt;topics&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"na\"&gt;events&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;events\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;dlq&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;dlq\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;retry&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;retry\"&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Faltam:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;code&gt;delivery&lt;/code&gt; (timeout/retry/backoff)&lt;/li&gt;\n&lt;li&gt;DLQ/retry de verdade (roteamento + pol√≠ticas por erro)&lt;/li&gt;\n&lt;li&gt;Idempot√™ncia no canal (ou no API layer)&lt;/li&gt;\n&lt;li&gt;Observabilidade do canal (m√©tricas, tracing, lag)&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  3) &lt;code&gt;api.as-code.yaml&lt;/code&gt; (webhook ‚Üí evento can√¥nico)\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight yaml\"&gt;&lt;code&gt;&lt;span class=\"na\"&gt;apiVersion&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;fas.dev/v1&lt;/span&gt;\n&lt;span class=\"na\"&gt;kind&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;ApiAsCode&lt;/span&gt;\n&lt;span class=\"na\"&gt;metadata&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;whatsapp-webhook-only&lt;/span&gt;\n&lt;span class=\"na\"&gt;spec&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;server&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"na\"&gt;port&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"m\"&gt;8888&lt;/span&gt;\n    &lt;span class=\"na\"&gt;basePath&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;/\"&lt;/span&gt;\n  &lt;span class=\"na\"&gt;routes&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;whatsapp-webhook&lt;/span&gt;\n      &lt;span class=\"na\"&gt;method&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;POST&lt;/span&gt;\n      &lt;span class=\"na\"&gt;path&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;/webhook\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;input&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;contentType&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;application/json\"&lt;/span&gt;\n        &lt;span class=\"na\"&gt;schemaRef&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;schema.as-code.yaml#/schemas/WhatsAppWebhookPayload\"&lt;/span&gt;\n\n      &lt;span class=\"na\"&gt;emits&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;topic&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;fas.dev.crm.whatsapp.events\"&lt;/span&gt;\n          &lt;span class=\"na\"&gt;eventType&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;WhatsAppMessageReceived\"&lt;/span&gt;\n          &lt;span class=\"na\"&gt;schemaRef&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;schema.as-code.yaml#/schemas/WhatsAppMessageReceived\"&lt;/span&gt;\n          &lt;span class=\"na\"&gt;map&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n            &lt;span class=\"na\"&gt;messageId&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{body.message.id}}\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;from&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{body.message.from}}\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;text&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{body.message.text}}\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;timestamp&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{body.message.timestamp}}\"&lt;/span&gt;\n\n      &lt;span class=\"na\"&gt;response&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;status&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"m\"&gt;200&lt;/span&gt;\n        &lt;span class=\"na\"&gt;body&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n          &lt;span class=\"na\"&gt;ok&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"kc\"&gt;true&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Faltam:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Autentica√ß√£o/assinatura (HMAC/verify token)&lt;/li&gt;\n&lt;li&gt;Idempot√™ncia (header/body ‚Üí idempotency key)&lt;/li&gt;\n&lt;li&gt;Rate limit + prote√ß√£o contra replay&lt;/li&gt;\n&lt;li&gt;Persist√™ncia de \"raw payload\" (controlada por policy/compliance)&lt;/li&gt;\n&lt;li&gt;Modo \"respond immediately vs async\" (aqui √© async por evento)&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  4) &lt;code&gt;tool.as-code.yaml&lt;/code&gt; (&lt;strong&gt;1 tool&lt;/strong&gt;)\n&lt;/h2&gt;\n\n&lt;p&gt;&lt;strong&gt;Um tool s√≥&lt;/strong&gt; que encapsula o efeito colateral \"criar agendamento + notificar\" (o runtime por baixo faz DB + WhatsApp, mas o aluno n√£o mexe nisso).&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight yaml\"&gt;&lt;code&gt;&lt;span class=\"na\"&gt;apiVersion&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;fas.dev/v1&lt;/span&gt;\n&lt;span class=\"na\"&gt;kind&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;ToolAsCode&lt;/span&gt;\n&lt;span class=\"na\"&gt;metadata&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;clinic-tools&lt;/span&gt;\n  &lt;span class=\"na\"&gt;owner&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;student&lt;/span&gt;\n&lt;span class=\"na\"&gt;spec&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;tools&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;clinic.appointment.create&lt;/span&gt;\n      &lt;span class=\"na\"&gt;description&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;Cria&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;o&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;agendamento&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;(persist√™ncia)&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;e&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;notifica&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;o&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;cliente.\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;inputSchema&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;object&lt;/span&gt;\n        &lt;span class=\"na\"&gt;properties&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n          &lt;span class=\"na\"&gt;customerPhoneE164&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n          &lt;span class=\"na\"&gt;startsAt&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;format&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;date-time&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n          &lt;span class=\"na\"&gt;durationMinutes&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;integer&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n          &lt;span class=\"na\"&gt;messageId&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;required&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;[&lt;/span&gt;&lt;span class=\"nv\"&gt;customerPhoneE164&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;startsAt&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;durationMinutes&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;messageId&lt;/span&gt;&lt;span class=\"pi\"&gt;]&lt;/span&gt;\n      &lt;span class=\"na\"&gt;outputSchema&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;object&lt;/span&gt;\n        &lt;span class=\"na\"&gt;properties&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n          &lt;span class=\"na\"&gt;appointmentId&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n          &lt;span class=\"na\"&gt;status&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;{&lt;/span&gt; &lt;span class=\"nv\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"nv\"&gt;string&lt;/span&gt; &lt;span class=\"pi\"&gt;}&lt;/span&gt;\n        &lt;span class=\"na\"&gt;required&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"pi\"&gt;[&lt;/span&gt;&lt;span class=\"nv\"&gt;appointmentId&lt;/span&gt;&lt;span class=\"pi\"&gt;,&lt;/span&gt; &lt;span class=\"nv\"&gt;status&lt;/span&gt;&lt;span class=\"pi\"&gt;]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Faltam:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Separar efeitos (DB vs WhatsApp) em tools diferentes (quando voc√™ quiser granularidade real)&lt;/li&gt;\n&lt;li&gt;Contrato de erro (ex.: \"slot indispon√≠vel\", \"fora do hor√°rio\", \"falha no envio\")&lt;/li&gt;\n&lt;li&gt;Idempot√™ncia no tool (messageId como chave de dedupe)&lt;/li&gt;\n&lt;li&gt;Retries por tipo de erro (transiente vs permanente)&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  5) &lt;code&gt;policy.as-code.yaml&lt;/code&gt; (&lt;strong&gt;1 policy&lt;/strong&gt;)\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight yaml\"&gt;&lt;code&gt;&lt;span class=\"na\"&gt;apiVersion&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;fas.dev/v1&lt;/span&gt;\n&lt;span class=\"na\"&gt;kind&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;PolicyAsCode&lt;/span&gt;\n&lt;span class=\"na\"&gt;metadata&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;clinic-policy&lt;/span&gt;\n&lt;span class=\"na\"&gt;spec&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;policies&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"na\"&gt;Clinic.OfficeHours&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"na\"&gt;description&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;Agendamento&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;s√≥&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;pode&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;acontecer&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;dentro&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;do&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;hor√°rio&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;de&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;funcionamento.\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;rules&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;timezone&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;America/Sao_Paulo\"&lt;/span&gt;\n        &lt;span class=\"na\"&gt;weekly&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n          &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;day&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;MONDAY&lt;/span&gt;\n            &lt;span class=\"na\"&gt;open&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;08:00\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;close&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;18:00\"&lt;/span&gt;\n          &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;day&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;TUESDAY&lt;/span&gt;\n            &lt;span class=\"na\"&gt;open&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;08:00\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;close&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;18:00\"&lt;/span&gt;\n          &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;day&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;WEDNESDAY&lt;/span&gt;\n            &lt;span class=\"na\"&gt;open&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;08:00\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;close&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;18:00\"&lt;/span&gt;\n          &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;day&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;THURSDAY&lt;/span&gt;\n            &lt;span class=\"na\"&gt;open&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;08:00\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;close&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;18:00\"&lt;/span&gt;\n          &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;day&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;FRIDAY&lt;/span&gt;\n            &lt;span class=\"na\"&gt;open&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;08:00\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;close&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;18:00\"&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Faltam:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Feriados/pausas (almo√ßo), exce√ß√µes e agenda do dentista&lt;/li&gt;\n&lt;li&gt;Pol√≠tica de \"slot dispon√≠vel\" (conflito com agenda)&lt;/li&gt;\n&lt;li&gt;Cancelamento/remarca√ß√£o + janela m√≠nima&lt;/li&gt;\n&lt;li&gt;Pol√≠tica de confirma√ß√£o contextual (para a√ß√µes de impacto)&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  6) &lt;code&gt;compliance.as-code.yaml&lt;/code&gt; (&lt;strong&gt;1 compliance&lt;/strong&gt;)\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight yaml\"&gt;&lt;code&gt;&lt;span class=\"na\"&gt;apiVersion&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;fas.dev/v1&lt;/span&gt;\n&lt;span class=\"na\"&gt;kind&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;ComplianceAsCode&lt;/span&gt;\n&lt;span class=\"na\"&gt;metadata&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;clinic-compliance&lt;/span&gt;\n&lt;span class=\"na\"&gt;spec&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;controls&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"na\"&gt;Audit.DecisionLog&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"na\"&gt;description&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;Registrar&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;evid√™ncia&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;m√≠nima&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;de&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;decis√£o/execu√ß√£o.\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;required&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"s\"&gt;eventType&lt;/span&gt;\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"s\"&gt;correlationId&lt;/span&gt;\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"s\"&gt;evidence&lt;/span&gt;\n      &lt;span class=\"na\"&gt;sink&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;eventStore&lt;/span&gt;\n        &lt;span class=\"na\"&gt;topic&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;fas.dev.infra.audit.events\"&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Faltam:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;PII minimization (o que pode/ n√£o pode ir para audit)&lt;/li&gt;\n&lt;li&gt;Reten√ß√£o (TTL) e export (LGPD)&lt;/li&gt;\n&lt;li&gt;Trilhas por \"a√ß√£o cr√≠tica\" (cancelar/pagar)&lt;/li&gt;\n&lt;li&gt;Evid√™ncia de \"quem/qual agente/qual vers√£o do spec\"&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  7) &lt;code&gt;state.as-code.yaml&lt;/code&gt; (estado m√≠nimo)\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight yaml\"&gt;&lt;code&gt;&lt;span class=\"na\"&gt;apiVersion&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;fas.dev/v1&lt;/span&gt;\n&lt;span class=\"na\"&gt;kind&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;StateAsCode&lt;/span&gt;\n&lt;span class=\"na\"&gt;metadata&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;clinic-state&lt;/span&gt;\n&lt;span class=\"na\"&gt;spec&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;states&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"na\"&gt;ConversationState&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"na\"&gt;lifecycle&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;IDLE\"&lt;/span&gt;\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;AWAITING_DATE\"&lt;/span&gt;\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;AWAITING_CONFIRMATION\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;defaults&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;state&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;IDLE\"&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Faltam:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Estado por usu√°rio (keyed by &lt;code&gt;from&lt;/code&gt;)&lt;/li&gt;\n&lt;li&gt;TTL de sess√£o (24h WhatsApp window)&lt;/li&gt;\n&lt;li&gt;Migra√ß√£o de estado (State-as-Code migrations)&lt;/li&gt;\n&lt;li&gt;Replay/reprocess de eventos com estado materializado&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  8) &lt;code&gt;entity-agent.as-code.yaml&lt;/code&gt; (&lt;strong&gt;1 agent&lt;/strong&gt;)\n&lt;/h2&gt;\n\n&lt;p&gt;Um agente s√≥: &lt;strong&gt;ClinicAgent&lt;/strong&gt; (ele \"entende\" agendamento; Customer vira detalhe impl√≠cito pelo telefone).&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight yaml\"&gt;&lt;code&gt;&lt;span class=\"na\"&gt;apiVersion&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;fas.dev/v1&lt;/span&gt;\n&lt;span class=\"na\"&gt;kind&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;EntityAgentAsCode&lt;/span&gt;\n&lt;span class=\"na\"&gt;metadata&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;clinic-agent&lt;/span&gt;\n&lt;span class=\"na\"&gt;spec&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;agents&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"na\"&gt;ClinicAgent&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"na\"&gt;entity&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;Appointment&lt;/span&gt;\n      &lt;span class=\"na\"&gt;schemaRef&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;schema.as-code.yaml#/schemas/Appointment\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;stateRef&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;state.as-code.yaml#/states/ConversationState\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;tools&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;tool.as-code.yaml#/tools/clinic.appointment.create\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;policies&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;policy.as-code.yaml#/policies/Clinic.OfficeHours\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;compliance&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;compliance.as-code.yaml#/controls/Audit.DecisionLog\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;behaviors&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;atomic-behavior-agent.as-code.yaml#/agents/Appointment.CreateFromText\"&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Faltam:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Invariants-as-Code (futuro, idempot√™ncia, confirma√ß√£o)&lt;/li&gt;\n&lt;li&gt;Tool permissions (allow/deny por ambiente)&lt;/li&gt;\n&lt;li&gt;Observabilidade por agente (last decision, last error, etc)&lt;/li&gt;\n&lt;li&gt;Multi-intent (cancelar, remarcar, perguntar pre√ßo, etc)&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  9) &lt;code&gt;atomic-behavior-agent.as-code.yaml&lt;/code&gt; (1 behavior)\n&lt;/h2&gt;\n\n&lt;p&gt;Aqui eu mantive \"steps\" bem curtos. Repara que eu uso &lt;code&gt;run: Extract&lt;/code&gt; como capacidade do runtime (n√£o conta como tool). O √∫nico tool √© o &lt;code&gt;clinic.appointment.create&lt;/code&gt;.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight yaml\"&gt;&lt;code&gt;&lt;span class=\"na\"&gt;apiVersion&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;fas.dev/v1&lt;/span&gt;\n&lt;span class=\"na\"&gt;kind&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;AtomicBehaviorAgentAsCode&lt;/span&gt;\n&lt;span class=\"na\"&gt;metadata&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;clinic-behaviors&lt;/span&gt;\n&lt;span class=\"na\"&gt;spec&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;agents&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"na\"&gt;Appointment.CreateFromText&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n      &lt;span class=\"na\"&gt;description&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;Extrai&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;data/hora&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;do&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;texto&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;e&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;cria&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;agendamento.\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;inputSchemaRef&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;schema.as-code.yaml#/schemas/BehaviorInputs/AppointmentCreateFromTextInput\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;outputSchemaRef&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;schema.as-code.yaml#/schemas/BehaviorOutputs/AppointmentCreateOutput\"&lt;/span&gt;\n\n      &lt;span class=\"na\"&gt;steps&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;run&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;Extract&lt;/span&gt;\n          &lt;span class=\"na\"&gt;description&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;Extrai&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;startsAt&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;e&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;durationMinutes&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;do&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;texto.\"&lt;/span&gt;\n          &lt;span class=\"na\"&gt;from&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n            &lt;span class=\"na\"&gt;text&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{input.text}}\"&lt;/span&gt;\n          &lt;span class=\"na\"&gt;into&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n            &lt;span class=\"na\"&gt;startsAt&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{extract.datetime}}\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;durationMinutes&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{extract.int&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;|&lt;/span&gt;&lt;span class=\"nv\"&gt; &lt;/span&gt;&lt;span class=\"s\"&gt;default(30)}}\"&lt;/span&gt;\n\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;run&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;PolicyCheck&lt;/span&gt;\n          &lt;span class=\"na\"&gt;ref&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;policy.as-code.yaml#/policies/Clinic.OfficeHours\"&lt;/span&gt;\n          &lt;span class=\"na\"&gt;with&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n            &lt;span class=\"na\"&gt;datetime&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{startsAt}}\"&lt;/span&gt;\n\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;run&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;Tool&lt;/span&gt;\n          &lt;span class=\"na\"&gt;ref&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;tool.as-code.yaml#/tools/clinic.appointment.create\"&lt;/span&gt;\n          &lt;span class=\"na\"&gt;with&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n            &lt;span class=\"na\"&gt;customerPhoneE164&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{input.from}}\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;startsAt&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{startsAt}}\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;durationMinutes&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{durationMinutes}}\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;messageId&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{input.messageId}}\"&lt;/span&gt;\n          &lt;span class=\"na\"&gt;saveAs&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;result&lt;/span&gt;\n\n        &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;run&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;Compliance&lt;/span&gt;\n          &lt;span class=\"na\"&gt;ref&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;compliance.as-code.yaml#/controls/Audit.DecisionLog\"&lt;/span&gt;\n          &lt;span class=\"na\"&gt;with&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n            &lt;span class=\"na\"&gt;eventType&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;AppointmentCreated\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;correlationId&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{input.messageId}}\"&lt;/span&gt;\n            &lt;span class=\"na\"&gt;evidence&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n              &lt;span class=\"na\"&gt;from&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{input.from}}\"&lt;/span&gt;\n              &lt;span class=\"na\"&gt;startsAt&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{startsAt}}\"&lt;/span&gt;\n              &lt;span class=\"na\"&gt;appointmentId&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{result.appointmentId}}\"&lt;/span&gt;\n\n      &lt;span class=\"na\"&gt;returns&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;appointmentId&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{result.appointmentId}}\"&lt;/span&gt;\n        &lt;span class=\"na\"&gt;status&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{result.status}}\"&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Faltam:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Specification-as-Code (perguntas de clarifica√ß√£o quando &lt;code&gt;startsAt&lt;/code&gt; n√£o vem)&lt;/li&gt;\n&lt;li&gt;Invariants-as-Code (agendamento no futuro, idempot√™ncia, confirma√ß√£o)&lt;/li&gt;\n&lt;li&gt;Tratamento de erro (slot ocupado, fora do hor√°rio, amb√≠guo)&lt;/li&gt;\n&lt;li&gt;\"Confirmation step\" (antes de criar de fato) ‚Äî a√ß√£o de impacto&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  10) &lt;code&gt;flow.as-code.yaml&lt;/code&gt; (&lt;strong&gt;1 flow&lt;/strong&gt;)\n&lt;/h2&gt;\n\n&lt;p&gt;Um flow √∫nico que roteia o evento de entrada para o agente.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight yaml\"&gt;&lt;code&gt;&lt;span class=\"na\"&gt;apiVersion&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;fas.dev/v1&lt;/span&gt;\n&lt;span class=\"na\"&gt;kind&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;FlowAsCode&lt;/span&gt;\n&lt;span class=\"na\"&gt;metadata&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;whatsapp-inbound-routing&lt;/span&gt;\n&lt;span class=\"na\"&gt;spec&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n  &lt;span class=\"na\"&gt;triggers&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n    &lt;span class=\"pi\"&gt;-&lt;/span&gt; &lt;span class=\"na\"&gt;name&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;on-whatsapp-message&lt;/span&gt;\n      &lt;span class=\"na\"&gt;type&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;event&lt;/span&gt;\n      &lt;span class=\"na\"&gt;topic&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;fas.dev.crm.whatsapp.events\"&lt;/span&gt;\n      &lt;span class=\"na\"&gt;eventType&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;WhatsAppMessageReceived\"&lt;/span&gt;\n\n      &lt;span class=\"na\"&gt;action&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n        &lt;span class=\"na\"&gt;agentRef&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;entity-agent.as-code.yaml#/agents/ClinicAgent\"&lt;/span&gt;\n        &lt;span class=\"na\"&gt;behaviorRef&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;atomic-behavior-agent.as-code.yaml#/agents/Appointment.CreateFromText\"&lt;/span&gt;\n        &lt;span class=\"na\"&gt;inputMap&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt;\n          &lt;span class=\"na\"&gt;messageId&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{event.messageId}}\"&lt;/span&gt;\n          &lt;span class=\"na\"&gt;from&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{event.from}}\"&lt;/span&gt;\n          &lt;span class=\"na\"&gt;text&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{event.text}}\"&lt;/span&gt;\n          &lt;span class=\"na\"&gt;timestamp&lt;/span&gt;&lt;span class=\"pi\"&gt;:&lt;/span&gt; &lt;span class=\"s2\"&gt;\"&lt;/span&gt;&lt;span class=\"s\"&gt;{{event.timestamp}}\"&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Faltam:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Retry/DLQ no n√≠vel do flow (transiente vs permanente)&lt;/li&gt;\n&lt;li&gt;Idempot√™ncia do flow (dedupe por messageId)&lt;/li&gt;\n&lt;li&gt;Roteamento por inten√ß√£o (create vs cancel vs info)&lt;/li&gt;\n&lt;li&gt;\"Flow-as-Code cron\" (ex.: lembrete 24h) ‚Äî voc√™ pediu 1 flow, ent√£o ficou fora&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Al√©m dessas 10, voc√™ s√≥ precisar√° de mais 2 para ter um chatbot completo:&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  11. Intent-as-Code\n&lt;/h2&gt;\n\n&lt;h2&gt;\n  \n  \n  12. Specification-as-Code\n&lt;/h2&gt;\n\n&lt;h2&gt;\n  \n  \n  CTA\n&lt;/h2&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;Minha arquitetura ainda possui muitas outras especifica√ß√µes as-Code, mas eu quis deixar apenas o necess√°rio para o funcionamento do chatbot.&lt;/p&gt;\n&lt;/blockquote&gt;",
    "date": "2026-02-23T15:17:44.000Z",
    "url": "https://dev.to/fullagenticstack/fullagenticstack-whatsapp-first-chatbot-as-code-1p9"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "Ï†ÑÏ≤¥",
    "categories": [
      "_all_"
    ],
    "specUrl": "https://dev.to/feed",
    "title": "7 API Design Mistakes That Make Your Users Hate You (and How to Fix Them)",
    "partialText": "&lt;p&gt;Every developer has used a terrible API. Inconsistent naming, cryptic errors, pagination that makes no sense.&lt;/p&gt;\n\n&lt;p&gt;After reviewing 50+ production APIs (Stripe, GitHub, Twitch, and plenty of bad ones), I compiled the &lt;strong&gt;7 most common design mistakes&lt;/strong&gt; ‚Äî and the exact patterns to fix them.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  1. RPC-Style URLs Instead of Resources\n&lt;/h2&gt;\n\n&lt;p&gt;&lt;strong&gt;‚ùå Bad:&lt;/strong&gt;&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;POST /getUsers\nPOST /createUser\nPOST /deleteUser\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;‚úÖ Good:&lt;/strong&gt;&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;GET    /users          ‚Üí List\nPOST   /users          ‚Üí Create\nGET    /users/123      ‚Üí Read\nPATCH  /users/123      ‚Üí Update\nDELETE /users/123      ‚Üí Delete\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;HTTP methods are your verbs. URLs should be &lt;strong&gt;nouns&lt;/strong&gt;. This is REST 101, but 40% of APIs I reviewed still get it wrong.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Exception:&lt;/strong&gt; Actions that don not map to CRUD use a verb sub-resource:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;POST /articles/42/publish\nPOST /payments/abc/refund\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  2. Mixing Naming Conventions\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight json\"&gt;&lt;code&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"w\"&gt;\n  &lt;/span&gt;&lt;span class=\"nl\"&gt;\"firstName\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"John\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;&lt;span class=\"w\"&gt;\n  &lt;/span&gt;&lt;span class=\"nl\"&gt;\"last_name\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"Doe\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;&lt;span class=\"w\"&gt;\n  &lt;/span&gt;&lt;span class=\"nl\"&gt;\"Email-Address\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"john@example.com\"&lt;/span&gt;&lt;span class=\"w\"&gt;\n&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"w\"&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;Pick ONE convention:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight json\"&gt;&lt;code&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"w\"&gt;\n  &lt;/span&gt;&lt;span class=\"nl\"&gt;\"first_name\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"John\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;&lt;span class=\"w\"&gt;\n  &lt;/span&gt;&lt;span class=\"nl\"&gt;\"last_name\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"Doe\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;&lt;span class=\"w\"&gt;\n  &lt;/span&gt;&lt;span class=\"nl\"&gt;\"email_address\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"john@example.com\"&lt;/span&gt;&lt;span class=\"w\"&gt;\n&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"w\"&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;div class=\"table-wrapper-paragraph\"&gt;&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Where&lt;/th&gt;\n&lt;th&gt;Convention&lt;/th&gt;\n&lt;th&gt;Example&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;URL paths&lt;/td&gt;\n&lt;td&gt;kebab-case, plural&lt;/td&gt;\n&lt;td&gt;/user-profiles&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Query params&lt;/td&gt;\n&lt;td&gt;snake_case&lt;/td&gt;\n&lt;td&gt;?sort_by=created_at&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;JSON fields&lt;/td&gt;\n&lt;td&gt;snake_case&lt;/td&gt;\n&lt;td&gt;first_name&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Headers&lt;/td&gt;\n&lt;td&gt;Title-Case&lt;/td&gt;\n&lt;td&gt;X-Request-Id&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;&lt;/div&gt;\n\n&lt;p&gt;Stripe, GitHub, and Slack all use snake_case for JSON. Google uses camelCase. &lt;strong&gt;Both are fine ‚Äî mixing is not.&lt;/strong&gt;&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  3. Useless Error Messages\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight json\"&gt;&lt;code&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"nl\"&gt;\"error\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"Bad request\"&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"w\"&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;vs.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight json\"&gt;&lt;code&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"w\"&gt;\n  &lt;/span&gt;&lt;span class=\"nl\"&gt;\"error\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"w\"&gt;\n    &lt;/span&gt;&lt;span class=\"nl\"&gt;\"code\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"validation_error\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;&lt;span class=\"w\"&gt;\n    &lt;/span&gt;&lt;span class=\"nl\"&gt;\"message\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"Email format is invalid\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;&lt;span class=\"w\"&gt;\n    &lt;/span&gt;&lt;span class=\"nl\"&gt;\"field\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"email\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;&lt;span class=\"w\"&gt;\n    &lt;/span&gt;&lt;span class=\"nl\"&gt;\"docs\"&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;&lt;span class=\"w\"&gt; &lt;/span&gt;&lt;span class=\"s2\"&gt;\"https://api.example.com/docs/errors#validation_error\"&lt;/span&gt;&lt;span class=\"w\"&gt;\n  &lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"w\"&gt;\n&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"w\"&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;Great APIs include: &lt;strong&gt;what&lt;/strong&gt; failed, &lt;strong&gt;where&lt;/strong&gt; it failed, a machine-readable &lt;strong&gt;code&lt;/strong&gt;, and a link to &lt;strong&gt;docs&lt;/strong&gt;. Stripe error responses are the gold standard here.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  4. No Pagination (or Bad Pagination)\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;GET /users?page=500&amp;amp;limit=20\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;Offset pagination &lt;strong&gt;breaks&lt;/strong&gt; when records are added/deleted between pages.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;GET /users?limit=20&amp;amp;after=cursor_abc123\n\n{\n  \"data\": [...],\n  \"pagination\": {\n    \"has_more\": true,\n    \"next_cursor\": \"cursor_def456\"\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;Cursor-based pagination is consistent and scales to millions of records.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  5. No Versioning Strategy\n&lt;/h2&gt;\n\n&lt;p&gt;Your API &lt;strong&gt;will&lt;/strong&gt; change. Without versioning, every change risks breaking clients.&lt;/p&gt;\n\n&lt;div class=\"table-wrapper-paragraph\"&gt;&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Strategy&lt;/th&gt;\n&lt;th&gt;Example&lt;/th&gt;\n&lt;th&gt;Pros&lt;/th&gt;\n&lt;th&gt;Cons&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;URL path&lt;/td&gt;\n&lt;td&gt;/v1/users&lt;/td&gt;\n&lt;td&gt;Simple, explicit&lt;/td&gt;\n&lt;td&gt;URL changes&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Header&lt;/td&gt;\n&lt;td&gt;Accept: application/vnd.api.v1+json&lt;/td&gt;\n&lt;td&gt;Clean URLs&lt;/td&gt;\n&lt;td&gt;Hidden&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Query param&lt;/td&gt;\n&lt;td&gt;/users?version=1&lt;/td&gt;\n&lt;td&gt;Easy to test&lt;/td&gt;\n&lt;td&gt;Messy&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;&lt;/div&gt;\n\n&lt;p&gt;Stripe uses URL versioning + date-based pinning. Each API key is pinned to a version. Most developer-friendly approach.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  6. Authentication Afterthoughts\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;GET /users?api_key=sk_live_xxx\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;API keys in URLs end up in logs, browser history, and referrer headers.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;GET /users\nAuthorization: Bearer sk_live_xxx\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Auth checklist:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Never pass secrets in URLs&lt;/li&gt;\n&lt;li&gt;Use short-lived tokens + refresh flow&lt;/li&gt;\n&lt;li&gt;Return 401 for missing/invalid auth, 403 for insufficient permissions&lt;/li&gt;\n&lt;li&gt;Rate limit by API key, not by IP&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  7. Ignoring Idempotency\n&lt;/h2&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;POST /payments { amount: 100 }\n// network timeout... retry?\nPOST /payments { amount: 100 }  // DOUBLE CHARGE\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;With idempotency keys:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;POST /payments\nIdempotency-Key: req_abc123\n{ amount: 100 }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;div class=\"table-wrapper-paragraph\"&gt;&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Method&lt;/th&gt;\n&lt;th&gt;Idempotent&lt;/th&gt;\n&lt;th&gt;Safe to retry&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;GET&lt;/td&gt;\n&lt;td&gt;Yes&lt;/td&gt;\n&lt;td&gt;Yes&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;PUT&lt;/td&gt;\n&lt;td&gt;Yes&lt;/td&gt;\n&lt;td&gt;Yes&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;DELETE&lt;/td&gt;\n&lt;td&gt;Yes&lt;/td&gt;\n&lt;td&gt;Yes&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;POST&lt;/td&gt;\n&lt;td&gt;No&lt;/td&gt;\n&lt;td&gt;Need idempotency key&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;PATCH&lt;/td&gt;\n&lt;td&gt;Yes&lt;/td&gt;\n&lt;td&gt;Yes&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;&lt;/div&gt;\n\n&lt;p&gt;Stripe, Shopify, and Square all support idempotency keys on POST requests. If your API handles money or creates resources, you &lt;strong&gt;need&lt;/strong&gt; this.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  The Full Picture\n&lt;/h2&gt;\n\n&lt;p&gt;These 7 mistakes cover the surface. A production API also needs:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Rate limiting with clear headers (X-RateLimit-Remaining)&lt;/li&gt;\n&lt;li&gt;Consistent filtering/sorting (?status=active&amp;amp;sort=-created_at)&lt;/li&gt;\n&lt;li&gt;Bulk operations for performance&lt;/li&gt;\n&lt;li&gt;Webhook design for async events&lt;/li&gt;\n&lt;li&gt;GraphQL schema patterns&lt;/li&gt;\n&lt;li&gt;Real-world examples from Stripe, GitHub, Twitch&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;I put all of this into a &lt;strong&gt;&lt;a href=\"https://maxxmini.gumroad.com/l/api-design-guide\" rel=\"noopener noreferrer\"&gt;complete API Design Guide with 40+ patterns and real-world examples&lt;/a&gt;&lt;/strong&gt; ($9).&lt;/p&gt;\n\n&lt;p&gt;7 patterns free above. The guide covers 40+ patterns across REST, GraphQL, auth, versioning, pagination, error handling, rate limiting, and production deployment.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  More Developer Resources\n&lt;/h2&gt;\n\n&lt;p&gt;If you found this useful:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;a href=\"https://maxxmini.gumroad.com/l/dsa-interview-cheatsheet\" rel=\"noopener noreferrer\"&gt;DSA Interview Cheat Sheet&lt;/a&gt; ‚Äî 50 patterns ($9)&lt;/li&gt;\n&lt;li&gt;\n&lt;a href=\"https://maxxmini.gumroad.com/l/system-design-cheatsheet\" rel=\"noopener noreferrer\"&gt;System Design Cheat Sheet&lt;/a&gt; ‚Äî 40 templates ($9)&lt;/li&gt;\n&lt;li&gt;\n&lt;a href=\"https://maxxmini.gumroad.com/l/frontend-interview-prep\" rel=\"noopener noreferrer\"&gt;Frontend Interview Prep Kit&lt;/a&gt; ‚Äî 40 problems ($9)&lt;/li&gt;\n&lt;li&gt;\n&lt;a href=\"https://maxxmini.gumroad.com/l/docker-kubernetes-cheatsheet\" rel=\"noopener noreferrer\"&gt;Docker and Kubernetes Cheat Sheet&lt;/a&gt; ‚Äî 70 commands ($7)&lt;/li&gt;\n&lt;li&gt;\n&lt;a href=\"https://maxxmini.gumroad.com/l/sql-query-cookbook\" rel=\"noopener noreferrer\"&gt;SQL Query Cookbook&lt;/a&gt; ‚Äî 40 recipes ($7)&lt;/li&gt;\n&lt;li&gt;\n&lt;a href=\"https://maxxmini.gumroad.com/l/python-oneliners\" rel=\"noopener noreferrer\"&gt;Python One-Liners&lt;/a&gt; ‚Äî 50 tricks ($7)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Also check out &lt;strong&gt;&lt;a href=\"https://maxmini0214.github.io/donflow/?demo\" rel=\"noopener noreferrer\"&gt;DonFlow&lt;/a&gt;&lt;/strong&gt; ‚Äî a free budget drift detector that shows where your money plan diverges from reality.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;&lt;em&gt;What is the worst API you have ever used? Drop a comment ‚Äî I want to hear the horror stories.&lt;/em&gt;&lt;/p&gt;",
    "date": "2026-02-23T15:16:47.000Z",
    "url": "https://dev.to/maxxmini/7-api-design-mistakes-that-make-your-users-hate-you-and-how-to-fix-them-3722"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "Ï†ÑÏ≤¥",
    "categories": [
      "_all_"
    ],
    "specUrl": "https://dev.to/feed",
    "title": "Warum die meisten Handwerker-Websites unsichtbar bleiben (und wie du es besser machst)",
    "partialText": "&lt;p&gt;Kennst du das? Du baust eine Website f√ºr einen lokalen Handwerksbetrieb, technisch ist alles perfekt ‚Äì aber die Anfragen bleiben aus. Der Elektriker rankt nicht f√ºr \"Elektriker [Stadt]\", der Schreiner taucht in der lokalen Suche nicht auf, und am Ende verliert dein Kunde Auftr√§ge an Betriebe mit schlechteren Websites, aber besserer lokaler Sichtbarkeit.&lt;/p&gt;\n\n&lt;p&gt;Ich arbeite als Webdesigner im Schwarzwald und sehe dieses Problem st√§ndig. Besonders in l√§ndlichen Regionen mit vielen kleinen Gemeinden liegt hier enormes Potenzial ‚Äì das die wenigsten nutzen. Heute zeige ich dir, was wirklich z√§hlt, wenn du eine Handwerker-Website baust, die nicht nur sch√∂n aussieht, sondern auch gefunden wird und Anfragen bringt.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Die unbequeme Wahrheit √ºber lokale Sichtbarkeit\n&lt;/h2&gt;\n\n&lt;p&gt;Hier ist die Sache: Wenn jemand einen Handwerker sucht, googelt er nicht \"Handwerker Deutschland\". Er tippt \"Schreiner [Ort]\" oder \"Elektriker [Stadt]\" ein. Diese lokalen Suchanfragen sind Gold wert ‚Äì sie kommen von Menschen mit konkretem Bedarf, die genau jetzt jemanden in ihrer N√§he suchen.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Das Problem?&lt;/strong&gt; Die meisten Handwerker-Websites sind f√ºr diese Suchen nicht optimiert. Sie haben zwar eine Website, aber Google wei√ü nicht:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Wo der Betrieb eigentlich t√§tig ist&lt;/li&gt;\n&lt;li&gt;Welche Orte er bedient&lt;/li&gt;\n&lt;li&gt;Was genau er anbietet&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Und hier kommt der Clou: Die Konkurrenz ist online oft schwach. W√§hrend in Gro√üst√§dten jeder Handwerker eine professionelle Website hat, sieht es in l√§ndlichen Regionen anders aus. Das ist dein Timing-Vorteil als Entwickler ‚Äì wer jetzt eine gut optimierte Website baut, kann sich eine starke Position sichern.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F73jb18mcbq7whuopoy80.webp\" class=\"article-body-image-wrapper\"&gt;&lt;img src=\"https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F73jb18mcbq7whuopoy80.webp\" alt=\"Ein Split-Screen-Bild, das links eine √ºberladene, komplizierte Website mit vielen Animationen zeigt und rechts eine klare, strukturierte Handwerker-Website mit gut sichtbarer Telefonnummer, Leistungs√ºbersicht und echten Projektfotos ‚Äì im Kontrast-Stil mit deutlicher Pr√§ferenz f√ºr die rechte Seite.\" width=\"800\" height=\"800\"&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Die 5 Killer-Fehler, die du vermeiden musst\n&lt;/h2&gt;\n\n&lt;p&gt;Nach meiner Erfahrung sind es meist dieselben Fehler, die Handwerker-Websites die Sichtbarkeit kosten. Die gute Nachricht: Sie sind alle behebbar.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Fehler 1: Das Einzugsgebiet fehlt komplett&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Die Website sieht schick aus, aber nirgendwo steht, wo der Betrieb t√§tig ist. Google kann nicht erraten, dass dein Kunde bestimmte Orte bedient ‚Äì du musst es explizit erw√§hnen. Das bedeutet nicht, jeden Ortsnamen zehnmal zu wiederholen, sondern nat√ºrlich und sinnvoll zu beschreiben: \"Wir sind dein Ansprechpartner f√ºr Elektroinstallationen in [Stadt] und Umgebung ‚Äì von [Ort A] √ºber [Ort B] bis [Ort C].\"&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Fehler 2: Kontaktdaten sind versteckt&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Die Telefonnummer steht nur ganz unten im Footer, in kleiner Schrift. Kein Click-to-Call-Button, kein WhatsApp-Link, kein prominent platziertes Kontaktformular. Dabei ist die Kontaktaufnahme das einzige Ziel, das eine Handwerker-Website haben sollte.&lt;/p&gt;\n\n&lt;p&gt;Menschen, die einen Handwerker suchen, wollen nicht st√∂bern ‚Äì sie wollen anrufen. Sofort. Wenn sie die Nummer nicht innerhalb von drei Sekunden finden, sind sie weg.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Fehler 3: Stockfotos statt echter Arbeit&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Die Website zeigt perfekt inszenierte Stockfotos von Models in Handwerker-Kluft. Das Problem: Niemand glaubt, dass das echte Projekte sind. Vertrauen entsteht durch Authentizit√§t ‚Äì durch echte Fotos der Arbeit, des Teams, der Region.&lt;/p&gt;\n\n&lt;p&gt;Wenn ein potenzieller Kunde Bilder von echten Projekten aus seiner Gegend sieht, denkt er: \"Der kennt sich hier aus, der wei√ü, wie es in unserer Region l√§uft.\" Das ist unbezahlbar.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Fehler 4: Google Business Profile ist eine Katastrophe&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Entweder gibt es gar kein Google Business Profile, oder es ist seit drei Jahren nicht aktualisiert worden. Falsche √ñffnungszeiten, keine Fotos, keine Bewertungen. Dabei ist das Profil oft der erste Kontaktpunkt ‚Äì und bei lokalen Suchen erscheint es noch vor den organischen Suchergebnissen.&lt;/p&gt;\n\n&lt;p&gt;Ein gepflegtes Profil mit aktuellen Fotos, √ñffnungszeiten, Leistungen und Bewertungen ist Pflicht. Nicht optional, Pflicht.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Fehler 5: Mobile ist die Website eine Qual&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Die Website sieht am Desktop toll aus, aber auf dem Smartphone ist sie kaum bedienbar. Das ist fatal, denn √ºber 70% der lokalen Suchen passieren mobil ‚Äì jemand steht vor einem Problem und googelt sofort nach einer L√∂sung.&lt;/p&gt;\n\n&lt;p&gt;Wenn deine Website auf dem Smartphone langsam l√§dt oder schlecht bedienbar ist, springt der Nutzer ab. Google merkt das und rankt die Website schlechter. Ein Teufelskreis.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Was Kunden wirklich wollen (Spoiler: keine fancy Animationen)\n&lt;/h2&gt;\n\n&lt;p&gt;Vergiss alles √ºber aufwendige Slideshows und komplexe Animationen. Kunden, die einen Handwerker suchen, haben ein konkretes Problem und wollen drei Dinge wissen:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;\n&lt;strong&gt;Kannst du mir helfen?&lt;/strong&gt; (Was bietest du an?)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Bist du vertrauensw√ºrdig?&lt;/strong&gt; (Beweise durch echte Projekte und Bewertungen)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Wie erreiche ich dich?&lt;/strong&gt; (Telefon, WhatsApp, Formular)&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Die beste Handwerker-Website ist nicht die kreativste, sondern die klarste. Innerhalb von f√ºnf Sekunden sollte jeder Besucher diese drei Fragen beantwortet haben. Das war's. Alles andere ist Bonus.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Der technische Blueprint: So setzt du es um\n&lt;/h2&gt;\n\n&lt;p&gt;Jetzt wird es konkret. Hier ist der Blueprint, den du direkt umsetzen kannst:&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Die richtige Seitenstruktur\n&lt;/h3&gt;\n\n&lt;p&gt;Eine Handwerker-Website braucht nicht viele Seiten ‚Äì aber die richtigen. Das Minimum:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;Startseite&lt;/strong&gt; (Was, Wo, Wie erreichen)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Leistungen&lt;/strong&gt; (detailliert, mit konkreten Beispielen)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Referenzen&lt;/strong&gt; (echte Projekte mit Fotos)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;√úber uns&lt;/strong&gt; (Team, Qualifikationen, Firmengeschichte)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Kontakt&lt;/strong&gt; (Formular, Anfahrt, alle Kontaktm√∂glichkeiten)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Optional, aber sinnvoll: FAQ-Seite, Team-Seite, Blog f√ºr zus√§tzliche Sichtbarkeit.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Orte nat√ºrlich integrieren ‚Äì ohne zu spammen\n&lt;/h3&gt;\n\n&lt;p&gt;Keyword-Stuffing ist out und schadet mehr als es hilft. Die Kunst ist, Orte nat√ºrlich zu integrieren:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Im Flie√ütext: \"Unser Einzugsgebiet umfasst [Stadt], [Ort A], [Ort B] und umliegende Gemeinden.\"&lt;/li&gt;\n&lt;li&gt;In Referenzen: \"Dachsanierung Einfamilienhaus in [Ort], 2023\"&lt;/li&gt;\n&lt;li&gt;In der Anfahrtsbeschreibung: \"Von [Ort] aus erreichen Sie uns in 15 Minuten...\"&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Wenn du mehrere Orte intensiv bedienst, k√∂nnen auch Ortsseiten Sinn machen: Separate Unterseiten f√ºr \"[Leistung] [Ort A]\", \"[Leistung] [Ort B]\" etc. mit jeweils ortsspezifischen Inhalten. Das funktioniert aber nur, wenn du wirklich individuelle, wertvolle Inhalte pro Seite erstellst ‚Äì nicht einfach denselben Text mit ausgetauschtem Ortsnamen.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Mobile First ist kein Buzzword\n&lt;/h3&gt;\n\n&lt;p&gt;Google bewertet Websites mittlerweile prim√§r nach ihrer mobilen Version. Mobile First bedeutet:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;Schnelle Ladezeit&lt;/strong&gt; (unter 3 Sekunden)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Gro√üe, gut klickbare Buttons&lt;/strong&gt; (besonders der Anruf-Button)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Lesbare Schriftgr√∂√üen&lt;/strong&gt; ohne Zoomen&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Einfache Navigation&lt;/strong&gt; ohne komplizierte Men√ºs&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Formulare&lt;/strong&gt;, die auf dem Smartphone gut ausf√ºllbar sind&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Eine Website, die mobil langsam oder schlecht bedienbar ist, wird auch im Desktop-Ranking abgestraft.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Google Business Profile optimieren\n&lt;/h3&gt;\n\n&lt;p&gt;Ein gepflegtes Google Business Profile ist f√ºr lokale Sichtbarkeit mindestens so wichtig wie die Website selbst. Bei Suchen wie \"Schreiner [Ort]\" erscheint die Map-Box mit drei Eintr√§gen noch vor den organischen Suchergebnissen.&lt;/p&gt;\n\n&lt;p&gt;So optimierst du das Profil:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Alle Informationen vollst√§ndig ausf√ºllen&lt;/li&gt;\n&lt;li&gt;Regelm√§√üig Fotos hochladen (Projekte, Team, Betrieb)&lt;/li&gt;\n&lt;li&gt;Bewertungen aktiv sammeln (und auf alle antworten)&lt;/li&gt;\n&lt;li&gt;Beitr√§ge posten (Neuigkeiten, Angebote, Projekte)&lt;/li&gt;\n&lt;li&gt;Kategorie pr√§zise w√§hlen (nicht nur \"Handwerker\", sondern spezifisch)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Ein aktives, gepflegtes Profil signalisiert Google: Dieser Betrieb ist relevant, aktiv und vertrauensw√ºrdig.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Messbarkeit einbauen\n&lt;/h3&gt;\n\n&lt;p&gt;Woher kommen die Anfragen? Wie viele Besucher rufen an? Welche Seiten werden am meisten angeschaut? Ohne diese Daten optimierst du im Blindflug.&lt;/p&gt;\n\n&lt;p&gt;Richte mindestens ein:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;Google Analytics&lt;/strong&gt; (Traffic und Nutzerverhalten)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Conversion-Tracking&lt;/strong&gt; (Anrufe, Formular-Absendungen, WhatsApp-Klicks)&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Google Search Console&lt;/strong&gt; (f√ºr welche Suchbegriffe wird die Seite gefunden)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Diese Tools zeigen dir, was funktioniert und was nicht. Vielleicht stellst du fest, dass die meisten Anfragen √ºber WhatsApp kommen ‚Äì dann solltest du den WhatsApp-Button noch prominenter platzieren.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  Fazit: Einfachheit schl√§gt Komplexit√§t\n&lt;/h2&gt;\n\n&lt;p&gt;Lokale Sichtbarkeit ist kein Hexenwerk ‚Äì aber sie passiert nicht von selbst. Eine sch√∂ne Website allein reicht nicht. Es braucht klare Struktur, echte Inhalte, lokale Signale und ein gepflegtes Google Business Profile.&lt;/p&gt;\n\n&lt;p&gt;Die gute Nachricht: Die meisten Handwerker-Websites machen die beschriebenen Fehler. Wer sie vermeidet und die Basics richtig umsetzt, hat einen massiven Vorteil. Und als Entwickler kannst du genau hier den Unterschied machen ‚Äì nicht mit der fancy Animation, sondern mit der Website, die tats√§chlich Anfragen bringt.&lt;/p&gt;\n\n&lt;p&gt;Was sind deine Erfahrungen mit lokalen Business-Websites? Hast du √§hnliche Probleme beobachtet oder andere L√∂sungsans√§tze? Ich bin gespannt auf eure Meinungen in den Kommentaren!&lt;/p&gt;",
    "date": "2026-02-23T15:13:24.000Z",
    "url": "https://dev.to/ivo_sa/warum-die-meisten-handwerker-websites-unsichtbar-bleiben-und-wie-du-es-besser-machst-2fph"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "Ï†ÑÏ≤¥",
    "categories": [
      "_all_"
    ],
    "specUrl": "https://dev.to/feed",
    "title": "Hello Dev Community! A Passionate Developer Joining the Journey",
    "partialText": "&lt;p&gt;üöÄ Hey Dev Community! I'm Sudhanshu ‚Äî a Developer in Progress üë®‚Äçüíª&lt;/p&gt;\n\n&lt;p&gt;Every great developer starts with curiosity‚Ä¶ mine started with &lt;strong&gt;‚ÄúHow do websites actually work?‚Äù&lt;/strong&gt;&lt;br&gt;\nToday, I‚Äôm actively building projects, improving problem-solving skills, and sharing my learning journey step by step.&lt;/p&gt;\n\n&lt;p&gt;üí° What I‚Äôm currently focused on:&lt;br&gt;\n‚ú® Web Development&lt;br&gt;\n‚ú® Data Structures &amp;amp; Algorithms&lt;br&gt;\n‚ú® Real-world Projects&lt;br&gt;\n‚ú® Consistent Learning &amp;amp; Growth&lt;/p&gt;\n\n&lt;p&gt;üåê Check out my Portfolio&lt;br&gt;\nüëâ &lt;a href=\"https://enoughsudhanshu.github.io\" rel=\"noopener noreferrer\"&gt;https://enoughsudhanshu.github.io&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;üêô Explore my GitHub Journey&lt;br&gt;\nüëâ &lt;a href=\"https://github.com/enoughsudhanshu\" rel=\"noopener noreferrer\"&gt;https://github.com/enoughsudhanshu&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;I believe in &lt;strong&gt;learning by building&lt;/strong&gt;, breaking things, fixing them, and growing every single day.&lt;/p&gt;\n\n&lt;p&gt;üî• Goals for 2026:&lt;br&gt;\n‚úÖ Build impactful projects&lt;br&gt;\n‚úÖ Contribute to Open Source&lt;br&gt;\n‚úÖ Connect with amazing developers&lt;br&gt;\n‚úÖ Become industry-ready&lt;/p&gt;\n\n&lt;p&gt;If you‚Äôre also learning, building, or struggling ‚Äî we‚Äôre on the same path ü§ù&lt;/p&gt;\n\n&lt;p&gt;Let‚Äôs grow together üöÄ&lt;/p&gt;\n\n&lt;h1&gt;\n  \n  \n  DevCommunity #BeginnerDeveloper #WebDevJourney #OpenSource #CodingLife #StudentDeveloper #BuildInPublic\n&lt;/h1&gt;",
    "date": "2026-02-23T15:11:52.000Z",
    "url": "https://dev.to/enoughsudhanshu/hello-dev-community-a-passionate-developer-joining-the-journey-225d"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "Ï†ÑÏ≤¥",
    "categories": [
      "_all_"
    ],
    "specUrl": "https://dev.to/feed",
    "title": "Model Context Protocol in .NET: Building and Consuming Universal AI Tools",
    "partialText": "&lt;h2&gt;\n  \n  \n  Introduction\n&lt;/h2&gt;\n\n&lt;p&gt;In &lt;a href=\"https://dev.to/bspann/microsoft-agent-framework-the-future-of-net-ai-agents-has-arrived-1dn6\"&gt;Part 1&lt;/a&gt; and &lt;a href=\"https://dev.to/bspann/agent-framework-workflows-beyond-chat-orchestrating-complex-ai-tasks-2p8d\"&gt;Part 2&lt;/a&gt; of this series, we explored Microsoft Agent Framework's core concepts and workflow orchestration. Now we tackle a crucial question: &lt;strong&gt;how do your agents interact with the outside world?&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Traditionally, each AI framework had its own way of defining tools. Semantic Kernel used &lt;code&gt;KernelFunction&lt;/code&gt;, LangChain used &lt;code&gt;@tool&lt;/code&gt; decorators, and so on. This created silos‚Äîtools built for one framework couldn't be used in another.&lt;/p&gt;\n\n&lt;p&gt;Enter the &lt;strong&gt;Model Context Protocol (MCP)&lt;/strong&gt;‚Äîan open standard that makes AI tools universal. Build a tool once, use it everywhere.&lt;/p&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  What is MCP?\n&lt;/h2&gt;\n\n&lt;p&gt;Model Context Protocol is an open specification (developed by Anthropic and adopted across the industry) that standardizes how AI applications access tools and context. Think of it as &lt;strong&gt;HTTP for AI tools&lt;/strong&gt;‚Äîa common language that any AI client can speak.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  The Core Ideas\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;1. Servers expose capabilities:&lt;/strong&gt;&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;MCP Server: \"I can do these things\"\n‚îú‚îÄ‚îÄ Tools: Functions agents can call\n‚îú‚îÄ‚îÄ Resources: Data agents can read\n‚îî‚îÄ‚îÄ Prompts: Templates for common tasks\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;2. Clients consume them:&lt;/strong&gt;&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;AI Agent (MCP Client) ‚Üí MCP Server ‚Üí External System\n                          ‚Üì\n                    GitHub, Slack, \n                    Database, API...\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;3. Transport is flexible:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;stdio&lt;/strong&gt;: Local process communication&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;HTTP/SSE&lt;/strong&gt;: Network-based, web-friendly&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;WebSocket&lt;/strong&gt;: Real-time bidirectional&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;\n  \n  \n  Why MCP Matters for .NET\n&lt;/h3&gt;\n\n&lt;p&gt;Before MCP:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// Tool only works in Semantic Kernel&lt;/span&gt;\n&lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"n\"&gt;KernelFunction&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt;\n&lt;span class=\"k\"&gt;public&lt;/span&gt; &lt;span class=\"kt\"&gt;string&lt;/span&gt; &lt;span class=\"nf\"&gt;SearchProducts&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"kt\"&gt;string&lt;/span&gt; &lt;span class=\"n\"&gt;query&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"p\"&gt;...&lt;/span&gt; &lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Different tool for LangChain (Python)&lt;/span&gt;\n&lt;span class=\"n\"&gt;@tool&lt;/span&gt;\n&lt;span class=\"n\"&gt;def&lt;/span&gt; &lt;span class=\"nf\"&gt;search_products&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;query&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"n\"&gt;str&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;-&amp;gt;&lt;/span&gt; &lt;span class=\"n\"&gt;str&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"p\"&gt;...&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Yet another for AutoGen&lt;/span&gt;\n&lt;span class=\"n\"&gt;def&lt;/span&gt; &lt;span class=\"nf\"&gt;search_products&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;query&lt;/span&gt;&lt;span class=\"p\"&gt;):&lt;/span&gt; &lt;span class=\"p\"&gt;...&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;With MCP:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// Build once as MCP server&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// Use from ANY MCP-compatible client:&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// - Agent Framework&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// - Claude Desktop&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// - VS Code Copilot&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// - Python agents&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// - Any future client&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  The Official C# SDK\n&lt;/h2&gt;\n\n&lt;p&gt;Microsoft and Anthropic jointly maintain the official MCP C# SDK. It's production-ready, well-documented, and integrates seamlessly with Agent Framework.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight shell\"&gt;&lt;code&gt;&lt;span class=\"c\"&gt;# Client for consuming MCP servers&lt;/span&gt;\ndotnet add package ModelContextProtocol\n\n&lt;span class=\"c\"&gt;# Server for building MCP servers&lt;/span&gt;\ndotnet add package ModelContextProtocol.Server\n\n&lt;span class=\"c\"&gt;# ASP.NET Core integration&lt;/span&gt;\ndotnet add package ModelContextProtocol.AspNetCore\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Consuming MCP Servers\n&lt;/h2&gt;\n\n&lt;p&gt;Let's start by consuming existing MCP servers. There's a growing ecosystem of pre-built servers for common services.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Connecting to an MCP Server\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;using&lt;/span&gt; &lt;span class=\"nn\"&gt;ModelContextProtocol&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;using&lt;/span&gt; &lt;span class=\"nn\"&gt;ModelContextProtocol.Client&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Connect to a local MCP server via stdio&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;transport&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;StdioClientTransport&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"n\"&gt;command&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"npx\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt;&lt;span class=\"p\"&gt;[]&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"s\"&gt;\"-y\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"@modelcontextprotocol/server-github\"&lt;/span&gt; &lt;span class=\"p\"&gt;},&lt;/span&gt;\n    &lt;span class=\"n\"&gt;environmentVariables&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;Dictionary&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"GITHUB_PERSONAL_ACCESS_TOKEN\"&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;config&lt;/span&gt;&lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"GitHub:PAT\"&lt;/span&gt;&lt;span class=\"p\"&gt;]!&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;client&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;McpClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CreateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;transport&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Discover available tools&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;tools&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;client&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;ListToolsAsync&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n&lt;span class=\"k\"&gt;foreach&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;tool&lt;/span&gt; &lt;span class=\"k\"&gt;in&lt;/span&gt; &lt;span class=\"n\"&gt;tools&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n&lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"n\"&gt;Console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;WriteLine&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;$\"Tool: &lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"n\"&gt;tool&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Name&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"n\"&gt;Console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;WriteLine&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;$\"  Description: &lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"n\"&gt;tool&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Description&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"n\"&gt;Console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;WriteLine&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;$\"  Schema: &lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"n\"&gt;tool&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;InputSchema&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Output:&lt;/strong&gt;&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight plaintext\"&gt;&lt;code&gt;Tool: create_issue\n  Description: Create a new issue in a GitHub repository\n  Schema: {\"type\":\"object\",\"properties\":{\"repo\":{\"type\":\"string\"},...}}\n\nTool: search_repositories\n  Description: Search GitHub repositories\n  Schema: {\"type\":\"object\",\"properties\":{\"query\":{\"type\":\"string\"},...}}\n\nTool: get_file_contents\n  Description: Get contents of a file from a repository\n  Schema: {\"type\":\"object\",\"properties\":{\"repo\":{\"type\":\"string\"},\"path\":{\"type\":\"string\"},...}}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  Calling MCP Tools\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// Call a tool&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;result&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;client&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CallToolAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"search_repositories\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;Dictionary&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"kt\"&gt;object&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"query\"&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"s\"&gt;\"semantic-kernel language:csharp stars:&amp;gt;100\"&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Result is MCP content&lt;/span&gt;\n&lt;span class=\"k\"&gt;foreach&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;content&lt;/span&gt; &lt;span class=\"k\"&gt;in&lt;/span&gt; &lt;span class=\"n\"&gt;result&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Content&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n&lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"k\"&gt;if&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;content&lt;/span&gt; &lt;span class=\"k\"&gt;is&lt;/span&gt; &lt;span class=\"n\"&gt;TextContent&lt;/span&gt; &lt;span class=\"n\"&gt;text&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"n\"&gt;Console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;WriteLine&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;text&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Text&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  Integrating MCP with Agent Framework\n&lt;/h3&gt;\n\n&lt;p&gt;Here's where it gets powerful‚ÄîMCP tools become first-class agent tools:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;using&lt;/span&gt; &lt;span class=\"nn\"&gt;Microsoft.Agents.AI&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;using&lt;/span&gt; &lt;span class=\"nn\"&gt;ModelContextProtocol&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Create the MCP client&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;mcpClient&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;McpClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CreateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;StdioClientTransport&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"npx\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt;&lt;span class=\"p\"&gt;[]&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"s\"&gt;\"-y\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"@modelcontextprotocol/server-github\"&lt;/span&gt; &lt;span class=\"p\"&gt;},&lt;/span&gt;\n        &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;Dictionary&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"GITHUB_PERSONAL_ACCESS_TOKEN\"&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;token&lt;/span&gt; &lt;span class=\"p\"&gt;}));&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Create an agent&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;agent&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;ChatClientAgent&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;chatClient&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;ChatClientAgentOptions&lt;/span&gt;\n&lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"n\"&gt;Name&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"s\"&gt;\"GitHubAssistant\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;Instructions&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"s\"&gt;\"\"\"\n&lt;/span&gt;        &lt;span class=\"n\"&gt;You&lt;/span&gt; &lt;span class=\"n\"&gt;are&lt;/span&gt; &lt;span class=\"n\"&gt;a&lt;/span&gt; &lt;span class=\"n\"&gt;GitHub&lt;/span&gt; &lt;span class=\"n\"&gt;assistant&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt; &lt;span class=\"n\"&gt;You&lt;/span&gt; &lt;span class=\"n\"&gt;can&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;\n        &lt;span class=\"p\"&gt;-&lt;/span&gt; &lt;span class=\"n\"&gt;Search&lt;/span&gt; &lt;span class=\"n\"&gt;repositories&lt;/span&gt;\n        &lt;span class=\"p\"&gt;-&lt;/span&gt; &lt;span class=\"n\"&gt;Create&lt;/span&gt; &lt;span class=\"k\"&gt;and&lt;/span&gt; &lt;span class=\"n\"&gt;manage&lt;/span&gt; &lt;span class=\"n\"&gt;issues&lt;/span&gt;\n        &lt;span class=\"p\"&gt;-&lt;/span&gt; &lt;span class=\"n\"&gt;Read&lt;/span&gt; &lt;span class=\"n\"&gt;file&lt;/span&gt; &lt;span class=\"n\"&gt;contents&lt;/span&gt;\n        &lt;span class=\"p\"&gt;-&lt;/span&gt; &lt;span class=\"n\"&gt;Analyze&lt;/span&gt; &lt;span class=\"n\"&gt;code&lt;/span&gt;\n\n        &lt;span class=\"n\"&gt;Use&lt;/span&gt; &lt;span class=\"n\"&gt;the&lt;/span&gt; &lt;span class=\"n\"&gt;available&lt;/span&gt; &lt;span class=\"n\"&gt;GitHub&lt;/span&gt; &lt;span class=\"n\"&gt;tools&lt;/span&gt; &lt;span class=\"n\"&gt;to&lt;/span&gt; &lt;span class=\"n\"&gt;help&lt;/span&gt; &lt;span class=\"n\"&gt;users&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;\n        &lt;span class=\"s\"&gt;\"\"\"\n&lt;/span&gt;&lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Add all MCP tools to the agent&lt;/span&gt;\n&lt;span class=\"n\"&gt;agent&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddMcpTools&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;mcpClient&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Now the agent can use GitHub!&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;response&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;agent&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;InvokeAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"s\"&gt;\"Find the most popular C# AI frameworks and summarize their features\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n&lt;span class=\"n\"&gt;Console&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;WriteLine&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;response&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Content&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;The agent now has full GitHub access through MCP, with proper schema validation and error handling.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Connecting to HTTP-based MCP Servers\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// HTTP/SSE transport for remote servers&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;transport&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;HttpClientTransport&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;Uri&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"https://mcp.example.com/github\"&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"n\"&gt;httpClient&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;HttpClient&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"n\"&gt;DefaultRequestHeaders&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt;\n        &lt;span class=\"p\"&gt;{&lt;/span&gt;\n            &lt;span class=\"n\"&gt;Authorization&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;AuthenticationHeaderValue&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Bearer\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;apiKey&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n        &lt;span class=\"p\"&gt;}&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;client&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;McpClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CreateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;transport&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Building an MCP Server\n&lt;/h2&gt;\n\n&lt;p&gt;Now let's build our own MCP server to expose internal capabilities.&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  A Simple Product Inventory Server\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;using&lt;/span&gt; &lt;span class=\"nn\"&gt;ModelContextProtocol.Server&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n&lt;span class=\"k\"&gt;using&lt;/span&gt; &lt;span class=\"nn\"&gt;System.Text.Json&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Define the server&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;builder&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;McpServerBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Create&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"inventory-server\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;version&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"1.0.0\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Add a tool: Get Product&lt;/span&gt;\n&lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddTool&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"get_product\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;description&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"Get detailed product information by SKU\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;inputSchema&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Object&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Properties&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n            &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"sku\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;String&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Description&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Product SKU code\"&lt;/span&gt;&lt;span class=\"p\"&gt;)),&lt;/span&gt;\n            &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"include_inventory\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Boolean&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Description&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Include current inventory levels\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Default&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"k\"&gt;false&lt;/span&gt;&lt;span class=\"p\"&gt;)))&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Required&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"sku\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Build&lt;/span&gt;&lt;span class=\"p\"&gt;(),&lt;/span&gt;\n    &lt;span class=\"n\"&gt;handler&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;sku&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"sku\"&lt;/span&gt;&lt;span class=\"p\"&gt;]!.&lt;/span&gt;&lt;span class=\"n\"&gt;GetValue&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;();&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;includeInventory&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;TryGetValue&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"include_inventory\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;out&lt;/span&gt; &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;inv&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; \n            &lt;span class=\"p\"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=\"n\"&gt;inv&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;GetValue&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;bool&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;();&lt;/span&gt;\n\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;product&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;productService&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;GetBySkuAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;sku&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n        &lt;span class=\"k\"&gt;if&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;product&lt;/span&gt; &lt;span class=\"p\"&gt;==&lt;/span&gt; &lt;span class=\"k\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n        &lt;span class=\"p\"&gt;{&lt;/span&gt;\n            &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;isError&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;true&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; \n                &lt;span class=\"n\"&gt;content&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt;&lt;span class=\"p\"&gt;[]&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;TextContent&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;$\"Product &lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"n\"&gt;sku&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s\"&gt; not found\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;});&lt;/span&gt;\n        &lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;response&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt;\n        &lt;span class=\"p\"&gt;{&lt;/span&gt;\n            &lt;span class=\"n\"&gt;product&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Sku&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;product&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Name&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;product&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Description&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;product&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Price&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;product&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Category&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;Inventory&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;includeInventory&lt;/span&gt; &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;inventoryService&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;GetLevelsAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;sku&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;null&lt;/span&gt;\n        &lt;span class=\"p\"&gt;};&lt;/span&gt;\n\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n            &lt;span class=\"n\"&gt;content&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt;&lt;span class=\"p\"&gt;[]&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;TextContent&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;JsonSerializer&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Serialize&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;response&lt;/span&gt;&lt;span class=\"p\"&gt;))&lt;/span&gt; &lt;span class=\"p\"&gt;});&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Add a tool: Search Products&lt;/span&gt;\n&lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddTool&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"search_products\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;description&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"Search products by name, category, or other criteria\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;inputSchema&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Object&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Properties&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n            &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"query\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;String&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Description&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Search query\"&lt;/span&gt;&lt;span class=\"p\"&gt;)),&lt;/span&gt;\n            &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"category\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;String&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Description&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Filter by category\"&lt;/span&gt;&lt;span class=\"p\"&gt;)),&lt;/span&gt;\n            &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"min_price\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Number&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Description&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Minimum price filter\"&lt;/span&gt;&lt;span class=\"p\"&gt;)),&lt;/span&gt;\n            &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"max_price\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Number&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Description&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Maximum price filter\"&lt;/span&gt;&lt;span class=\"p\"&gt;)),&lt;/span&gt;\n            &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"limit\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Integer&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Description&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Maximum results to return\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Default&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"m\"&gt;10&lt;/span&gt;&lt;span class=\"p\"&gt;)))&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Build&lt;/span&gt;&lt;span class=\"p\"&gt;(),&lt;/span&gt;\n    &lt;span class=\"n\"&gt;handler&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;searchCriteria&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;ProductSearchCriteria&lt;/span&gt;\n        &lt;span class=\"p\"&gt;{&lt;/span&gt;\n            &lt;span class=\"n\"&gt;Query&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;TryGetValue&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"query\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;out&lt;/span&gt; &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;q&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"n\"&gt;q&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;GetValue&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;Category&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;TryGetValue&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"category\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;out&lt;/span&gt; &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;c&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"n\"&gt;c&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;GetValue&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;MinPrice&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;TryGetValue&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"min_price\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;out&lt;/span&gt; &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;minP&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"n\"&gt;minP&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;GetValue&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;decimal&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;MaxPrice&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;TryGetValue&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"max_price\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;out&lt;/span&gt; &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;maxP&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"n\"&gt;maxP&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;GetValue&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;decimal&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;Limit&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;TryGetValue&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"limit\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;out&lt;/span&gt; &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;l&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"n\"&gt;l&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;GetValue&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;int&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"m\"&gt;10&lt;/span&gt;\n        &lt;span class=\"p\"&gt;};&lt;/span&gt;\n\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;results&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;productService&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;SearchAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;searchCriteria&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n            &lt;span class=\"n\"&gt;content&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt;&lt;span class=\"p\"&gt;[]&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;TextContent&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;JsonSerializer&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Serialize&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;results&lt;/span&gt;&lt;span class=\"p\"&gt;))&lt;/span&gt; &lt;span class=\"p\"&gt;});&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Add a tool: Update Inventory&lt;/span&gt;\n&lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddTool&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"update_inventory\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;description&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"Update inventory levels for a product\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;inputSchema&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Object&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Properties&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n            &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"sku\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;().&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;String&lt;/span&gt;&lt;span class=\"p\"&gt;)),&lt;/span&gt;\n            &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"quantity_change\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Integer&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Description&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Positive to add, negative to remove\"&lt;/span&gt;&lt;span class=\"p\"&gt;)),&lt;/span&gt;\n            &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"reason\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;String&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Enum&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"sale\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"return\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"restock\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"adjustment\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"damage\"&lt;/span&gt;&lt;span class=\"p\"&gt;)))&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Required&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"sku\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"quantity_change\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"reason\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Build&lt;/span&gt;&lt;span class=\"p\"&gt;(),&lt;/span&gt;\n    &lt;span class=\"n\"&gt;handler&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;sku&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"sku\"&lt;/span&gt;&lt;span class=\"p\"&gt;]!.&lt;/span&gt;&lt;span class=\"n\"&gt;GetValue&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;();&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;change&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"quantity_change\"&lt;/span&gt;&lt;span class=\"p\"&gt;]!.&lt;/span&gt;&lt;span class=\"n\"&gt;GetValue&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;int&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;();&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;reason&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"reason\"&lt;/span&gt;&lt;span class=\"p\"&gt;]!.&lt;/span&gt;&lt;span class=\"n\"&gt;GetValue&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;();&lt;/span&gt;\n\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;result&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;inventoryService&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;UpdateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;sku&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;change&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;reason&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n            &lt;span class=\"n\"&gt;content&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt;&lt;span class=\"p\"&gt;[]&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;TextContent&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;$\"Inventory updated. New level: &lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"n\"&gt;result&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;NewQuantity&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;});&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Build and run&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;server&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Build&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n&lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;server&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;RunStdioAsync&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  Running Your MCP Server\n&lt;/h3&gt;\n\n&lt;p&gt;&lt;strong&gt;Compile and run as a standalone process:&lt;/strong&gt;&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight shell\"&gt;&lt;code&gt;dotnet build &lt;span class=\"nt\"&gt;-c&lt;/span&gt; Release\n./bin/Release/net8.0/InventoryServer\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Test with the MCP Inspector:&lt;/strong&gt;&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight shell\"&gt;&lt;code&gt;npx @modelcontextprotocol/inspector ./bin/Release/net8.0/InventoryServer\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  MCP Resources: Exposing Data\n&lt;/h2&gt;\n\n&lt;p&gt;Beyond tools, MCP supports &lt;strong&gt;resources&lt;/strong&gt;‚Äîread-only data that agents can access.&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddResource&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"n\"&gt;uri&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"inventory://products\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"Product Catalog\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;description&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"Complete list of products in the catalog\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;mimeType&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"application/json\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;handler&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;products&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;productService&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;GetAllAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;ResourceContent&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n            &lt;span class=\"n\"&gt;uri&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"inventory://products\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;mimeType&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"application/json\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;text&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"n\"&gt;JsonSerializer&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Serialize&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;products&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddResource&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"n\"&gt;uri&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"inventory://categories\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"Product Categories\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;description&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"Available product categories\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;mimeType&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"application/json\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;handler&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;categories&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;categoryService&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;GetAllAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;ResourceContent&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n            &lt;span class=\"n\"&gt;uri&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"inventory://categories\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;mimeType&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"application/json\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;text&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"n\"&gt;JsonSerializer&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Serialize&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;categories&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Dynamic resources with templates&lt;/span&gt;\n&lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddResourceTemplate&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"n\"&gt;uriTemplate&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"inventory://products/{sku}\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"Product Details\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;description&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"Detailed information for a specific product\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;mimeType&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"application/json\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;handler&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;uri&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"c1\"&gt;// Extract SKU from URI&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;sku&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;uri&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Segments&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Last&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;product&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;productService&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;GetBySkuAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;sku&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n        &lt;span class=\"k\"&gt;if&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;product&lt;/span&gt; &lt;span class=\"p\"&gt;==&lt;/span&gt; &lt;span class=\"k\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n            &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt; &lt;span class=\"c1\"&gt;// Resource not found&lt;/span&gt;\n\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;ResourceContent&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n            &lt;span class=\"n\"&gt;uri&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"n\"&gt;uri&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;ToString&lt;/span&gt;&lt;span class=\"p\"&gt;(),&lt;/span&gt;\n            &lt;span class=\"n\"&gt;mimeType&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"application/json\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;text&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"n\"&gt;JsonSerializer&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Serialize&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;product&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  Reading Resources from Client\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// List available resources&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;resources&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;client&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;ListResourcesAsync&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Read a specific resource&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;productCatalog&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;client&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;ReadResourceAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"inventory://products\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;catalogData&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;JsonSerializer&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Deserialize&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;List&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;Product&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&amp;gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;productCatalog&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Text&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Read a templated resource&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;productDetails&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;client&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;ReadResourceAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"inventory://products/SKU-12345\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  MCP Prompts: Reusable Templates\n&lt;/h2&gt;\n\n&lt;p&gt;Prompts are pre-defined templates that standardize common interactions:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddPrompt&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"analyze_inventory\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;description&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"Analyze inventory levels and suggest restocking\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt;&lt;span class=\"p\"&gt;[]&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;PromptArgument&lt;/span&gt;\n        &lt;span class=\"p\"&gt;{&lt;/span&gt;\n            &lt;span class=\"n\"&gt;Name&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"s\"&gt;\"category\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;Description&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"s\"&gt;\"Product category to analyze\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;Required&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;false&lt;/span&gt;\n        &lt;span class=\"p\"&gt;},&lt;/span&gt;\n        &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;PromptArgument&lt;/span&gt;\n        &lt;span class=\"p\"&gt;{&lt;/span&gt;\n            &lt;span class=\"n\"&gt;Name&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"s\"&gt;\"threshold\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;Description&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"s\"&gt;\"Low inventory threshold\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n            &lt;span class=\"n\"&gt;Required&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;false&lt;/span&gt;\n        &lt;span class=\"p\"&gt;}&lt;/span&gt;\n    &lt;span class=\"p\"&gt;},&lt;/span&gt;\n    &lt;span class=\"n\"&gt;handler&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;category&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;TryGetValue&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"category\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;out&lt;/span&gt; &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;c&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"n\"&gt;c&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;threshold&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;TryGetValue&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"threshold\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;out&lt;/span&gt; &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;t&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;?&lt;/span&gt; &lt;span class=\"kt\"&gt;int&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Parse&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;t&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"m\"&gt;10&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;lowStock&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;inventoryService&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;GetLowStockAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;category&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;threshold&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;GetPromptResult&lt;/span&gt;\n        &lt;span class=\"p\"&gt;{&lt;/span&gt;\n            &lt;span class=\"n\"&gt;Messages&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt;&lt;span class=\"p\"&gt;[]&lt;/span&gt;\n            &lt;span class=\"p\"&gt;{&lt;/span&gt;\n                &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;PromptMessage&lt;/span&gt;\n                &lt;span class=\"p\"&gt;{&lt;/span&gt;\n                    &lt;span class=\"n\"&gt;Role&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;Role&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;User&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n                    &lt;span class=\"n\"&gt;Content&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;TextContent&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;$\"\"\"\n&lt;/span&gt;                        &lt;span class=\"n\"&gt;Analyze&lt;/span&gt; &lt;span class=\"n\"&gt;these&lt;/span&gt; &lt;span class=\"n\"&gt;low&lt;/span&gt;&lt;span class=\"p\"&gt;-&lt;/span&gt;&lt;span class=\"n\"&gt;stock&lt;/span&gt; &lt;span class=\"n\"&gt;items&lt;/span&gt; &lt;span class=\"k\"&gt;and&lt;/span&gt; &lt;span class=\"n\"&gt;recommend&lt;/span&gt; &lt;span class=\"n\"&gt;restocking&lt;/span&gt; &lt;span class=\"n\"&gt;priorities&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;\n\n                        &lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"n\"&gt;JsonSerializer&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Serialize&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;lowStock&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;JsonSerializerOptions&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"n\"&gt;WriteIndented&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;true&lt;/span&gt; &lt;span class=\"p\"&gt;})}&lt;/span&gt;\n\n                        &lt;span class=\"n\"&gt;Consider&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt;\n                        &lt;span class=\"m\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt; &lt;span class=\"n\"&gt;Sales&lt;/span&gt; &lt;span class=\"nf\"&gt;velocity&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;items&lt;/span&gt; &lt;span class=\"n\"&gt;selling&lt;/span&gt; &lt;span class=\"n\"&gt;faster&lt;/span&gt; &lt;span class=\"n\"&gt;need&lt;/span&gt; &lt;span class=\"n\"&gt;more&lt;/span&gt; &lt;span class=\"n\"&gt;stock&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                        &lt;span class=\"m\"&gt;2&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt; &lt;span class=\"n\"&gt;Lead&lt;/span&gt; &lt;span class=\"n\"&gt;time&lt;/span&gt; &lt;span class=\"k\"&gt;from&lt;/span&gt; &lt;span class=\"n\"&gt;suppliers&lt;/span&gt;\n                        &lt;span class=\"m\"&gt;3&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt; &lt;span class=\"n\"&gt;Seasonal&lt;/span&gt; &lt;span class=\"n\"&gt;demand&lt;/span&gt; &lt;span class=\"n\"&gt;patterns&lt;/span&gt;\n                        &lt;span class=\"m\"&gt;4&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt; &lt;span class=\"n\"&gt;Storage&lt;/span&gt; &lt;span class=\"n\"&gt;costs&lt;/span&gt;\n\n                        &lt;span class=\"n\"&gt;Provide&lt;/span&gt; &lt;span class=\"n\"&gt;a&lt;/span&gt; &lt;span class=\"n\"&gt;prioritized&lt;/span&gt; &lt;span class=\"n\"&gt;restocking&lt;/span&gt; &lt;span class=\"n\"&gt;plan&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;\n                        &lt;span class=\"s\"&gt;\"\"\")\n&lt;/span&gt;                &lt;span class=\"p\"&gt;}&lt;/span&gt;\n            &lt;span class=\"p\"&gt;}&lt;/span&gt;\n        &lt;span class=\"p\"&gt;};&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  Using Prompts from Client\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// List available prompts&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;prompts&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;client&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;ListPromptsAsync&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Get a prompt&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;prompt&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;client&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;GetPromptAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"analyze_inventory\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;Dictionary&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"category\"&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"s\"&gt;\"electronics\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n        &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"threshold\"&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"s\"&gt;\"5\"&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Use with an agent&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;response&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;agent&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;InvokeAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;prompt&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Messages&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  HTTP Transport with ASP.NET Core\n&lt;/h2&gt;\n\n&lt;p&gt;For production deployments, expose your MCP server over HTTP:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;using&lt;/span&gt; &lt;span class=\"nn\"&gt;ModelContextProtocol.AspNetCore&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;builder&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;WebApplication&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CreateBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;args&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Register services&lt;/span&gt;\n&lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Services&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;AddScoped&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;IProductService&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;ProductService&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;();&lt;/span&gt;\n&lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Services&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;AddScoped&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;IInventoryService&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;InventoryService&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;();&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Build MCP server&lt;/span&gt;\n&lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Services&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddMcpServer&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"inventory-server\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"1.0.0\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;AddTool&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;GetProductTool&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;()&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;AddTool&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;SearchProductsTool&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;()&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;AddTool&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;UpdateInventoryTool&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;()&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;AddResource&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;ProductCatalogResource&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;()&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;AddResource&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;CategoriesResource&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;();&lt;/span&gt;\n\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;app&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Build&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Map MCP endpoints&lt;/span&gt;\n&lt;span class=\"n\"&gt;app&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;MapMcpServer&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"/mcp\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Health check&lt;/span&gt;\n&lt;span class=\"n\"&gt;app&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;MapGet&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"/health\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"p\"&gt;()&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"n\"&gt;Results&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Ok&lt;/span&gt;&lt;span class=\"p\"&gt;());&lt;/span&gt;\n\n&lt;span class=\"n\"&gt;app&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Run&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  Tool Classes for DI\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"k\"&gt;public&lt;/span&gt; &lt;span class=\"k\"&gt;class&lt;/span&gt; &lt;span class=\"nc\"&gt;GetProductTool&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"n\"&gt;IMcpTool&lt;/span&gt;\n&lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"k\"&gt;public&lt;/span&gt; &lt;span class=\"kt\"&gt;string&lt;/span&gt; &lt;span class=\"n\"&gt;Name&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"s\"&gt;\"get_product\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n    &lt;span class=\"k\"&gt;public&lt;/span&gt; &lt;span class=\"kt\"&gt;string&lt;/span&gt; &lt;span class=\"n\"&gt;Description&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"s\"&gt;\"Get detailed product information by SKU\"&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n    &lt;span class=\"k\"&gt;public&lt;/span&gt; &lt;span class=\"n\"&gt;JsonSchema&lt;/span&gt; &lt;span class=\"n\"&gt;InputSchema&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Object&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Properties&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n            &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"sku\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;().&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;String&lt;/span&gt;&lt;span class=\"p\"&gt;)))&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Required&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"sku\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Build&lt;/span&gt;&lt;span class=\"p\"&gt;();&lt;/span&gt;\n\n    &lt;span class=\"k\"&gt;private&lt;/span&gt; &lt;span class=\"k\"&gt;readonly&lt;/span&gt; &lt;span class=\"n\"&gt;IProductService&lt;/span&gt; &lt;span class=\"n\"&gt;_productService&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n\n    &lt;span class=\"k\"&gt;public&lt;/span&gt; &lt;span class=\"nf\"&gt;GetProductTool&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;IProductService&lt;/span&gt; &lt;span class=\"n\"&gt;productService&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"n\"&gt;_productService&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;productService&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n    &lt;span class=\"k\"&gt;public&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"n\"&gt;Task&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;ExecuteAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n        &lt;span class=\"n\"&gt;IReadOnlyDictionary&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;JsonElement&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n        &lt;span class=\"n\"&gt;CancellationToken&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;sku&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"sku\"&lt;/span&gt;&lt;span class=\"p\"&gt;].&lt;/span&gt;&lt;span class=\"nf\"&gt;GetString&lt;/span&gt;&lt;span class=\"p\"&gt;()!;&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;product&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;_productService&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;GetBySkuAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;sku&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n        &lt;span class=\"k\"&gt;if&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;product&lt;/span&gt; &lt;span class=\"p\"&gt;==&lt;/span&gt; &lt;span class=\"k\"&gt;null&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n            &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"n\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Error&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;$\"Product &lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"n\"&gt;sku&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s\"&gt; not found\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"n\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Success&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;JsonSerializer&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Serialize&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;product&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Authentication (2025-06-18 Spec)\n&lt;/h2&gt;\n\n&lt;p&gt;The MCP specification added authentication support in June 2025:&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Server-Side Authentication\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Services&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddMcpServer&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"inventory-server\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"1.0.0\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;WithAuthentication&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;options&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"n\"&gt;options&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Provider&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;AuthProvider&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;OAuth2&lt;/span&gt;&lt;span class=\"p\"&gt;;&lt;/span&gt;\n        &lt;span class=\"n\"&gt;options&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;TokenEndpoint&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;Uri&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"https://auth.example.com/token\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n        &lt;span class=\"n\"&gt;options&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;AuthorizationEndpoint&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;Uri&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"https://auth.example.com/authorize\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n        &lt;span class=\"n\"&gt;options&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Scopes&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt;&lt;span class=\"p\"&gt;[]&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"s\"&gt;\"inventory:read\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"inventory:write\"&lt;/span&gt; &lt;span class=\"p\"&gt;};&lt;/span&gt;\n        &lt;span class=\"n\"&gt;options&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;ClientId&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;config&lt;/span&gt;&lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"OAuth:ClientId\"&lt;/span&gt;&lt;span class=\"p\"&gt;]!;&lt;/span&gt;\n\n        &lt;span class=\"c1\"&gt;// Validate tokens&lt;/span&gt;\n        &lt;span class=\"n\"&gt;options&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;TokenValidator&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;token&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;ct&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt;\n        &lt;span class=\"p\"&gt;{&lt;/span&gt;\n            &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;result&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;tokenValidator&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;ValidateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;token&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;ct&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n            &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;TokenValidationResult&lt;/span&gt;\n            &lt;span class=\"p\"&gt;{&lt;/span&gt;\n                &lt;span class=\"n\"&gt;IsValid&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;result&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;IsValid&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n                &lt;span class=\"n\"&gt;Claims&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;result&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Claims&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n                &lt;span class=\"n\"&gt;Scopes&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;result&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Scopes&lt;/span&gt;\n            &lt;span class=\"p\"&gt;};&lt;/span&gt;\n        &lt;span class=\"p\"&gt;};&lt;/span&gt;\n    &lt;span class=\"p\"&gt;})&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;AddTool&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;GetProductTool&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;()&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;AddTool&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;UpdateInventoryTool&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;();&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// In tool implementation, check permissions:&lt;/span&gt;\n&lt;span class=\"k\"&gt;public&lt;/span&gt; &lt;span class=\"k\"&gt;class&lt;/span&gt; &lt;span class=\"nc\"&gt;UpdateInventoryTool&lt;/span&gt; &lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"n\"&gt;IMcpTool&lt;/span&gt;\n&lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"k\"&gt;public&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"n\"&gt;Task&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt; &lt;span class=\"nf\"&gt;ExecuteAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n        &lt;span class=\"n\"&gt;IReadOnlyDictionary&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;JsonElement&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt; &lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n        &lt;span class=\"n\"&gt;McpContext&lt;/span&gt; &lt;span class=\"n\"&gt;context&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"c1\"&gt;// Includes auth info&lt;/span&gt;\n        &lt;span class=\"n\"&gt;CancellationToken&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"c1\"&gt;// Check for required scope&lt;/span&gt;\n        &lt;span class=\"k\"&gt;if&lt;/span&gt; &lt;span class=\"p\"&gt;(!&lt;/span&gt;&lt;span class=\"n\"&gt;context&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;HasScope&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"inventory:write\"&lt;/span&gt;&lt;span class=\"p\"&gt;))&lt;/span&gt;\n        &lt;span class=\"p\"&gt;{&lt;/span&gt;\n            &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"n\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Error&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Permission denied: requires inventory:write scope\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n        &lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n        &lt;span class=\"c1\"&gt;// Log who made the change&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;userId&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"n\"&gt;context&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Claims&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;GetValueOrDefault&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"sub\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n        &lt;span class=\"n\"&gt;logger&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;LogInformation&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Inventory update by {UserId}\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;userId&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n        &lt;span class=\"c1\"&gt;// Proceed with update...&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  Client-Side Authentication\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;transport&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;HttpClientTransport&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;Uri&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"https://inventory.example.com/mcp\"&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"n\"&gt;authHandler&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"n\"&gt;ct&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"c1\"&gt;// Get or refresh OAuth token&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;token&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;tokenProvider&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;GetAccessTokenAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n            &lt;span class=\"n\"&gt;scopes&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt;&lt;span class=\"p\"&gt;[]&lt;/span&gt; &lt;span class=\"p\"&gt;{&lt;/span&gt; &lt;span class=\"s\"&gt;\"inventory:read\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"inventory:write\"&lt;/span&gt; &lt;span class=\"p\"&gt;},&lt;/span&gt;\n            &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"n\"&gt;ct&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;AuthenticationHeaderValue&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Bearer\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;token&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;client&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;McpClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CreateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;transport&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  When to Use MCP vs Native Tools\n&lt;/h2&gt;\n\n&lt;p&gt;Use this decision matrix:&lt;/p&gt;\n\n&lt;div class=\"table-wrapper-paragraph\"&gt;&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Scenario&lt;/th&gt;\n&lt;th&gt;Recommendation&lt;/th&gt;\n&lt;th&gt;Why&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;Internal tool, single app&lt;/td&gt;\n&lt;td&gt;Native &lt;code&gt;[AgentTool]&lt;/code&gt;\n&lt;/td&gt;\n&lt;td&gt;Simpler, less overhead&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Shared across agents&lt;/td&gt;\n&lt;td&gt;MCP server&lt;/td&gt;\n&lt;td&gt;Write once, use everywhere&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Cross-language teams&lt;/td&gt;\n&lt;td&gt;MCP server&lt;/td&gt;\n&lt;td&gt;Python/JS agents can use it&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Third-party integration&lt;/td&gt;\n&lt;td&gt;MCP client&lt;/td&gt;\n&lt;td&gt;Consume existing servers&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;External API wrapper&lt;/td&gt;\n&lt;td&gt;Either&lt;/td&gt;\n&lt;td&gt;MCP if sharing, native if not&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Real-time requirements&lt;/td&gt;\n&lt;td&gt;Native&lt;/td&gt;\n&lt;td&gt;Lower latency&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Needs authentication&lt;/td&gt;\n&lt;td&gt;MCP (HTTP)&lt;/td&gt;\n&lt;td&gt;Built-in OAuth support&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;&lt;/div&gt;\n\n&lt;h3&gt;\n  \n  \n  Hybrid Approach\n&lt;/h3&gt;\n\n&lt;p&gt;You can mix both:&lt;br&gt;\n&lt;/p&gt;\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;agent&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;ChatClientAgent&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;chatClient&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;options&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Native tools for simple, internal things&lt;/span&gt;\n&lt;span class=\"n\"&gt;agent&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;AddTools&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;CalculatorTools&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;();&lt;/span&gt;\n&lt;span class=\"n\"&gt;agent&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;AddTools&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;DateTimeTools&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;();&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// MCP for shared/external capabilities&lt;/span&gt;\n&lt;span class=\"n\"&gt;agent&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddMcpTools&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;McpClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CreateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;githubTransport&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n&lt;span class=\"n\"&gt;agent&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddMcpTools&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;McpClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CreateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;slackTransport&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n&lt;span class=\"n\"&gt;agent&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddMcpTools&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;McpClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CreateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;inventoryTransport&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Ecosystem: Available MCP Servers\n&lt;/h2&gt;\n\n&lt;p&gt;The MCP ecosystem is growing rapidly. Here are some notable servers:&lt;/p&gt;\n\n&lt;h3&gt;\n  \n  \n  Official Servers\n&lt;/h3&gt;\n\n&lt;div class=\"table-wrapper-paragraph\"&gt;&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Server&lt;/th&gt;\n&lt;th&gt;Description&lt;/th&gt;\n&lt;th&gt;Install&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;GitHub&lt;/td&gt;\n&lt;td&gt;Repos, issues, PRs, code search&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;npx @modelcontextprotocol/server-github&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Slack&lt;/td&gt;\n&lt;td&gt;Channels, messages, users&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;npx @modelcontextprotocol/server-slack&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Google Drive&lt;/td&gt;\n&lt;td&gt;Files, folders, search&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;npx @modelcontextprotocol/server-gdrive&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;PostgreSQL&lt;/td&gt;\n&lt;td&gt;Database queries&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;npx @modelcontextprotocol/server-postgres&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Filesystem&lt;/td&gt;\n&lt;td&gt;Local file access&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;npx @modelcontextprotocol/server-filesystem&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;&lt;/div&gt;\n\n&lt;h3&gt;\n  \n  \n  Community Servers\n&lt;/h3&gt;\n\n&lt;div class=\"table-wrapper-paragraph\"&gt;&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Server&lt;/th&gt;\n&lt;th&gt;Description&lt;/th&gt;\n&lt;th&gt;Source&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;Azure DevOps&lt;/td&gt;\n&lt;td&gt;Work items, builds, repos&lt;/td&gt;\n&lt;td&gt;github.com/...&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Jira&lt;/td&gt;\n&lt;td&gt;Issues, projects, sprints&lt;/td&gt;\n&lt;td&gt;github.com/...&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Linear&lt;/td&gt;\n&lt;td&gt;Issue tracking&lt;/td&gt;\n&lt;td&gt;github.com/...&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Notion&lt;/td&gt;\n&lt;td&gt;Pages, databases&lt;/td&gt;\n&lt;td&gt;github.com/...&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Puppeteer&lt;/td&gt;\n&lt;td&gt;Browser automation&lt;/td&gt;\n&lt;td&gt;github.com/...&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;&lt;/div&gt;\n\n&lt;h3&gt;\n  \n  \n  Running Multiple Servers\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// Create multiple MCP clients&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;clients&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"n\"&gt;Dictionary&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"kt\"&gt;string&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;McpClient&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"github\"&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;McpClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CreateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;githubTransport&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"slack\"&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;McpClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CreateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;slackTransport&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"jira\"&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;McpClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CreateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;jiraTransport&lt;/span&gt;&lt;span class=\"p\"&gt;),&lt;/span&gt;\n    &lt;span class=\"p\"&gt;[&lt;/span&gt;&lt;span class=\"s\"&gt;\"db\"&lt;/span&gt;&lt;span class=\"p\"&gt;]&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;McpClient&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CreateAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;postgresTransport&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n&lt;span class=\"p\"&gt;};&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Add all to agent&lt;/span&gt;\n&lt;span class=\"k\"&gt;foreach&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;client&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"k\"&gt;in&lt;/span&gt; &lt;span class=\"n\"&gt;clients&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n&lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"n\"&gt;agent&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddMcpTools&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;client&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;prefix&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;$\"&lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s\"&gt;_\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Agent now has:&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// - github_create_issue&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// - github_search_repositories&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// - slack_send_message&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// - slack_list_channels&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// - jira_create_issue&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// - db_query&lt;/span&gt;\n&lt;span class=\"c1\"&gt;// etc.&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Best Practices\n&lt;/h2&gt;\n\n&lt;h3&gt;\n  \n  \n  1. Design Tool Interfaces Carefully\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// ‚ùå Too vague&lt;/span&gt;\n&lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddTool&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"do_thing\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;description&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"Does a thing\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// ...&lt;/span&gt;\n&lt;span class=\"p\"&gt;);&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// ‚úÖ Clear and specific&lt;/span&gt;\n&lt;span class=\"n\"&gt;builder&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;AddTool&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n    &lt;span class=\"n\"&gt;name&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"create_invoice\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"n\"&gt;description&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"s\"&gt;\"Creates a new invoice for a customer. Returns the invoice ID and PDF URL.\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n    &lt;span class=\"c1\"&gt;// ...&lt;/span&gt;\n&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  2. Provide Rich Schemas\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// ‚ùå Minimal schema&lt;/span&gt;\n&lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Object&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Properties&lt;/span&gt;&lt;span class=\"p\"&gt;((&lt;/span&gt;&lt;span class=\"s\"&gt;\"data\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;().&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;String&lt;/span&gt;&lt;span class=\"p\"&gt;)))&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Build&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// ‚úÖ Detailed schema with descriptions and constraints&lt;/span&gt;\n&lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Object&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Properties&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n        &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"customer_id\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n            &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;String&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n            &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Description&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Customer ID in format CUST-XXXXX\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n            &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Pattern&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"^CUST-[A-Z0-9]{5}$\"&lt;/span&gt;&lt;span class=\"p\"&gt;)),&lt;/span&gt;\n        &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"line_items\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n            &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Array&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n            &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Items&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Object&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Properties&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n                    &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"sku\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;().&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;String&lt;/span&gt;&lt;span class=\"p\"&gt;)),&lt;/span&gt;\n                    &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"quantity\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n                        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Integer&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Minimum&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"m\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;)),&lt;/span&gt;\n                    &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"unit_price\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n                        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Number&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n                        &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Minimum&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"m\"&gt;0&lt;/span&gt;&lt;span class=\"p\"&gt;)))))&lt;/span&gt;\n            &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;MinItems&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"m\"&gt;1&lt;/span&gt;&lt;span class=\"p\"&gt;)),&lt;/span&gt;\n        &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"due_date\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;JsonSchemaBuilder&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n            &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Type&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;SchemaValueType&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;String&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n            &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Format&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"date\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n            &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Description&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Payment due date in ISO 8601 format\"&lt;/span&gt;&lt;span class=\"p\"&gt;)))&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Required&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"customer_id\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"line_items\"&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Build&lt;/span&gt;&lt;span class=\"p\"&gt;()&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  3. Handle Errors Gracefully\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"n\"&gt;handler&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"k\"&gt;async&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt;\n&lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"k\"&gt;try&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;result&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;service&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;DoThingAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;arguments&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;cancellationToken&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"n\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Success&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;JsonSerializer&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Serialize&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;result&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n    &lt;span class=\"k\"&gt;catch&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;NotFoundException&lt;/span&gt; &lt;span class=\"n\"&gt;ex&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"n\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Error&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;$\"Not found: &lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"n\"&gt;ex&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Message&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n    &lt;span class=\"k\"&gt;catch&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;ValidationException&lt;/span&gt; &lt;span class=\"n\"&gt;ex&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"n\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Error&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;$\"Invalid input: &lt;/span&gt;&lt;span class=\"p\"&gt;{&lt;/span&gt;&lt;span class=\"n\"&gt;ex&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;Message&lt;/span&gt;&lt;span class=\"p\"&gt;}&lt;/span&gt;&lt;span class=\"s\"&gt;\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n    &lt;span class=\"k\"&gt;catch&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;UnauthorizedException&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"n\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Error&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"Permission denied\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n    &lt;span class=\"k\"&gt;catch&lt;/span&gt; &lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;Exception&lt;/span&gt; &lt;span class=\"n\"&gt;ex&lt;/span&gt;&lt;span class=\"p\"&gt;)&lt;/span&gt;\n    &lt;span class=\"p\"&gt;{&lt;/span&gt;\n        &lt;span class=\"n\"&gt;logger&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;LogError&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;ex&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"s\"&gt;\"Unexpected error in tool\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n        &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"n\"&gt;ToolResult&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;Error&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"An unexpected error occurred. Please try again.\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n    &lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;span class=\"p\"&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;h3&gt;\n  \n  \n  4. Use Connection Pooling\n&lt;/h3&gt;\n\n\n\n&lt;div class=\"highlight js-code-highlight\"&gt;\n&lt;pre class=\"highlight csharp\"&gt;&lt;code&gt;&lt;span class=\"c1\"&gt;// Register as singleton or use pooling&lt;/span&gt;\n&lt;span class=\"n\"&gt;services&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"n\"&gt;AddSingleton&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;lt;&lt;/span&gt;&lt;span class=\"n\"&gt;IMcpClientPool&lt;/span&gt;&lt;span class=\"p\"&gt;&amp;gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;sp&lt;/span&gt; &lt;span class=\"p\"&gt;=&amp;gt;&lt;/span&gt;\n&lt;span class=\"p\"&gt;{&lt;/span&gt;\n    &lt;span class=\"k\"&gt;return&lt;/span&gt; &lt;span class=\"k\"&gt;new&lt;/span&gt; &lt;span class=\"nf\"&gt;McpClientPool&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;\n        &lt;span class=\"n\"&gt;maxClientsPerServer&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"m\"&gt;5&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt;\n        &lt;span class=\"n\"&gt;idleTimeout&lt;/span&gt;&lt;span class=\"p\"&gt;:&lt;/span&gt; &lt;span class=\"n\"&gt;TimeSpan&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;FromMinutes&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"m\"&gt;10&lt;/span&gt;&lt;span class=\"p\"&gt;));&lt;/span&gt;\n&lt;span class=\"p\"&gt;});&lt;/span&gt;\n\n&lt;span class=\"c1\"&gt;// Use pooled client&lt;/span&gt;\n&lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"k\"&gt;using&lt;/span&gt; &lt;span class=\"nn\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;client&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;pool&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;GetClientAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"inventory-server\"&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;span class=\"kt\"&gt;var&lt;/span&gt; &lt;span class=\"n\"&gt;result&lt;/span&gt; &lt;span class=\"p\"&gt;=&lt;/span&gt; &lt;span class=\"k\"&gt;await&lt;/span&gt; &lt;span class=\"n\"&gt;client&lt;/span&gt;&lt;span class=\"p\"&gt;.&lt;/span&gt;&lt;span class=\"nf\"&gt;CallToolAsync&lt;/span&gt;&lt;span class=\"p\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;\"get_product\"&lt;/span&gt;&lt;span class=\"p\"&gt;,&lt;/span&gt; &lt;span class=\"n\"&gt;args&lt;/span&gt;&lt;span class=\"p\"&gt;);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n\n\n\n\n\n\n&lt;h2&gt;\n  \n  \n  What's Next\n&lt;/h2&gt;\n\n&lt;p&gt;In &lt;strong&gt;Part 4&lt;/strong&gt;, we'll take everything we've learned to &lt;strong&gt;production&lt;/strong&gt;:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Deploying to Azure AI Foundry&lt;/li&gt;\n&lt;li&gt;Observability with OpenTelemetry&lt;/li&gt;\n&lt;li&gt;Scaling multi-agent systems&lt;/li&gt;\n&lt;li&gt;Security best practices&lt;/li&gt;\n&lt;li&gt;CI/CD for agent deployments&lt;/li&gt;\n&lt;/ul&gt;\n\n\n\n\n&lt;h2&gt;\n  \n  \n  Resources\n&lt;/h2&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"https://modelcontextprotocol.io\" rel=\"noopener noreferrer\"&gt;MCP Specification&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://github.com/modelcontextprotocol/csharp-sdk\" rel=\"noopener noreferrer\"&gt;C# SDK Documentation&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://github.com/modelcontextprotocol/servers\" rel=\"noopener noreferrer\"&gt;MCP Server Registry&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://learn.microsoft.com/en-us/semantic-kernel/agents/mcp\" rel=\"noopener noreferrer\"&gt;Agent Framework MCP Integration&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;",
    "date": "2026-02-23T15:09:31.000Z",
    "url": "https://dev.to/bspann/model-context-protocol-in-net-building-and-consuming-universal-ai-tools-4ocd"
  },
  {
    "publisherId": "devto",
    "publisherName": "Dev.to",
    "specTitle": "Ï†ÑÏ≤¥",
    "categories": [
      "_all_"
    ],
    "specUrl": "https://dev.to/feed",
    "title": "I Use AI on My Codebase Every Day. Here's What I've Stopped Trusting It With.",
    "partialText": "&lt;p&gt;There's a popular narrative right now: let AI handle your code, review the output, ship faster. I bought into it. I still use AI for coding every single day.&lt;/p&gt;\n\n&lt;p&gt;But after months of daily use, I've developed a very specific list of things I will and won't let AI touch. Not from theory ‚Äî from watching things break.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  What AI is genuinely great at\n&lt;/h2&gt;\n\n&lt;p&gt;&lt;strong&gt;Boilerplate.&lt;/strong&gt; CRUD endpoints, validation schemas, form wiring, data transformation layers. AI handles repetition without getting bored or introducing typos. What used to take 30 minutes of mechanical typing now takes 3 minutes of review.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Refactoring with clear instructions.&lt;/strong&gt; \"Separate business logic from the transport layer\" ‚Äî give AI a well-scoped structural task and it produces directionally correct results. Not perfect, but a solid starting point that saves real time.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Test scaffolding.&lt;/strong&gt; Happy path tests, edge case templates, baseline coverage expansion. AI can generate 20 test cases in the time it takes me to write 3. The catch is that I still need to review every assertion for domain correctness.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  What I've stopped trusting it with\n&lt;/h2&gt;\n\n&lt;p&gt;&lt;strong&gt;Anything involving implicit system knowledge.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Your codebase has invisible dependencies. A 30-second timeout that exists for a reason nobody documented. A cache that depends on referential equality. A hook that adds global listeners. AI doesn't know these things exist. It will confidently change them, and everything will compile. The bug shows up three weeks later.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Architectural decisions across files.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;AI optimizes locally. It writes clean code for the file you're looking at. But it doesn't protect global coherence. I've watched AI introduce three slightly different patterns for the same abstraction across different files in the same PR. Each file looked great in isolation. The codebase got worse.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Error handling in async code.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;This one bit me hard. AI generates async/await code that looks correct but has subtle issues: missing error propagation, overly optimistic null assumptions, try/catch blocks that swallow important failures. The code compiles and passes basic tests. Then production surfaces the edge cases.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  The mental model that works\n&lt;/h2&gt;\n\n&lt;p&gt;I treat AI like a fast junior engineer who has read every Stack Overflow answer but has never maintained a production system. That means:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;\n&lt;strong&gt;Great for generating options.&lt;/strong&gt; \"Show me three ways to structure this.\" Then I pick the one that fits the existing codebase.&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Bad for making judgment calls.&lt;/strong&gt; \"Should we add a cache here?\" requires understanding traffic patterns, consistency requirements, and operational complexity that AI simply doesn't have.&lt;/li&gt;\n&lt;li&gt;\n&lt;strong&gt;Excellent for the first 80%.&lt;/strong&gt; AI gets me to a working draft fast. The last 20% ‚Äî making it production-ready ‚Äî still takes the same human effort it always did.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h2&gt;\n  \n  \n  The real shift isn't in typing speed\n&lt;/h2&gt;\n\n&lt;p&gt;The biggest change isn't that I code faster. It's that I think differently.&lt;/p&gt;\n\n&lt;p&gt;I spend more time on constraints before I start. I write clearer specifications. I think about edge cases upfront because I know AI won't catch them later.&lt;/p&gt;\n\n&lt;p&gt;AI didn't reduce the thinking. It moved where the thinking happens ‚Äî from implementation to design. And honestly, that's probably where it should have been all along.&lt;/p&gt;\n\n&lt;h2&gt;\n  \n  \n  One thing I wish someone told me earlier\n&lt;/h2&gt;\n\n&lt;p&gt;Don't let AI handle something you couldn't review yourself. If you don't understand the output well enough to spot a subtle bug, you're not saving time ‚Äî you're creating debt.&lt;/p&gt;\n\n&lt;p&gt;The best AI-assisted developers I know aren't the ones who generate the most code. They're the ones who reject the most output. That judgment is the actual skill.&lt;/p&gt;\n\n\n\n\n&lt;p&gt;&lt;em&gt;I write about using AI practically, based on daily experience, not theory. If you're a developer thinking about your next move and want to present these kinds of skills effectively, check out my &lt;a href=\"https://updatewave.gumroad.com/l/jrlll\" rel=\"noopener noreferrer\"&gt;Tech Career Bundle&lt;/a&gt; ‚Äî it includes resume templates, interview prep, and a job search system designed for the AI era.&lt;/em&gt;&lt;/p&gt;",
    "date": "2026-02-23T15:07:55.000Z",
    "url": "https://dev.to/matthewhou/i-use-ai-on-my-codebase-every-day-heres-what-ive-stopped-trusting-it-with-13mi"
  }
]