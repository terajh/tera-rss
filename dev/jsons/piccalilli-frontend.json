[
  {
    "publisherId": "piccalilli",
    "publisherName": "Andy Bell",
    "specTitle": "CSS/ÎîîÏûêÏù∏",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://piccalil.li/feed.xml",
    "title": "The Index: Issue #164",
    "partialText": "<h2><a href=\"https://henry.codes/writing/the-first-thing-i-did-last-year-was-run/?utm_source=the-index&amp;utm_medium=newsletter\">The first thing I did last year was run</a></h2>\n<p>Stunning typography, prose and look and feel. Great stuff.</p>\n<h2><a href=\"https://blog.jim-nielsen.com/2025/lots-of-little-html-pages?utm_source=the-index&amp;utm_medium=newsletter\">Building websites with LLMs</a></h2>\n<p>Not to spoil the article, but definitely not <em>those</em> LLMs.</p>\n<h2><a href=\"https://dbushell.com/2026/02/12/declarative-dialog-menu-invoker-commands/?utm_source=the-index&amp;utm_medium=newsletter\">Declarative dialog menu with invoker commands</a></h2>\n<p>Expect to see more content like this about invoker commands. They have the potential to remove <em>a lot</em> of weight from websites in the long run.</p>\n<h2><a href=\"https://gusbus.space/smallweb-subway/?utm_source=the-index&amp;utm_medium=newsletter\">Smallweb subway</a></h2>\n<p>A very cool idea for web rings using the canvas element.</p>\n<h2><a href=\"https://fontreviewjournal.com/?utm_source=the-index&amp;utm_medium=newsletter\">Font review journal</a></h2>\n<p>Not only a great source of lovely fonts, but the reviews themselves are packed with great knowledge, so if you wanted to learn more about fonts, this is the place.</p>\n<p>It features Rosart which we use on Piccalilli too!</p>\n<hr />\n<p>P.S. <a href=\"https://flo-bit.dev/?utm_source=the-index&amp;utm_medium=newsletter\">this is a good website</a> from <a href=\"https://personalsit.es/?utm_source=the-index&amp;utm_medium=newsletter\">personalsit.es</a>.</p>\n        \n        <h2>Sponsor message</h2><p>There's no sponsor for this issue so I thought I'd remind you that <strong>subscribers of The Index get a 20% discount off all of our courses</strong>, including JavaScript for Everyone, Mindful Design and Complete CSS.</p>\n<p>Just use the code <code>THEINDEX</code> at checkout to get that 20% discount.</p>\n<p><a href=\"https://piccalil.li/courses/?utm_source=the-index&utm_medium=newsletter\">Get your discount</a></p>",
    "date": "2026-02-13T11:55:00.000Z",
    "url": "https://piccalil.li/the-index/164/?ref=main-rss-feed"
  },
  {
    "publisherId": "piccalilli",
    "publisherName": "Andy Bell",
    "specTitle": "CSS/ÎîîÏûêÏù∏",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://piccalil.li/feed.xml",
    "title": "You might not need role=\"presentation\"",
    "partialText": "<p>For a brief moment in time, my main job was to assess the compliance of a selection of websites and document this in a report that was handed over to the customer. I carried out this assessment using the so-called <a href=\"https://bitvtest.de/en/tests-und-beratung/bik-bitv-test-web\">BIK BITV test</a> and, in test step <a href=\"https://bitvtest.de/pruefschritt/bitv-20-plus-web/bitv-20-plus-web-9-4-1-2-name-rolle-wert-verfuegbar\">9.4.1.2 Name, Role, Value</a>, I noticed time and again that <code>role=\"presentation\"</code> was used in a way that was either technically questionable or even degraded accessibility.</p>\n<p>Because I have seen this pattern so often, I'm going to to use a couple of real-life examples to find out why this is the case. The examples have been edited and shortened to make them easier to understand.</p>\n<p>I will use the code to assess what the intention for using <code>role=\"presentation\"</code> might have been and what could have been done differently. In my experience, there‚Äôs only a few real use cases for this attribute value, which we will get to later in the article.</p>\n<h2>What you might read about this attribute</h2>\n<p>We will use the specifications to take a closer look at what <code>role=\"presentation\"</code> does, how it is used in the wild, and what it should actually be used for.</p>\n<h2>The official specs</h2>\n<div><h2>FYI</h2>\n<p>Whenever you see a blockquote following a code sample in this section, it is an excerpt from the <a href=\"https://www.w3.org/TR/wai-aria-1.1/#presentation\">specification</a>.</p>\n</div>\n<p>If you take a look at the <a href=\"https://www.w3.org/TR/wai-aria-1.2/#presentation\">specification</a>, you will immediately notice the prominent note right at the beginning (emphasis ours):</p>\n<blockquote>\n<p>In ARIA 1.1, the working group introduced none as a synonym to the presentation role, due to author confusion surrounding the intended meaning of the word \"presentation\" or \"presentational.\" Many individuals erroneously consider <code>role=\"presentation\"</code> to be synonymous with <code>aria-hidden=\"true\"</code>, and we believe <code>role=\"none\"</code> conveys the actual meaning more unambiguously.</p>\n</blockquote>\n<p>This gives us an initial indication of why this attribute might be used incorrectly.</p>\n<p>Authors seem to understand ‚Äúpresentational‚Äù as ‚Äúonly to be seen‚Äù; not heard. This is the behaviour of <code>aria-hidden</code>, which hides an element in the accessibility tree so that it is no longer announced when assistive technology is used. <code>role=\"presentation\"</code> only affects the role, but not an element and its content.</p>\n<blockquote>\n<p>The intended use is when an element is used to change the look of the page but does not have all the functional, interactive, or structural relevance implied by the element type, or may be used to provide for an accessible fallback in older browsers that do not support WAI-ARIA.</p>\n</blockquote>\n<p>Spoiler: they‚Äôre describing layout tables here, which we‚Äôll get into later in the article.</p>\n<blockquote>\n<p>An element whose content is completely presentational (like a spacer image, decorative graphic, or clearing element);</p>\n</blockquote>\n<p>The first two examples sound like image elements. If it is a decorative <code>svg</code> element, <code>aria-hidden=\"true\"</code> would make more sense. Whereas for an <code>img</code> element <code>alt=\"\"</code> would be more appropriate for hiding it, as this makes the intention much more obvious and it comes for free with the <code>img</code> element.</p>\n<p>‚ÄúClearing element‚Äù might refer to using an element to clear float behaviour, where you would use <code>clear: both;</code> after using <code>float: left;</code> or <code>float: right;</code>, so it wouldn‚Äôt get dragged up the flow and break the layout.</p>\n<p></p>\n<blockquote>\n<p>An image that is in a container with the <code>img</code> role and where the full text alternative is available and is marked up with <code>aria-labelledby</code> and (if needed) <code>aria-describedby</code>;</p>\n</blockquote>\n<p>To be completely honest, I have never seen the following example in the wild, and it is much easier to implement ‚Äî and for users to read ‚Äî if you use the <code>alt</code> attribute for alternative text in an image.</p>\n<p>In the following example, the <code>hidden</code> attribute is used to hide the <code>&lt;span&gt;</code> element visually. However, it‚Äôs still available in the DOM, so it can be referenced using <code>aria-labelledby</code> , up there in the sibling <code>&lt;div&gt;</code> element, for example.</p>\n<pre><code>&lt;div role=\"img\" aria-labelledby=\"image-title\"&gt;\n  &lt;img src=\"example-image.jpg\" role=\"presentation\"&gt;\n  &lt;span id=\"image-title\" hidden&gt;A beautiful sunset over the ocean&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n<p>In the accessibility tree, in that context, the image is displayed correctly with the corresponding alternative text, but not the source URL. If you use <a href=\"https://www.deque.com/axe/devtools/linter/\">axe-linter</a> in development, removing <code>role=\"presentation\"</code> will trigger an alarm that images need alternative text.</p>\n<blockquote>\n<p>An element used as an additional markup \"hook\" for CSS [...]</p>\n</blockquote>\n<p>This means that in CSS, you use this attribute to target an element with <code>role=\"presentation\"</code>, for example like this:</p>\n<pre><code>table[role=presentation] {\n  /* Do something */\n}\n</code></pre>\n<blockquote>\n<p>A layout table and/or any of its associated rows, cells, etc.</p>\n</blockquote>\n<p>Again, we‚Äôll get into this pattern later on.</p>\n<p>The specification contains many more explanations and examples, which you are welcome to look at yourself. One of the most important sentences for me is this one: <em>‚Äú[‚Ä¶] the presentation role causes a given element to be treated as having no role or to be removed from the accessibility tree, but does not cause the content contained within the element to be removed from the accessibility tree.‚Äù</em></p>\n<p>The following example is not intended for use in production, but is only meant to illustrate that when using <code>role=\"presentation\"</code>, the element itself and the elements within it lose their semantic meaning, but the content is still available:</p>\n<pre><code>&lt;!-- Output: One generic element containing \ntwo generic elements with content. --&gt;\n&lt;ul role=\"presentation\"&gt;\n  &lt;li&gt; Sample Content &lt;/li&gt;\n  &lt;li&gt; More Sample Content &lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;!-- Output: Unordered list element containing two list items. --&gt;\n&lt;ul&gt;\n  &lt;li&gt; Sample Content &lt;/li&gt;\n  &lt;li&gt; More Sample Content &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n<p>The semantic HTML is still displayed in the source code, however, if you look at them in the accessibility tree, they are displayed as generic elements, so they could just as well be <code>&lt;div&gt;</code> or <code>&lt;span&gt;</code> elements.</p>\n<p>Enough theory, let‚Äôs have a look at some real world examples!</p>\n<h2>Questionable examples</h2>\n<p>Some of these examples won‚Äôt create any real barriers for users and I consider them not nice, but more <em>harmless</em>. Others will cause problems, because <code>role=\"presentation\"</code> has removed important semantic meaning, which can cause more issues because of nested elements.</p>\n<p>You will quickly learn that I removed this attribute in <em>all</em> of my suggested fixes, as it‚Äôs just <strong>not necessary</strong>. It was also sometimes impossible for me to guess why developers used <code>role=\"presentation\"</code> in the first place.</p>\n<h3>The ‚Äúinvisible‚Äù <code>iframe</code> element</h3>\n<pre><code>&lt;iframe src=\"...\" title role=\"presentation\" loading=\"eager\" style=\"width: 0px; height: 0px; border: 0px; display: none;\"&gt;\n  &lt;!-- More code  --&gt;\n&lt;/iframe&gt;\n</code></pre>\n<p>This <code>iframe</code> element contains a single <code>&lt;script&gt;</code> element for cookie logic. The intention here was most likely to hide it from assistive technology, as the CSS code suggests.</p>\n<p>However, the content is still available because only the semantic meaning was removed from the <code>iframe</code> element. In addition, a <code>title</code> attribute without content was used here, which is incorrect.</p>\n<p>Instead, the desired output could be implemented as follows:</p>\n<pre><code>&lt;iframe aria-hidden=\"true\" src=\"...\" loading=\"eager\"&gt;\n  &lt;!-- More code  --&gt;\n&lt;/iframe&gt;\n</code></pre>\n<h3>The list with no items</h3>\n<pre><code>&lt;nav&gt;\n\t&lt;ul&gt;\n\t  &lt;li role=\"presentation\"&gt;\n\t  \t&lt;a href=\"/\"&gt;To homepage&lt;/a&gt;\n\t  &lt;/li&gt;\n\t  &lt;!-- More code  --&gt;\n\t&lt;/ul&gt;\n&lt;/nav&gt;\n</code></pre>\n<p>Why <code>role=\"presentation\"</code> is applied to a list element here is beyond me. Especially since this is a navigation element and the semantics here have to be on point. Fortunately, it can be easily fixed by removing the attribute and using <code>aria-current=\"page\"</code> for the current page.</p>\n<h3>The ‚Äúhidden‚Äù image</h3>\n<pre><code>&lt;a href=\"/shop\" aria-label=\"Shop\"&gt;\n  &lt;svg role=\"presentation\"&gt;\n    &lt;title&gt;Shopping cart&lt;/title&gt;\n    &lt;!-- More code  --&gt;\n  &lt;/svg&gt;\n&lt;/a&gt;\n</code></pre>\n<p>As we learned from the <a href=\"https://www.w3.org/TR/wai-aria-1.1/#presentation\">specification</a>, <code>role=\"presentation\"</code> only removes the semantics of an element, but not its content, so the content of the <code>&lt;title&gt;</code> element should still be available, right? As <code>aria-label</code> is present, an accessible name is provided by this attribute, but <em>not</em> the <code>&lt;title&gt;</code> element itself.</p>\n<p>If you would remove <code>aria-label</code>, it would have no accessible name at all, meaning <code>role=\"presentation\"</code> has completely purged the <code>&lt;title&gt;</code> element from the accessibility tree! ü§Ø</p>\n<p>The goal here was probably to hide the alternative text of the <code>&lt;svg&gt;</code> element, which worked. However, there are several ways to solve this use case more cleanly, and I would do it this way:</p>\n<pre><code>&lt;a href=\"/shop\"&gt;\n  &lt;svg&gt;\n    &lt;title&gt;Shop&lt;/title&gt;\n    &lt;!-- More code  --&gt;\n  &lt;/svg&gt;\n&lt;/a&gt;\n</code></pre>\n<p>In this case, we do not need <code>aria-label</code>, as the alternative text of the image is used as the accessible name.</p>\n<h3>Make it semantic, then undo it</h3>\n<pre><code>&lt;a href=\"/retail\"&gt;\n  &lt;p role=\"presentation\"&gt;Search store&lt;/p&gt;\n&lt;/a&gt;\n</code></pre>\n<p>This is an awkward solution, but it does not present any real barriers for users, as the link text is still available. The developers probably wanted to hide the <code>&lt;p&gt;</code> element semantically, which is exactly what happens here. However, it could also have been done like this:</p>\n<pre><code>&lt;a href=\"/retail\"&gt;\n  Search store\n&lt;/a&gt;\n</code></pre>\n<h3>Technically meh, but still working</h3>\n<pre><code>&lt;div role=\"presentation\"&gt;\n  &lt;section role=\"presentation\" aria-label=\"Header\"&gt;\n    &lt;!-- More code  --&gt;\n  &lt;/section&gt;\n&lt;/div&gt;\n</code></pre>\n<p>This is a very interesting case! First of all, I don't understand why you would remove the semantic meaning but still use a semantic element.</p>\n<p>In theory, <code>&lt;section&gt;</code> would be a generic element with an aria-label, which is prohibited according to the <a href=\"https://www.w3.org/TR/wai-aria-1.2/#generic\">specification</a>, which would result in a failure of test step <a href=\"https://www.w3.org/WAI/WCAG21/Understanding/name-role-value\">4.1.2 Name, Role, Value (Level A)</a>.</p>\n<p>But because <code>aria-label</code> is present, this is ignored by the browser and the element is displayed correctly in the accessibility tree. Amazing! A technically clean solution would look like this:</p>\n<pre><code>&lt;div&gt;\n  &lt;section aria-label=\"Header\"&gt;\n    &lt;!-- More code  --&gt;\n  &lt;/section&gt;\n&lt;/div&gt;\n</code></pre>\n<h3>Adding an accessible name and then removing it</h3>\n<pre><code>&lt;a href=\"/profile\"&gt;\n  &lt;div&gt;\n    &lt;div&gt;\n      &lt;img alt=\"Go to profile\" role=\"presentation\" src=\"...\"&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/a&gt;\n</code></pre>\n<p>The intention is not clear to me here either, because there are some problems due to <code>role=\"presentation\"</code>.</p>\n<p>The <code>&lt;a&gt;</code> element needs an accessible name, which is not available because the <code>&lt;img&gt;</code> element has no semantic meaning and the <code>alt</code> attribute cannot be applied to a generic element.</p>\n<p>Fortunately, these problems can be solved by removing <code>role=\"presentation\"</code>! I also removed the <code>&lt;div&gt;</code> elements because personally, I don‚Äôt like the taste of <a href=\"https://cdn.matthewjamestaylor.com/img/gmail-div-soup.png\">div soup</a>.</p>\n<pre><code>&lt;a href=\"/profile\"&gt;\n  &lt;img alt=\"Go to profile\" src=\"...\"&gt;\n&lt;/a&gt;\n</code></pre>\n<p>The alternative text is now linked to the image, and the accessible name of the link is provided by the alternative text. This one is similar to the ‚Äúhidden‚Äù image example from earlier.</p>\n<p></p>\n<h2>The few good use cases of this attribute</h2>\n<p>There are a couple of suggestions in the specs when you <em>could</em> use <code>role=\"presentation\"</code>, but I think only a few use cases could apply: <a href=\"https://inclusive-components.design/tabbed-interfaces/\">Tabbed interfaces</a>, <a href=\"https://www.stevefrenzel.dev/posts/menu-and-navigation-the-difference/#menu-example\">menu pattern</a> and a layout table. Let‚Äôs have a closer look at a layout table, which is using a <code>&lt;table&gt;</code> element for page layout.</p>\n<p>Thanks to <a href=\"https://nerdy.dev/cascading-secret-sauce\">modern CSS</a>, there‚Äôs no real need to use layout tables for websites anymore! We can produce <a href=\"https://every-layout.dev/\">flexible and robust designs by using flexbox and / or grid</a>. The one use case where <code>role=\"presentation\"</code> might come in handy <em>could</em> be email templates though.</p>\n<p>If you are forced to use layout tables for your emails, Harvard University has a great article for you on <a href=\"https://accessibility.huit.harvard.edu/creating-accessible-emails\">creating accessible emails</a>. The most relevant part for this article is the following sentence (emphasis ours):</p>\n<blockquote>\n<p>If you must use tables for layout, add the attribute <code>role=\"presentation\"</code> on every table element to ensure screen readers won‚Äôt treat them as data tables.</p>\n</blockquote>\n<p>In the <a href=\"https://www.w3.org/WAI/tutorials/tables/tips/\">W3C Tips and Tricks section for tables</a>, they‚Äôre also <em>very</em> clear on the usage of layout tables (emphasis ours):</p>\n<blockquote>\n<p>Tables should not be used for layout purposes. Use Cascading Style Sheets (CSS) for layout. If there are already layout tables present, don‚Äôt use structural elements (like <code>&lt;th&gt;</code> or <code>&lt;caption&gt;</code>) [...], and do add <code>role=\"presentation\"</code> to the <code>&lt;table&gt;</code> element.</p>\n</blockquote>\n<p>The <a href=\"https://accessibility.umich.edu/basics/concepts-principles/tables\">University of Michigan</a> keeps it more brief but same advice:</p>\n<blockquote>\n<p>Only use tables to present tabular data, not to create a visual layout. Use CSS or styling options to handle layout.</p>\n</blockquote>\n<p>In <a href=\"https://brothercake.com/Ref/presentational-tables.html\">Screen reader heuristics for presentational tables</a>, you‚Äôll find some examples on how to use <code>role=\"presentation\"</code> in the context of a layout table.</p>\n<h2>Wrapping up</h2>\n<p>Thanks to a detailed analysis of the specifications, we have learned what <code>role=\"presentation\"</code> does and how few use cases there actually are for this attribute. We have also seen from real-life examples how misunderstood the functionality of this attribute is among developers.</p>\n<p>The only real use cases would be tabbed interfaces, the menu pattern and email templates, but even here, one could (if possible) switch to plain text emails and avoid using <code>role=\"presentation\"</code>.</p>\n<hr />\n<p>Many thanks to <a href=\"https://heydonworks.com/\">Heydon Pickering</a> for their help checking over this article and lending us their endless accessibility wisdom.</p>",
    "date": "2026-02-12T11:55:00.000Z",
    "url": "https://piccalil.li/blog/you-might-not-need-rolepresentation/?ref=main-rss-feed"
  },
  {
    "publisherId": "piccalilli",
    "publisherName": "Andy Bell",
    "specTitle": "CSS/ÎîîÏûêÏù∏",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://piccalil.li/feed.xml",
    "title": "Personal website redesign project post: Base-level planning",
    "partialText": "<p>Right, by now you've (hopefully) <a href=\"https://piccalil.li/projects/personal-site/1/\">read the <em>why</em></a>, so let's start moving towards the <em>what</em>. Let's go right to the start of this first iteration to look at the planning that happened.</p>\n<p>I can't stress enough how even a modest amount of pre-thinking, sketching or even just making a checklist beats jumping into a code editor or design tool, regardless of whether you're doing a small ticket at work, building a personal site or even starting a whole client project. Sitting down and thinking <strong>away from the tools</strong> really helps you to consider what is actually important, what is a nice to have, how you measure improvement and importantly, what the process of iterations/cycles look like.</p>\n<p>For me ‚Äî who works obsessively in iterations ‚Äî I needed to work out what I would <strong>like</strong> the end goal to look like. With that, I can map out how I get there in sensible iterations. I <em>could</em> just start from zero and work up to the end goal, <em>then</em> publish my website. It's how I usually do it! The reason I want to work in iterations this time though is because I'm <em>determined</em> to have a solid, scalable <em>system</em> that I can tinker with as I please, long into the future, regardless of how my personal technology preferences change over time.</p>\n<p>With all of that in mind, my ideal endpoint is as follows:</p>\n<blockquote>\n<p>I want my website to be built out of much smaller pieces that culminate in a themeable, light design system where a future redesign is a simpler job of editing a single theme CSS file and switching out some creative assets.</p>\n</blockquote>\n<p>I'm in a lucky position with this project because we've achieved this not once, but twice in <a href=\"https://set.studio/\">the studio</a> already.</p>\n<p><img src=\"https://piccalil.b-cdn.net/images/projects/work-tle.jpg\" alt=\"A composition of selected elements from ‚ÄúThe Lost Estate‚Äù website, featuring bold typography, vintage-inspired illustrations, event details, customer reviews, and booking buttons. The design uses a dark theme with red and gold accents.\" title=\"The Lost Estate are a London based events company who we built a themeable design system for to enable them to spin up event sites that were really creative, but also consistent and performant.\" /></p>\n<p>Then of course there's this very website you're looking at! This whole thing is a themeable system which not only powers dark mode, but also the <a href=\"https://piccalil.li/blog/weve-implemented-full-brands-for-our-upcoming-courses/\">heavily customised course landing pages and courses themselves</a>.</p>\n<p>Anyway, let's get stuck into some planning.</p>\n<h2>Find the pain points and measure against them</h2>\n<p>This is the live version of the final state of my <em>old</em> <a href=\"https://web.archive.org/web/20260102205804/https://bell.bz/\">codebase on web archive</a>, because remember, <a href=\"https://piccalil.li/projects/personal-site/1/#the-format-and-how-this-series-works\">you're reading these articles in the past</a>. Anyway, that stack was:</p>\n<ol>\n<li>Headless WordPress for blog posts</li>\n<li>Notion database for the music collection</li>\n<li>Markdown-powered static pages</li>\n<li>Eleventy front-end</li>\n</ol>\n<p>The setup was not too heavy as far as setups generally go, but it was <em>riddled</em> with technical debt, regardless. A lot of that technical debt can be assigned to it being a personal website ‚Äî something I built quickly and maintained very infrequently. The codebase was also over 3 years old with the CSS and markup being nearly 5 years old, from when it was a full WordPress site. The source of the technical debt, very much pointed in two places for me though:</p>\n<p>One of the benefits of making good, or at least decent technology choices up front is the damage, even when <em>bad</em>, is never as bad as it <em>could</em> have been.</p>\n<ol>\n<li>The Notion-powered music collection had to go. The API is slow and working on the site locally was a nightmare (even with caching). I'm also in the process of \"de-Notioning\" everything.</li>\n<li>The WordPress system was wildly out of date and becoming cumbersome to work with in the admin areas, which meant I blogged a lot less than I could have.</li>\n</ol>\n<p>That's the main sources of technical debt identified, that are worth fixing up front.</p>\n<p>The WordPress one was easy, I just had to <em>update</em> as I was [gulp] several years out of date‚Ä¶</p>\n<p></p>\n<p>The Notion-powered system was also quite simple. I already have a pretty robust script I use for Piccalilli that pulls content from Notion, turns it into markdown with <a href=\"https://learneleventyfromscratch.com/lesson/4.html\">front matter</a>, then downloads any media assets to a relative, local destination. All I had to do was create a variant of that script, which resulted in <a href=\"https://github.com/Andy-set-studio/personal-site-eleventy/pull/2\">this big ol' pull request to migrate</a> the content.</p>\n<div><h2>FYI</h2>\n<p>I'm not going to go through the script in this series because frankly, it's irrelevant (and janky lol). We'll be getting into a <em>lot</em> more code stuff once this planning is out of the way though, so fret not.</p>\n</div>\n<p>The music collection is now markdown files which look like this:</p>\n<pre><code>---\ntitle: 'The Artist In The Ambulance'\nartist: 'Thrice'\ncover: '1768832680013-335.jpeg'\nformats: ['Vinyl']\ntags: ['Top 10']\npubDate: 2022-03-02T22:08:00.000Z\n---\n</code></pre>\n<p>Who amongst us doesn't manage their music collection at 10pm?</p>\n<p>I already know I'm doing a re-platforming, so I don't need to worry about the lower priority items of technical debt such as HTML, CSS and JavaScript I've sloshed around over the years, so let's now identify the other main issues I'm trying solve, now that I've managed to do a technical debt sweep.</p>\n<h3>The list to measure against</h3>\n<ol>\n<li>The homepage is underwhelming and doesn't communicate what I do well at all</li>\n<li>The codebase is difficult to maintain and I've carried over tech debt from multiple personal sites and half-baked ideas</li>\n<li>I don't feel the urge to maintain and look after the current site because I'm fundamentally not a fan of it anymore because it bores me</li>\n<li>The music collection should do more to help people discover music in the places they actually listen to music</li>\n<li>I know I can do much better in terms of look and feel than I have for the last few redesigns</li>\n</ol>\n<p>This list of issues can be used as a measuring stick as I work through the project because if I'm not fixing <em>these</em> issues at least, there's no point in even bothering, as I see it. This list is a useful canonical <em>anchor</em> too.</p>\n<p>The <em>anchor</em> is something to think back to when I'm going off pist√© a bit too much and a useful method of determining whether an idea is worth pursuing. If the idea puts any of the items on this list at risk in any way, it's not worth pursuing, which I imagine, will be touched on <em>a lot</em> as I add those <em>nice</em> touches and flourishes that I will undoubtedly take <em>too far</em> in the flair pass.</p>\n<p>The first and fifth issues of the list are actually tangibly related to each other. When I designed the now <em>old</em> version of the site you could sum that process up as \"I spend all day in iA writer so I might as well make my website look like that\". In short, I was <em>lazy</em> and crapped out the front-end in a couple of days. What I really need to be doing is more of a content strategy and look and feel strategy this time around.</p>\n<p>We've also partially tackled point two of the list, but like I said earlier, re-platforming (which we will get to, don't you worry) and re-building <em>properly</em> should sort the rest. In a similar vein, point three <em>should</em> be addressed by the <em>end</em> of this process.</p>\n<h2>Work out the core features</h2>\n<p>I know where I don't want to be and where I <em>want</em> to be at this point in the planning, so it makes sense to actually start working out the core features of the website to find a sensible, iterative route to the end.</p>\n<p>I ended up just making a list in markdown:</p>\n<p><img src=\"https://piccalil.b-cdn.net/images/projects/personal-site-core-features.jpg\" alt=\"An Obsidian markdown file called &quot;core features and iterations.&quot; It lists a development roadmap across four iterations, including tasks like &quot;basic shell version of the site,&quot; &quot;look and feel design,&quot; &quot;AT protocol integration,&quot; and &quot;last.fm integration.&quot;\" /></p>\n<p>This is the point I'm making: <em>any</em> planning is better than nothing. If I had just started coding and designing, I might well get to iteration four quicker, but the journey there would forever be in the first cycle in this diagram, I use every day, forever and always.</p>\n<p><img src=\"https://piccalil.b-cdn.net/images/projects/course-branding-iteration.svg\" alt=\"A dotted line that starts as a very scruffy, messy circle. Over the course of three more circles, it gets neater and neater until it‚Äôs nearly perfect. There's a &quot;we are here&quot; marker pointing at the messiest part\" title=\"The visual representation of how we do things at &lt;a href='https://set.studio/'&gt;Set Studio&lt;/a&gt; and my approach to building in general\" /></p>\n<p>Right, this feels like a good place to break off for this part one of planning. I know, I know, planning is <em>boring</em> but we're gonna be patting ourselves on the back, later in the project, I just <em>know it</em>.</p>\n<p>Let's do some more tangible sketching-based planning, technology-based planning and a touch of auditing in the next one. <em>Then</em> we can open our code editor.</p>",
    "date": "2026-02-11T13:55:00.000Z",
    "url": "https://piccalil.li/projects/personal-site/2/?ref=main-rss-feed"
  },
  {
    "publisherId": "piccalilli",
    "publisherName": "Andy Bell",
    "specTitle": "CSS/ÎîîÏûêÏù∏",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://piccalil.li/feed.xml",
    "title": "The Index: Issue #163",
    "partialText": "<p>Well hello fine <em>The Index</em> readers. I'm <a href=\"https://piccalil.li/author/scott-riley/\">Scott Riley</a> and I'm delighted to guest curate this week's issue, where (so I am told) we bring you several absolute banger links for your ‚Äî I am sure, finely pruned ‚Äî reading list.</p>\n<p>In case you <a href=\"https://scott.is\">don't know me</a> (and seriously, why would you?) I am predominantly a designer, so we've got a bit more of a design-centric twist this week.</p>\n<p>Thanks for having me!</p>\n<h2><a href=\"https://tools.rmv.fyi/?utm_source=the-index&amp;utm_medium=newsletter\">Delphi Tools</a></h2>\n<p>Starting off with a wonderful suite of disparate, hand-crafted, single-(or very-limited-)purpose tools from the fabulous Ruby Morgan Voigt. These are straight-to-the-point, super simple, and convenient. We've got stuff like image cropping, colour palette and gradient generators, typography tools, a regex tester. All beautiful. None hidden behind login-walls or newsletter signups. All running locally in the browser like how things should be too.</p>\n<h2><a href=\"https://nerdy.dev/nice-select?utm_source=the-index&amp;utm_medium=newsletter\">Nice Select</a></h2>\n<p>Custom select styling is (while still definitely a bit janky) one of my favourite features of modern CSS. Seeing example after example of absolute hell-code creating inconsistent, inaccessible messes in the name of <em>[checks notes]</em> making the clicky rectangle more round and shadowy has, much like every CEO, been a persistent annoyance throughout my career.</p>\n<p>In this fantastic deep-dive, Adam Argyle shows us how we can make the clicky rectangles more round and shadowy <em>without</em> absolutely bastardising our markup in the name of modern visuals.</p>\n<h2><a href=\"https://productpicnic.beehiiv.com/p/vibe-prototyping-isn-t-solving-any-problems-but-it-s-creating-many-new-ones?utm_source=the-index&amp;utm_medium=newsletter\">Vibe prototyping isn't solving any problems. But it's creating many new ones</a></h2>\n<p>The indelible, inimitable Pavel Samsonov produces yet another banger in an ongoing series of bangers. Product Picnic contains some of the most insightful, eloquent, and thought-provoking words you could ever do yourself the favour of smushing into your brain.</p>\n<p>This is one of my favourite issues from recent weeks, and it dives into what a good environment for design should look like, and how AI prototypes often work to the detriment of that. The 'irresistible bait', as Pavel puts it, of vibe-coded prototypes ‚Äî something that I'm sure many of us have witnessed ensnare folks who we once thought of as serious and scrupulous humans ‚Äî is having a real impact on how well we can maintain systems and environments where professional work is respected.</p>\n<h2><a href=\"https://www.npr.org/2026/02/03/nx-s1-5683302/autism-101-misinformation-trump?utm_source=the-index&amp;utm_medium=newsletter\">Autism: myth-busting and what scientists still don't know</a></h2>\n<p>Shocker here: the US Government is full of shit. Amongst the many, many examples of that gang of shrimp-brained shills slapping the presidential seal on a massive sack-load of misinformation, the 'misunderstanding autism as a personal brand' thing comes up time and time again. D*n*ld Tr*mp audio clip jump-scare and Extraordinarily American Speaking Disorder‚Ñ¢ aside, this is a good listen from NPR, provided you can get over the liberal throwing-around of <em>interneuron</em>.</p>\n<h2><a href=\"https://www.youtube.com/watch?v=Uif5XmYF7_k?utm_source=the-index&amp;utm_medium=newsletter\">Your weekly medicine</a></h2>\n<p>Hey babe are you okay? You've barely touched your YOB - <em>Adrift in the Ocean - Woods Stage @Pickathon 2019</em>, the greatest live performance in the history of heavy music.</p>\n        \n        <h2>Sponsor message</h2><a href=\"https://piccalil.li/mindful-design?utm_medium=author-promo\"><img src=\"https://piccalil.b-cdn.net/images/ads/md-ad-newsletter-post-launch.jpg\" alt=\"Mindful Design, learn to design for real humans. Available now!\" /></a><p><strong>Scott Riley is the author of the Mindful Design video course.</strong></p>\n<p>Combining modern positive psychology and industry-leading design practices, Scott will teach you to really understand how humans work and explore problem spaces with empathy, curiosity, and accountability to push your overall design skills beyond the next level.</p>\n<p><strong>Save 20% just by using the code <code>SCOTTSARTICLE</code> at checkout.</strong></p>\n<p><a href=\"https://piccalil.li/mindful-design?utm_medium=author-promo\">Check it out</a></p>",
    "date": "2026-02-11T11:55:00.000Z",
    "url": "https://piccalil.li/the-index/163/?ref=main-rss-feed"
  },
  {
    "publisherId": "piccalilli",
    "publisherName": "Andy Bell",
    "specTitle": "CSS/ÎîîÏûêÏù∏",
    "categories": [
      "frontend"
    ],
    "specUrl": "https://piccalil.li/feed.xml",
    "title": "It‚Äôs about to get a lot easier for your JavaScript to clean up after itself",
    "partialText": "<p>According to <a href=\"https://slate.com/life/2012/06/chaos-theory.html\">the grand unified theory of Muppet types</a>, there are two types of JavaScript developer: Chaos Muppets and Order Muppets.</p>\n<p>Now, my essential nature is that of a Chaos Muppet. I was born under the \"cookies in bed\" sign (\"fish boomerang\" rising). Had I any musical talent, I like to think I'd be more Doctor Teeth than Rowlf; a host more Gonzo than Kermit. This is perhaps best exemplified by the fact that I'm talking about <em>The Muppets</em> in an article about proposed JavaScript standards.</p>\n<p>When it comes to JavaScript itself, though, I tell you, I'm as buttoned-up as they come ‚Äî bordering on <em>fussy</em>, even. I use <code>const</code> by default, and reserve <code>let</code> for the relatively rare exception when I <em>know</em> the value bound to a variable will need to change; I will brook none of this \"change a binding <em>whenever</em>\" nonsense. What is this, <em>jazz</em>? I am <em>meticulous</em> about scope and tidying up ‚Äî freeing resources, closing connections, and so on ‚Äî despite the absolutely staggering number of utensils I manage to <em>bork-bork-bork</em> across the kitchen and into the sink during the course of preparing a real-world meal. Something just comes over me when it comes to JavaScript; I get real \"<em>you are all weirdos,</em>\" all of a sudden.</p>\n<p>Those uncharacteristic orderly JavaScript proclivities are the reason my heart sings (on-key, and at a volume that is respectful to its neighboring organs) to see the ongoing work on the <a href=\"https://github.com/tc39/proposal-explicit-resource-management\">explicit resource management proposal</a>. This proposal not only gives us a few new ways to put our objects away when we're done playing with them, but it codifies some of the ones we already have. To start with, it gives a name to a concept we may already be using today ‚Äî one that has always resonated at my exact fussiness frequency. You may not know it by name yet, but you'll likely be familiar with the principle of <strong>implicit resource management</strong> if you've ever used a WeakSet or WeakMap.</p>\n<h2>Implicit resource management</h2>\n<p>The ‚Äúweak‚Äù in WeakSet and WeakMap means that their values are ‚Äúweakly held,‚Äù and that means that those data structures won‚Äôt prevent the values they reference from being garbage-collected ‚Äî removed from memory, once those values aren't needed for anything. Accordingly, a WeakSet or WeakMap can <em>only</em> contain garbage-collectable values ‚Äî references to objects and Symbols that haven‚Äôt been added to the global Symbol registry. Trying to add any value other than an object reference or unregistered Symbol will result in an error:</p>\n<p>&lt;ConsoleLogger\nshowLineNumbers={false}\ncode={<code>const theWeakSet = new WeakSet( [ true ] );</code>}\nlanguage=\"js\"\noutputType=\"error\"\nconsoleOutput={<code>Uncaught TypeError: WeakSet value true must be an object or an unregistered symbol</code>}&gt;\n</p>\n<p>Once no <em>other</em> references to an object or Symbol referenced by a WeakSet exist, not only is that value eligible for garbage collection, but the weakly-held references within the WeakSet are eligible for removal. If that use case sounds pretty niche, well, that's because it is: you'd use a WeakSet when you need a single collection that can keep track of unique reference values, you don‚Äôt want to prevent the referenced values from being garbage collected if nothing else in your script is using them, and you don‚Äôt want them included in that collection anymore once that happens. That's pretty specific stuff.</p>\n<p>The same is true of the keys used in a WeakMap: they can be either an object reference or unregistered Symbol value. Once no <em>other</em> references to that object or Symbol exist, they become eligible for garbage collection, and the property using that key becomes eligible for removal from the WeakMap. With a WeakMap, you can associate arbitrary values with an object without including those values <em>in</em> the object, and without preventing those objects from being garbage-collected:</p>\n<p>&lt;ConsoleLogger\nshowLineNumbers={false}\ncode={`\nconst theObject = {};\nconst theWeakMap = new WeakMap([\n[ theObject, \"A string, say, describing the object.\" ]\n]);</p>\n<p>console.log( theWeakMap.get( theObject ) );\n<code>} language=\"js\" outputType=\"log\" consoleOutput={</code>\nA string, say, describing the object.\n`}&gt;\n</p>\n<p>Look at that ‚Äî JavaScript that cleans up after itself! Still a pretty niche use case, but how satisfying; how <em>tidy</em>, how <em>orderly</em>! Frankly, I wish I got to use it more.</p>\n\n<p>Granted, we don‚Äôt know if or when <code>theObject</code> <em>will</em> get garbage collected in the previous example. We know that the values in a WeakSet and properties in a WeakMap <em>can</em> be garbage collected when no other references to those values or keys exist, but we can't know when it <em>will</em> be garbage collected, and thus actually removed from the WeakSet or WeakMap.</p>\n<p>In fact, the previous code snippet isn't quite telling you the whole story ‚Äî if you were to follow that thread a little further, you might find that the WeakMap still contains the string we defined even when no other references to <code>theObject</code> exist:</p>\n<pre><code>let theObject = {};\nconst theWeakMap = new WeakMap([\n  [ theObject, \"A string, say, describing the object.\" ]\n]);\n\nconsole.log( theWeakMap.get( theObject ) );\n// Result: \"A string, say, describing the object.\"\n\ntheObject = true;\n\nconsole.log( theWeakMap );\n// Result: WeakMap { {} ‚Üí \"A string, say, describing the object.\" }\n</code></pre>\n<p>No matter how order-inclined <em>we</em> are, JavaScript itself will always be a little chaotic. The downside of letting JavaScript do its own memory management is that we don't have much say in the process ‚Äî the upside is that we don't <em>have to</em>.</p>\n\n<p>Now, as you would rightfully expect, the \"explicit resource management\" proposal includes more than giving a name to the implicit resource management we're already able to do. It introduces a unified method ‚Äî tired old \"method\" pun intentional ‚Äî for <em>explicitly</em> managing resources, and an addition to the language the likes of which we haven't seen since 2015.</p>\n<p></p>\n<h2>Explicit resource management</h2>\n<p><strong>Explicit resource management</strong> isn't about managing memory <em>directly</em> ‚Äî garbage collection is still JavaScript's problem, not ours. Explicit resource management is about cleaning up after ourselves. This part of the proposal allows us to dictate ‚Äî either imperatively or declaratively ‚Äî that a set of actions we've defined should be taken once the end state of a <strong>resource</strong> (an object with a knowable \"done\" state) has been reached.</p>\n<p>I know that sounds like a pretty opaque use case in print, but <em>conceptually</em>, this isn't anything new. We already have a model for a resource with a knowable end state, in the form of generator objects:</p>\n<pre><code>function * generatorFunction() {\n  yield true;\n  yield false;\n};\nconst generatorObject = generatorFunction();\n\nconsole.log( generatorObject.next() );\n// Result: Object { value: true, done: false }\n\nconsole.log( generatorObject.next() );\n// Result: Object { value: false, done: false }\n\nconsole.log( generatorObject.next() );\n// Result: Object { value: undefined, done: true }\n</code></pre>\n<p>The value of that <code>done</code> property is <code>true</code> only when a call to <code>next()</code> results in an attempt to access an element beyond the final value it yields ‚Äî the object has reached the end of its <strong>lifetime</strong>.</p>\n<p>If you call the <code>return()</code> method on that object prior to its natural conclusion, you can end the generator object early:</p>\n<pre><code>function * generatorFunction() {\n  yield true;\n  yield false;\n};\nconst generatorObject = generatorFunction();\n\nconsole.log( generatorObject.next() );\n// Result: Object { value: true, done: false }\n\nconsole.log( generatorObject.return() );\n// Result: Object { value: undefined, done: true }\n</code></pre>\n<p>And by using <code>try ‚Ä¶ finally</code> within our generator function, we can specify code to be executed at the end of the generator object's lifetime, whether that happens naturally:</p>\n<pre><code>function * generatorFunction() {\n  try {\n  yield true;\n  yield false;\n  } finally {\n    console.log( \"All done.\" );\n  }\n};\nconst generatorObject = generatorFunction();\n\nconsole.log( generatorObject.next() );\n// Result: Object { value: true, done: false }\n\nconsole.log( generatorObject.next() );\n// Result: Object { value: false, done: false }\n\nconsole.log( generatorObject.next() );\n/* Result:\nAll done.\nObject { value: undefined, done: true }\n*/\n</code></pre>\n<p>...Or by concluding it via <code>return()</code>:</p>\n<pre><code>function * generatorFunction() {\n  try {\n  yield true;\n  yield false;\n  } finally {\n    console.log( \"All done.\" );\n  }\n};\nconst generatorObject = generatorFunction();\n\nconsole.log( generatorObject.next() );\n// Result: Object { value: true, done: false }\n\nconsole.log( generatorObject.return() );\n/* Result:\nAll done.\nObject { value: undefined, done: true }\n*/\n</code></pre>\n<p>Calling <code>return()</code> on a generator object is an <strong>imperative</strong> approach to resource management ‚Äî saying \"now, do the following and shut it down, JavaScript\" in no uncertain terms. Closing connections to WebSockets by calling <code>close()</code>, stopping requests for files with <code>abort()</code>, and de-registering an IntersectionObserver with <code>disconnect()</code> are all examples of imperative resource management.</p>\n<p>As you can see, the syntaxes for doing so are ‚Äî in strict technical terms ‚Äî <em>all over the shop</em>. Countless methods with inconsistent names dedicated to the exceptionally common task of \"close it down and clean it up,\" and just like that, my Order Muppet hackles are up. We've got a <em>show</em> to put on here, people; we're on a <em>schedule</em>. <em>Can we get all those chickens off the stage, please, Gilda Radner is on in thirty seconds</em>.</p>\n<p>To solve this problem, the explicit resource management proposal standardizes a <code>[Symbol.dispose]</code> cleanup method as a wrapper for iterators' <code>return()</code> method:</p>\n<pre><code>function * generatorFunction() {\n  try {\n  yield true;\n  yield false;\n  } finally {\n  console.log( \"All done.\" );\n  }\n};\nconst generatorObject = generatorFunction();\n\nconsole.log( generatorObject.next() );\n// Result: Object { value: true, done: false }\n\nconsole.log( generatorObject[Symbol.dispose]() );\n// Result: All done.\n</code></pre>\n<p>That's not a big change in this one context, but the greater implication is huge: introducing <code>[Symbol.dispose]()</code> provides us with an orderly, predictable syntax for imperative resource management with <a href=\"https://github.com/tc39/proposal-explicit-resource-management?tab=readme-ov-file#relation-to-dom-apis\"><em>any</em> API</a> that might require cleanup. Closing a file, socket, stream, <em>whatever</em>? Call <code>[Symbol.dispose]()</code> on the resource in question, and <em>that</em> can invoke the cleanup method specific to that resource. Listen, I like an Animal drum solo as much as the next person, but when it comes to JavaScript, I'll take predictability every time.</p>\n<p></p>\n<p>Now, as exciting as that is ‚Äî for very specific values of the word \"exciting,\" granted ‚Äî that new predictability paves the way for an far bigger addition to the language. See, when you're taking an imperative approach to explicit resource management, it's still on <em>you</em> to call <code>[Symbol.dispose]()</code> (or <code>return()</code>) to do that cleanup ‚Äî and once you've left the scope where references to your resource exist, well, there are no take-backs:</p>\n<pre><code>{\n  function * generatorFunction() {\n  console.log( \"Open a file.\" );\n  try {\n    yield true;\n    yield false;\n  } finally {\n    console.log( \"Close the file you still have open.\" );\n  }\n  };\n  const generatorObject = generatorFunction();\n\n  console.log( generatorObject.next() );\n  /* Result:\n  Open a file.\n  Object { value: true, done: false }\n  */\n};\n\nconsole.log( generatorObject[Symbol.dispose]() );\n// Uncaught ReferenceError: generatorObject is not defined\n</code></pre>\n\n<p>Ugh, I should've put a warning on this snippet. Avert your eyes, Order Muppets!</p>\n\n<p>Implicit resource management is JavaScript's problem, but explicit resource management is ours. Node <a href=\"https://nodejs.org/api/fs.html#class-filehandle\">might make an attempt at closing this file for us</a>, but it doesn't make any promises, either. If this were a WebSocket connection, it would stay open, and a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Streams_API\">Web Worker Stream</a> would remain locked. At best, leaving a resource open this way would be a completely unnecessary resource drain; at worse, a source of future errors in our code.</p>\n<p>So, with the predictability of a consistent <code>[Symbol.dispose]</code> method comes an opportunity for a <strong>declarative</strong> approach to explicit resource management, rather than an imperative one. Since we can predictably call <code>[Symbol.dispose]()</code> to say \"JavaScript, strike the stage for the next number\" no matter what kind of resource we might end working with, it means there's a go-to way for JavaScript to clean up after itself, so long as we give it a nudge in the right direction.</p>\n<h2><code>using</code></h2>\n<p>The explicit resource management proposal includes an addition to the language that we've only seen happen once before, in 2015: a new approach to declaring variables.</p>\n<p>A variable declared with the keyword <code>using</code> is block-scoped, like <code>const</code> and <code>let</code> ‚Äî like <code>const</code>, the value of a variable declared with <code>using</code> cannot be reassigned. There are no big surprises in terms of the declaration syntax, either ‚Äî at least, at the surface level:</p>\n<pre><code>{\n  using theVariable = null;\n\n  console.log( theVariable );\n  // Result: null\n};\n</code></pre>\n<p>The difference is that <code>using</code> declares a disposable resource that's <em>tied to the lifetime of the variable's scope</em>. When the variable is first declared, a <strong>disposer</strong> is retrieved from the object ‚Äî the value of the <code>[Symbol.dispose]</code> property. That disposer is saved to the variable's scope. Once execution exits the scope where that variable is defined, the disposer is called on the object it references:</p>\n<p>&lt;ConsoleLogger\nshowLineNumbers={false}\ncode={<code>{   using theObject = {     [Symbol.dispose]() {       console.log( \"All done.\" );     }   };   // About to leave the scope where    // theObject is defined, annnd... };</code>}\nlanguage=\"js\"\noutputType=\"log\"\nconsoleOutput={<code>All done.</code>}&gt;\n</p>\n<p>It's important to keep in mind that <code>using</code> isn't \"cool new <code>const</code> that <em>can</em> call <code>[Symbol.dispose]()</code>.\" The value associated with a variable declared with <code>using</code> can be any any legal expression, but that expression has to result in a value that's <code>null</code>, <code>undefined</code>, or an object with a <code>[Symbol.dispose]()</code> method ‚Äî it serves a very specific purpose, and can only be used for said purpose:</p>\n<p>&lt;ConsoleLogger\nshowLineNumbers={false}\ncode={<code>{   using theObject = {}; };</code>}\nlanguage=\"js\"\noutputType=\"error\"\nconsoleOutput={<code>Uncaught TypeError: 'Symbol.dispose' property is not callable</code>}&gt;\n</p>\n<p>You can also <em>only</em> use <code>using</code> in context of block scope (a block statement, function body, static initialization block, or as the initializer in the header of a <code>for</code>, <code>for ‚Ä¶ of</code>, or <code>for await ‚Ä¶ of</code> loop) or module scope:</p>\n<p>&lt;ConsoleLogger\nshowLineNumbers={false}\ncode={<code>using theVariable = null;</code>}\nlanguage=\"js\"\noutputType=\"error\"\nconsoleOutput={<code>Uncaught SyntaxError: 'using' is only allowed in block statements or inside a module</code>}&gt;\n</p>\n<p>Otherwise, <code>using</code> without an enclosing scope would would never end up calling <code>[Symbol.dispose]()</code>, so there would be no point.</p>\n<p>So, knowing all this: remember our generator function that left a file wide open, as though it were <em>raised in a barn</em>? If we were to declare <code>generatorObject</code> variable with <code>using</code> rather than <code>const</code>, <code>[Symbol.dispose]()</code> ‚Äî and so, ultimately, <code>return()</code> ‚Äî would be called the moment our variable went out of scope:</p>\n<p>&lt;ConsoleLogger\nshowLineNumbers={false}\ncode={`\n{\nfunction * generatorFunction() {\nconsole.log( \"Open a file.\" );</p>\n<pre><code>try {\n  yield true;\n  yield false;\n} finally {\n  console.log( \"Close the file.\" );\n}\n</code></pre>\n<p>};</p>\n<p>using generatorObject = generatorFunction();</p>\n<p>console.log( generatorObject.next() );\n};\n<code>} language=\"js\" outputType=\"log\" consoleOutput={</code>\nOpen a file.\nObject { value: true, done: false }\nClose the file.\n`}&gt;\n</p>\n<p>Oh-ho-ho, we're <a href=\"https://www.youtube.com/watch?v=VDJsgtoizj8\">doing the pigeon</a> now! There's nothing stopping us from calling <code>[Symbol.dispose]()</code> (or <code>return()</code>) manually, should we need to, of course; it's not like that method is going away), but we don't <em>have</em> to ‚Äî we've packaged our generator object up in such a way as to know, with certainty, that everything will be tidied up as soon as that variable isn't needed anymore.</p>\n<p>If we were writing a class that needed to clean up after itself once an instance went out of scope? Easy-peasy; we can just write our own disposer that does everything we need it to do:</p>\n<p>&lt;ConsoleLogger\nshowLineNumbers={false}\ncode={<code> class TheClass {   theFile;   constructor( theFile ) {     this.theFile = theFile;     console.log( ${'\\</code>Open ${ theFile }`'} );\n}</p>\n<p><a>Symbol.dispose</a> {\nconsole.log( ${'`Close ${ this.theFile }`'} );\n}\n};</p>\n<p>const theFile = \"./some-file\";</p>\n<p>if( theFile ) {\nusing fileOpener = new TheClass( theFile );</p>\n<p>console.log( ${'`Do things with the instance of ${ fileOpener.constructor.name }, then...`'} );\n};\n<code>} language=\"js\" outputType=\"log\" consoleOutput={</code>\nOpen ./some-file\nDo things with the instance of TheClass, then...\nClose ./some-file\n`}&gt;\n</p>\n<p>No fuss, no muss, and hopefully no more resources trapped forever in limbo, once this proposal lands ‚Äî and in most browsers it <a href=\"https://caniuse.com/mdn-javascript_builtins_symbol_dispose\">already has</a>. The proposal has reached stage three of the standards process, meaning \"recommended for implementation‚Äù ‚Äî and it has been. Everything you've seen here will work in every major browser but Safari. Granted, this <em>is</em> still a proposal, on paper. I would be remiss in my duties as a rules-following JavaScript Order Muppet if I didn't mention that some of the syntaxes we‚Äôve covered here <em>could</em> change between now and landing in the ECMAScript specification proper. After all, pre-standardization browser implementations of features like this one or <a href=\"https://piccalil.li/blog/date-is-out-and-temporal-is-in/\">Temporal</a> exist to further refine specifications after we developers have tried them out in a few real-world situations.</p>\n<p>So, go on ‚Äî it's time to get things started. Try it out for yourself. It may not have <em>formally</em> landed yet, but hey, we can flout the specification a little bit, just this once. We don't <em>always</em> have to follow <em>all</em> the rules, right?</p>\n<p>Just, maybe not in production.</p>\n<p>Let's not get carried away here. <em>Weirdos</em>.</p>\n<hr />\n<p>Thanks to our very special guest star <a href=\"https://fosstodon.org/@rbuckton\">Ron Buckton</a>, both for reviewing this post and for championing the Explicit Resource Management proposal itself!</p>",
    "date": "2026-02-10T11:55:00.000Z",
    "url": "https://piccalil.li/blog/its-about-to-get-a-lot-easier-for-your-javascript-to-clean-up-after-itself/?ref=main-rss-feed"
  }
]